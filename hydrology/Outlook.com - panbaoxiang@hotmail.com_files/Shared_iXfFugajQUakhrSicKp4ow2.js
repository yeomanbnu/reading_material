function ic_showBar(n){try{var i=n+"_bar",t=_ge(i);t&&(t.style.visibility="inherit")}catch(r){}}function ic_onTE(n){var i,t;try{i=n.getAttribute("errsrc")||$icerrsrc,n.src!=i&&(n.className="c_ic_tile",t=n.style,t.top=t.left=t.height=t.width="",setTimeout(function(){n.src=i,n.style.visibility=""},0))}catch(r){}}function ic_onTL(n){var t,i,e,f,r,o,u;try{if(e=0,n.className="c_ic_tile",n.naturalHeight?(t=n.naturalWidth,i=n.naturalHeight):(f=new Image,f.src=n.src,t=f.width,i=f.height),r=window.getComputedStyle?window.getComputedStyle(n,""):n.currentStyle,t==1&&i==1||r&&r.width=="1px"&&r.height=="1px"){ic_onTE(n);return}if(o=Math.round,t&&i&&t!=i&&r)if(u=n.style,t>i){var s=parseInt(r.height),h=parseInt(r.width),c=o(t*(s/i));e=-o((c-h)/2),u.left=e+"px",u.maxWidth="none",u.width="auto"}else u.maxHeight="none",u.height="auto";n.style.visibility=""}catch(l){}}var files,x;if(window.originaljQuery=window.jQuery,function(){function s(n){var t,f,i,r,e,u;try{t="[callback object]",r=window.ol||{},r.instrumentationUtils?(e=r.instrumentationUtils.filterOutCircularReferences(n),t=JSON.stringify(n),e()):n.toString&&(t=n.toString()),i="Callback is not a function: "+t;try{u=new Error(i),u.stack&&(f=u.stack)}catch(o){}Qos.instrumentException({message:i,stack:f||"",isUnhandled:!0})}catch(o){}}function r(n,t,i){var r;n=n||{};var e=t?l:null,v=t?f:null,s=null,a=(new Date).getTime();n.startTime=n.startTime||a,n.endTime=n.endTime||a,i&&i.stack&&(e=i.code||(n.isLogged?c:h),r=i.message||i.description||(i.toString?i.toString():""),r.indexOf(u)==-1?(Qos.displayErrorCallback&&Qos.displayErrorCallback(i),n.id=n.id||o,n.asyncOperations=0,i.message=i.description=u+r,s=i.stack):i=null),n.id&&(!n.isLogged||i)&&(n.isLogged=!0,Qos.log(n.id,null,n.startTime,e,v,s,n.endTime))}var u="QOS issue: ",h="UnhandledException",c="UnhandledAsyncException",l="UnhandledChildException",f="c",e=1,t={},o="",a="",n=[],i=!1,v=!!(window.$Config&&$Config.isQosEnabled);window.Qos={responseType:{success:"s",expected:"c",unexpected:"f"},isEnabled:v,instrument:function(t,r){return r&&typeof r.apply!="function"&&(s(r),r=null),function(){var u;if(t&&n.push(t),i)r&&typeof r.apply=="function"&&(u=r.apply(this,arguments));else try{r&&(typeof r.apply=="function"?(i=!0,u=r.apply(this,arguments)):s(r))}catch(f){Qos.instrumentException(f)}finally{i=!1}return t&&Qos.end(),u}},onUnhandledError:function(n,t,i){if(i=i||"",n&&t){var u=" ("+t+")",r=i.indexOf("\n");i=r!==-1?i.substring(0,r)+u+i.substring(r):i+u,i=n+"\nat "+i,Qos.instrumentException({message:n,stack:i,isUnhandled:!0})}},clearLogs:function(){var n=t;return e=1,t={},n},createContext:function(n){var t=null;return n&&(t={id:n,startTime:(new Date).getTime()}),t},start:function(t){n.push(Qos.createContext(t))},end:function(){r(n.pop())},getContext:function(){return n.length?n[n.length-1]:null},instrumentException:function(t){if(t){if(!!t.stack)for(r(n.pop(),!1,t);n.length;)r(n.pop(),!0);if(!t.isUnhandled)throw t;}},log:function(n,i,r,u,o,s,h){n&&Qos.isEnabled&&(!s||o==f||Qos.displayErrorCallback&&Qos.displayErrorCallback({stack:s}),h=h||(new Date).getTime(),t[e++]={id:n,partnerId:i,startTime:r||h,errorCode:u,errorType:o,stack:s,endTime:h})},displayErrorCallback:function(){},registerDefaultErrorId:function(n){o=n},registerQosOnLogErrorId:function(n){a=n}},Qos.clearLogs()}(),function(){function r(n){return n.__qosId||(n.__qosId=String(e++)),n.__qosId}function h(){return arguments[0]&&typeof arguments[0]=="function"&&(arguments[0]=Qos.instrument(Qos.getContext(),arguments[0])),o.apply(this,arguments)}function c(){return arguments[0]&&typeof arguments[0]=="function"&&(arguments[0]=Qos.instrument(Qos.getContext(),arguments[0])),s.apply(this,arguments)}function u(n){return function(t,u){if(arguments.length>=2&&!!u){var f=t+r(u),e=i[f]=Qos.instrument(null,u);arguments[1]=e}return n.apply(this,arguments)}}function f(n){return function(t,u){if(arguments.length>=2&&!!u){var f=t+r(u),e=i[f];e&&(arguments[1]=e,delete i[f])}return n.apply(this,arguments)}}var e=1,i={},o=setTimeout,s=setInterval,n,t;if(Qos.isEnabled){try{setTimeout=h,setInterval=c}catch(l){}window.Node&&window.Node.prototype&&window.Node.prototype.addEventListener&&window.Window&&(n=window.Node.prototype,t=Window.prototype,n.addEventListener=u(n.addEventListener),n.removeEventListener=f(n.removeEventListener),t.addEventListener=u(t.addEventListener),t.removeEventListener=f(t.removeEventListener))}}(),function(){function t(){for(var u,f,i,s,e,t,r=0,o=arguments.length;r<o;r++)for(u=this,f=arguments[r].split("."),i=0,s=f.length;i<s;i++)e=f[i],t=u[e],t||(t=u[e]={}),t.__namespace||(i===0&&arguments[r]!=="Sys"&&(n.Sys.__rootNamespaces[Sys.__rootNamespaces.length]=t),t.__namespace=!0,t.__typeName=f.slice(0,i+1).join("."),t.getName=function(){return this.__typeName}),u=t;return u}var n=window;n.registerNamespace=t,t("Sys"),n.Sys.__rootNamespaces||(n.Sys.__rootNamespaces=[n.Sys])}(),function(){var r=window,n=r.Object,t=typeof JSON!="undefined",i;n.isString||(n.isString=function(n){return typeof n=="string"||n&&n.constructor===String}),n.isArray||(n.isArray=function(n){return n&&Object.prototype.toString.call(n)==="[object Array]"}),n.isFunction||(n.isFunction=function(n){return typeof n=="function"}),n.isObject||(n.isObject=function(n){return n&&typeof n=="object"}),n.isBoolean||(n.isBoolean=function(n){return typeof n=="boolean"||n&&n.constructor===Boolean}),n.isNumber||(n.isNumber=function(n){return typeof n=="number"||n&&n.constructor===Number}),n.isNull||(n.isNull=function(n){return null==n||undefined==n}),n.fromJSON||(n.fromJSON=function(text){try{if(t&&JSON.parse)return JSON.parse(text);if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+text+")")}catch(e){}return null}),n.toJSON||(n.toJSON=function(i,r,u,f,e){var s,c,o,h,l;if(i==="")return"";if(e&&typeof i=="string")return i;if(t&&JSON.stringify){s="";try{s=JSON.stringify(i,r,u)}catch(a){if(f)s="Object could not be serialized to JSON.";else throw a;}return s}if(c=n.toJSON,o="null",!n.isNull(i))if(n.isArray(i)){for(o=[],h=0;h<i.length;h++)o.push(c(i[h]));o="["+o.join(",")+"]"}else if(n.isObject(i)){o=[];for(l in i)o.push('"'+l.encodeJson()+'":'+c(i[l]));o="{"+o.join(",")+"}"}else n.isString(i)?o='"'+i.encodeJson()+'"':n.isFunction(i)||(o=i.toString());return o}),t?JSON.parse&&(i=JSON.parse,JSON.parse=function(n){try{return i.apply(JSON,[n])}catch(t){t.message=t.message+"\ninputScript: "+n+" at "+t.stack;throw t;}}):window.JSON={parse:n.fromJSON,stringify:n.toJSON}}(),function(){function r(n,t){for(var u=n.split("."),i=t,r=0;r<u.length;r++)if(i=i[u[r]],typeof i=="undefined")return null;return i}function a(n,i,r){var f=r.s===i,u,e,o;return f||(i=i||0,u=n.charCodeAt(i),r.s=-1,u<55296||u>57343?r.c=u:u<=56319?(e=u,o=n.charCodeAt(i+1),r.c=(e-55296)*1024+(o-56320)+65536,r.s=i+1):(r.c=-1,f=!0)),!f}var u=window,t=u.Debug,n=u.String.prototype,f,e,o,s,h;n.endsWith=function(n){return this.substr(this.length-n.length)==n},n.startsWith=function(n){return this.substr(0,n.length)==n},n.lTrim=function(){return this.replace(/^\s*/,"")},n.rTrim=function(){return this.replace(/\s*$/,"")},n.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var c=/\{\d+\}/g,l=/\{[a-z|A-Z|\.|\$|\:]+\}/g,i=/[\{\}]/g;n.format=function(){function r(r){var u=n[r.replace(i,"")];return u==null&&(u=""),u}var n=arguments;return this.replace(c,r)},n.itemFormat=function(n,u,f){function e(e){var a=e.replace(i,""),h,o=a.split(":"),s="",l=r(o[0],n),c;return l!=null?s=l:(c=r(o[0],u),c!=null&&(s=c.apply(this,f))),o.length==2&&(h=r(o[1],u)),h?h(s):s}return u=u||{},f=f||[],this.replace(l,e)},f=/[^\w.,-]/g,n.encodeXmlAttribute=n.encodeHtmlAttribute=function(){return this.replace(f,function(n){return["&#",n.charCodeAt(0),";"].join("")})},e=/[^\w .,-]/g,n.encodeXml=n.encodeHtml=function(){var n={c:0,s:-1};return this.replace(e,function(t,i,r){return a(r,i,n)?["&#",n.c,";"].join(""):""})},o=/[^\w.%-]/g,n.encodeURIComponent=n.encodeUrl=function(){return encodeURIComponent(this).replace(o,function(n){var t=n.charCodeAt(0).toString(16);return"%"+(t.length==1?"0"+t:t).toUpperCase()})},s=/[^\w .,-]/g,n.encodeJson=function(){return this.replace(s,function(n){var t=n.charCodeAt(0).toString(16),i=new Array(5-t.length).join("0");return"\\u"+i+t.toUpperCase()})},n.decodeURIComponent=n.decodeUrl=function(){return decodeURIComponent(this)},h=/([\\\.\{\}\(\)\[\]\/\+\*\?\|\^\$])/gi,n.escapeRegex=function(n){return(arguments.length==0?this:n).replace(h,"\\$1")}}(),function(){var t=window,f=t.Debug,r,n,u,i;r=t.wLive?t.wLive:t.wLive={},r.Core={},r.Controls={},n=t.$Config,n.handlerBaseUrl=n.handlerBaseUrl||"",n.sd||(u=document.domain,i=u.split("."),n.sd=i.length===1?"":"."+i[i.length-2]+".com"),n.mkt=n.mkt||"na",n.prop=n.prop||"X",typeof window.SymRealWinOpen!="undefined"&&(window.open=window.SymRealWinOpen)}(window.originaljQuery||jQuery),function(){var n=window,t=n.wLive;t.truncateEllipsis=function(n,t){return t=Math.max(parseInt(t,10)||1e5,4),n?n.length>t?n.substring(0,t-3)+"...":n:""}}(),function(){function u(n,t){var r,i,f;for(r in t)i=n[r],f=t[r],f.constructor==Array?(i&&i.constructor==Array||(i=n[r]=[]),u(i,f)):typeof f=="object"?(typeof i!="object"&&(i=n[r]={}),u(i,f)):n[r]=f}function o(t,i){for(var u,r=0;r<t.length;r++)n.eval(t[r]);for(r=0;r<i.length;r++)i[r]&&i[r]!=""&&(u=document.createElement("SCRIPT"),u.src=i[r],document.body.appendChild(u))}var s=window,t=window.Debug,e="&",r="=",n=s.$Utility={},i,f;n.eval=function(s){eval(s)},n.deserialize=function(n,i,u,f){var h={},v,o,l,s;if(i=i||e,n)for(var a=n.split(i),y=a.length,c=0;c<y;c++)if(v=a[c],o=v.split(r),o.length>0){l=o[0].trim(),o.splice(0,1),s=o.join(r).trim();try{h[l]=f?s:s.decodeUrl()}catch(p){h[l]=""}}return h},n.serialize=function(n,i,u){var o,s,f;i=i||e,o=[];for(s in n)f=n[s],f=f==null?"":f.toString(),o.push(s,r,u?f:f.encodeUrl(),i);return o.length>0&&o.pop(),o.join("")},n.updateObject=u,i=new RegExp('<script type="text/javascript"( src="([^"]*?)"){0,1}(( loadfirst="true")|( defer="defer")){0,1}( id="[^"]*?"){0,1}>([\\w\\W]*?)<\/script>',"gim"),f=new RegExp("<script","gim"),n.ajaxInnerHtml=function(n,r){i.lastIndex=0;for(var e=[],h=[],c=[],l=[],a=[],s=0,u;u=i.exec(r);)e.push(r.substring(s,u.index)),u[4]&&u[4]!=""?(l.push(u[7]),a.push(u[2])):(h.push(u[7]),c.push(u[2])),s=i.lastIndex;e.push(r.substring(s)),o(l,a),n.innerHTML=e.join(""),o(h,c)},n.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.floor(Math.random()*16),i=n=="x"?t:t&3|8;return i.toString(16)})}}(window.originaljQuery||jQuery),function(n){var i=n("body"),t=n("<span/>").css({borderLeftColor:"red",borderRightColor:"blue",position:"absolute",top:"-999px"}).appendTo(i);$Utility._isHighContrast=t.css("borderLeftColor")===t.css("borderRightColor"),t.remove(),$Utility._isHighContrast&&i.addClass("highContrast"),$Utility.isHighContrast=function(){return $Utility._isHighContrast}}(window.originaljQuery||jQuery),function(){function u(n,t,r,u,s){var h=c();n=o(n,t),n=n.substr(0,Math.min(n.length,2e3)),s||(n=o(n,{r:Math.random()})),e(h,f(r,h),f(u,h)),h.src=n}function c(){for(var n,u=t.length,r,i=0;i<u;i++)if(r=t[i],!r.inUse){n=r;break}return n||(n=document.createElement("IMG"),t.push(n)),n.inUse=!0,n}function f(n,t){return function(){e(t,null,null),t.inUse=!1,n&&n()}}function e(n,t,i){n.onload=t,n.onabort=n.onerror=i}function o(n,t){var u,i,r;return n=n||"",t&&(u=s.serialize(t),i="?",n.indexOf("?")>=0&&(r=n.charAt(n.length-1),i=r=="?"||r=="&"?"":"&"),n+=i+u),n}var n=window,i=n.Debug,s=n.$Utility,r=n.$Beacon={},t=[],h=150;r.fire=function(n,t,i,r,f,e){setTimeout(function(){u(n,t,i,r,f,e)},0)},r.fireAndHold=function(n,t){if(u(n,t),!$B.IE)for(var i=(new Date).getTime()+h;(new Date).getTime()<i;);}}(window.originaljQuery||jQuery),function(){var t=window,i=t.Debug,n=Function,r=n.prototype;n.createCallback||(n.createCallback=function(n,t){return function(){return n.apply(this,t||[])}}),n.createDelegate||(n.createDelegate=function(n,t){return function(){return t.apply(n,arguments)}}),r.invoke||(r.invoke=function(){return this.apply(null,arguments)}),t.$CD=Function.createDelegate,t.$CC=Function.createCallback}(),function(){var t=window,i=t.Debug,r=t.jQuery,n=t.Array.prototype;n.addRange||(n.addRange=function(n){return n&&this.push.apply(this,n),this}),n.exists||(n.exists=function(n){return this.indexOf(n)>=0}),n.contains||(n.contains=n.exists),n.clone||(n.clone=function(){return[].addRange(this)}),n.indexOf||(n.indexOf=function(n,t){var i=this.length;for((t=t||0)<0&&(t=Math.max(0,i+t));t<i;)if(this[t++]===n)return t-1;return-1}),n.forEach||(n.forEach=function(n,t){for(var u=this.length,r=0;r<u;r++)n.call(t,this[r],r,this)}),n.insert||(n.insert=function(n,t){this.splice(n,0,t)}),n.remove||(n.remove=function(n){var t=this.indexOf(n);return t>=0&&this.splice(t,1),t>=0})}(),function(n){function s(n,r,e,s,h,a,v,y,p){var rt=w||{},ct=rt.BSI||{},k=ct.Watson||{},wt=ct.Scenario||{},d,ht,vt,yt;if(k&&k.enabled&&f<nt){f++,h=h||(f>1?o.Multiple:o.First),d=n&&n.target,!r&&d&&d.tagName=="SCRIPT"&&(r=d.src,h=o.Download,d.getAttribute("hideError")=="true"&&(y=!0));var ut=rt.hn,ft=a?[]:it(!rt.isSecure,v?v+2:2,k.fbody),tt=a||(ft?ft.join("\n"):""),lt=a||(ft?ft[0]:"unknown"),et=lt?lt.toString():lt,at,ot,pt,st;try{at=t.GetActions&&t.GetActions()}catch(bt){}try{pt=t.IsIgnored&&t.IsIgnored(h,n,r,e,ut,et,tt,s)}catch(bt){}try{st=y||t.IsHidden&&t.IsHidden(h,n,r,e,ut,et,tt,s)}catch(bt){}if(ot=at?at.join("\n"):"",!st&&t.ErrorPresentation)try{t.ErrorPresentation(h,n,r,e,ut,et,tt,ot,s)}catch(bt){}if(!pt&&(ht={sr:k.sr,biciNoLDParse:1,ec:h,pn:ct.pn,msg:n,url:r,ln:e,ih:st,an:l,ac:ot,ad:s,cs:tt.replace(/[ \t]+/ig," ")},ht=g.addHandlerDPs(ht),vt=rt.handlerBaseUrl+"/handlers/Watson.mvc",k.url&&(vt=k.url),i[c]&&(yt=i[c],yt._webConsoleError&&yt._webConsoleError("Message:"+(n||"")+" in "+(r||"")+" @ "+(e||"??"))),b.fire(vt,ht,null,null,!1,!0),t.ErrorOccurred))try{t.ErrorOccurred(n,r,e,h,ut,et,tt,ot,s,st)}catch(bt){}}wt.enabled&&$ScenarioQoS&&(p?$ScenarioQoS.stopScenario(p,!1,h):y||$ScenarioQoS.stopAllScenarios("na",!1,h))}function it(n,i,r){var e,f,l,v,a,o,s,c,p;try{e=t.GetStack&&t.GetStack()}catch(w){}if(!e){for(e=[],f=arguments.callee;i>0;){try{f=f?f.caller:f}catch(w){f=null}i--}for(l=0;f&&l<h;){e.push(f);try{f=f.caller}catch(w){f=null}l++}}for(v=e.length,a=[],o=0;o<v&&o<h;o++){s=e[o],c="InvalidMethod()";try{c=s.toString()}catch(b){}p=n?rt(c,s.args||s.arguments):"",c=c.replace(/\s\s*/ig," "),a.push(y(s,r)+"("+p+")")}return a}function a(){l=!0}function rt(n,t){for(var r=n.substring(n.indexOf("(")+1,n.indexOf(")")),u=r?r.split(","):[],e=u.length,f=[],i=0;i<e;i++)f.push(u[i]+"="+ut(t[i]));return f.join(",")}function ut(n){var t=typeof n;return n==null?"null":t=="string"?"'"+v(n,13)+"'":t=="function"?y(n):t=="object"?n.toString&&!$B.Safari?n.toString():t:t=="boolean"||t=="number"?n.toString():"["+t+"]"}function v(n,t){return n&&n.length>t&&(n=n.substr(0,t-3)+"..."),n}function y(n,i){var u=t.GetMethodName&&t.GetMethodName(n),f;if(n&&!u){var r=n&&n.toString?n.toString():"InvalidMethod()",e=r.indexOf(")")+1,o=r.indexOf(" ")==8?9:0;u=r.substring(o,e),(i||u.indexOf("function")==0)&&(f=e+tt,r=r.replace(/\s\s*/ig," "),u=v(r,f)+(f<r.length?"}":""))}return u}function p(){e.unbind("beforeunload",a),e.bind("unload",p)}var i=window,u=i.Debug,w=i.$Config,b=i.$Beacon,r=i.$WebWatson={},k=i.$CC,d=i.$CD,g=i.$BSI,e=n(window);r.CB={};var t=r.CB,nt=3,h=10,tt=50,o={First:"34",AfterUnload:"35",Multiple:"36",Download:"55"},c="Page",f=0,l=!1;window.LiveUnit||(window.onerror=s),e.bind("beforeunload",a),e.bind("unload",p),t.IsHidden=function(n,t){return t=="Error loading script"},r.foundException=function(){return f>0},r.resetException=function(){f=0},r.submitFromException=function(n,t,i,r,u,f){if(n&&!n.traced){n.traced=1;var h=n.lineNumber||0,e=n.message||n.description||(typeof n=="string"?n:""),c=n.stack,o;try{o=n.fileName||document.location.href}catch(n){}t&&(e+="@"+t),s(e,o,h,r,i,c,1,u,f)}},r.submit=s,r.wrapCallback=function(n,i,u,f){i=i?i:this;var o=k(n,u||Array.prototype.slice.call(arguments,3)),e=d(i,o);return t.InstrumentDelegate&&f&&(e=t.InstrumentDelegate(e,f)),$B.IE?e:function(){try{return e()}catch(n){r.submitFromException(n);return}}}}(window.originaljQuery||jQuery),function(n){function f(){t.w=undefined}function o(n,t){return Array.prototype.slice.call(n,t?3:2)}var i=window,e=i.$WebWatson,u=i.$Static,t,r;i.$Do||(i.$Do={q:[],w:undefined}),t=window.$Do,t.r=[],t.removeItems=[],t.lock=0,r=n(document),r.bind("keydown",f),r.bind("mousedown",f),t.isRegistered=function(n){return!!t.r[n]},t.register=function(n,i,r){var f,u,e,o;if(!t.r[n]){t.r[n]={method:i,skipTimeout:r},t.lock++;try{for(f=0;f<t.q.length;f++)u=t.q[f],u.id==n&&t.c(n,u.c,0,u.a,undefined,u.x)&&t.removeItems.push(u);t.w&&(e=t.w,e.id==n&&(t.w=null,t.c(n,e.c,0,e.a)))}catch(s){throw s;}finally{if(t.lock--,t.lock==0){for(o=0;o<t.removeItems.length;o++)t.q.remove(t.removeItems[o]);t.removeItems=[]}}}},t.unregister=function(n){t.r[n]&&delete t.r[n]},t.c=function(n,i,r,f,s,h){function l(){var n=!!c.method,t=n?c.method:f[2];e.wrapCallback(t,i,o(f,!n),h)()}var c=t.r&&t.r[n],a;return i=i?i:this,c?c.skipTimeout?l():setTimeout(l,0):!u||(a=u.exec(n),r&&2==a&&(s?t.w={id:n,c:i,a:arguments}:t.q.push({id:n,c:i,a:f,x:h}))),c},$Do.register("$Do.Full")}(window.originaljQuery||jQuery),function(){function h(i,r,u){var h=u?o:e,s=t.deserialize(n.getCookie(h,1)),f;r===null||r===undefined?delete s[i]:s[i]=r,f=new Date,n.setCookie(h,t.serialize(s),$Config.sd,0,u?new Date(f.getFullYear()+1,f.getMonth(),f.getDay()):0,1)}function c(i,r){var u=r?o:e,f=t.deserialize(n.getCookie(u,1));return f[i]}var u=window,t=u.$Utility,f=u.Debug,n=u.$Cookie={},e="wlxS",o="wlxP",s,i,r;n.setPersistentCookie=function(n,t){h(n,t,1)},n.getPersistentCookie=function(n){return c(n,1)},n.setSessionCookie=function(n,t){h(n,t,0)},n.getSessionCookie=function(n){return c(n,0)},n.getCookie=function(n,u){var o,e;if(o=document.cookie,o==s){if(u&&r)return r[n];if(!u&&i)return i[n]}else i=0,r=0,s=o;return e=t.deserialize(document.cookie,";",!0,u),u?r=e:i=e,e[n]},n.deleteCookie=function(t,i,r){n.setCookie(t,"",i,r,new Date(2e3,1,1))},n.setCookie=function(n,i,r,u,e,o){var s={};s[n]=i,document.cookie="{0};path={1};{2}{3}".format(t.serialize(s,null,o),u?u:"/",r?"domain="+r+";":"",e?"expires="+e.toUTCString()+";":"")},$Do.register("$Cookie"),$Do.register("$Cookie.setCookie")}(window.originaljQuery||jQuery),function(n){function nr(){var t=n(document),i=n(f);t.bind("click",fi),t.bind("mousedown",ui),t.bind("mouseup",ei),t.bind("keydown",oi),t.bind("keyup",si),t.bind("touchstart",hi),t.bind("touchend",ci),r&&r.suppressBrowserRightClickMenu&&t.bind("contextmenu",ir),g=1,u.ignoreWindowOnload||(u.useJQueryReady?i.ready(function(){setTimeout(bt,0)}):i.bind("load",bt)),i.bind("unload",bi),r&&r.capture&&(et=tr())}function tr(){var n={sw:screen.width,sh:screen.height,c:screen.colorDepth};return document.documentElement.clientWidth&&(n.bw=document.documentElement.clientWidth,n.bh=document.documentElement.clientHeight),n}function a(){k&&k.href!=wt&&(k.href=wt,n(k).unbind("mouseout",a),k=0)}function ui(n){a(),li(n)}function fi(n){n.which==2||ut||ni||(ai(n),h=!ut&&!at&&!vt,c=1,ot(n.target,null,n),h=1)}function ir(t){var i,r,u,f,e,o;return t.shiftKey?!0:t.target&&((i=n(t.target),r=i.closest("a"),r.length>0&&(u=r.attr("href"),u&&u!=="#"))||(f=i.closest("input"),f.length>0&&(e=f.attr("type"),e&&e.toLowerCase()=="text"))||(o=i.closest("textarea"),o.length>0))?!0:!1}function ei(n){li(n),(c!=1||ut)&&(h=0,ot(n.target,c==3,n),h=1)}function oi(n){n.keyCode==93&&(c=3,ot(n.target,1,n))}function si(n){var t=n.keyCode;(t==27||t==18||t==13)&&a()}function hi(){a(),ti=p()}function ci(n){p()-ti>1e3&&(h=0,c=3,ot(n.target,null,n),h=1)}function li(n){c=n.which,ai(n)}function ai(n){at=n.shiftKey,ut=n.ctrlKey,vt=n.altKey,ni=n.metaKey}function ot(n,i,r){var e,s,u,h,c,o,v;for(a();n;){if(n.tagName=="A"){try{e=n.href}catch(y){}e&&(l.AjaxHistory&&l.AjaxHistory.fullAjax&&e.indexOf("#")==-1&&(f.$PF&&(s=f.$PF.getAppFrameDocument()),u=s?s.location.href:document.location.href,h=u.indexOf("#"),h>-1&&(u=u.substr(0,h)),c=u.indexOf("?"),c>-1&&(u=u.substr(0,c)),u+="?",e.toLowerCase().indexOf(u)==0&&(e=n.href="#"+e.substr(u.length))),o=!1,$U.isLinkABookmark(e)?(v=$U.getUrlFragment(e),v.indexOf("=")>-1&&(o=!0)):o=!0,o&&t.informNav(e,0,n,i,null,r));break}n=n.parentNode}}function rr(n){for(var i=b,t;n&&n.getAttribute;){if(t=n.getAttribute("lid"),t){i=t;break}n=n.parentNode}return i}function vi(n){var u=b,r,t;if(n)for(r in n)t=n[r],t&&(t=t.encodeUrl?t.encodeUrl():t),u+=it+r+gi+t;return u}function yi(){g&&!u.ignoreWindowOnload&&t.informLoaded(1,1)}function ur(){var n="U";return c==3?n="R":c==1?n="L":c==2&&(n="M"),ut&&(n+="C"),vt&&(n+="A"),at&&(n+="S"),n}function pi(n,t){for(var r in t)n[r]=t[r]}function bt(){ri=1,wi()}function wi(){ri&&d.length==0&&t.informLoaded()}function bi(){var t,i;ki(),a(),t=n(document),t.unbind("click",fi),t.unbind("mousedown",ui),t.unbind("mouseup",ei),t.unbind("keydown",oi),t.unbind("keyup",si),t.unbind("touchstart",hi),t.unbind("touchend",ci),i=n(f),u.ignoreWindowOnload||i.unbind("load",bt),i.unbind("unload",bi)}function ki(){yi(),pt||w("U")}function p(){return(new Date).getTime()}function fr(n){return(n?n:p())-t.headTime}function w(n,f,h,c){var nt,k,tt,a,it,ut,d;if(r&&r.enableLD){if(nt=n+fr(h)+(f?f:b),k=e.getCookie(y,1),!k&&!c&&(tt=e.getCookie(ct,1),tt&&(a=parseInt(tt),!isNaN(a)&&(a<v-1&&(a=v-1),a>s&&(a=s),a>=v&&(rt.splice(0,a+1-v),v=a+1),it=s-a,it>0)))){for(s=a;it-->0;)ut=s+1-v,ut<rt.length&&(d=rt[ut],w(d.logKey,d.logValue,d.logTime,!0)||(t.flush(),w(d.logKey,d.logValue,d.logTime,!0))),s++;k=e.getCookie(y,1)}var ft=ht.deserialize(k,o,0,1),et=[u.xid,u.rid,l.di,t.headTime].join("_"),g=ft[et];if(g?g+="|"+nt:g=nt,ft[et]=g,k=ht.serialize(ft,o,1),k.length>512)return 0;c||(rt.push({logKey:n,logValue:f,logTime:h?h:p()}),s++,e.setCookie(ct,s,$Config.sd,0,new Date(2020,1,1),1)),e.setCookie(y,k,$Config.sd,0,new Date(2020,1,1),1)}return 1}function di(n){var t=0,r=n.clone(),e=r.length,i=!1,u=f.$WebWatson;if(u)for(;t<e;t++)i=u.wrapCallback(r[t],0,Array.prototype.slice.call(arguments,1))()||i;return i}var f=window,i=f.Debug,st=f.$Beacon,e=f.$Cookie,ht=f.$Utility,t;t=window.$BSI,t.headTime||(t.headTime=(new Date).getTime());var nt=[],kt=[],y="LD",ct="LDH",o="&",tt="?",it="~",gi=":",b="",dt=".com",gt="-int.com",ft={},et={},lt=!0,rt=[],v=-1,s=-1,c,h=1,ut,at,vt,ni,ti,yt,pt,k,wt,l=f.$Config,u=l.BSI,r=u.BICI,ii=l.sd.endsWith(gt)?gt:dt,d=[],ri=u.ignoreWindowOnload,g=0;t.informLoaded=function(n,e){if(l=f.$Config,u=l.BSI,r=u.BICI,document.body.id=u.pn?u.pn.encodeHtmlAttribute():b,t.headTime!=yt){var o=p();yt=t.headTime,g=0,d=[],e&&t.addLogParams({x:"1"}),di(nt,e),w("L",vi(et),o),et={},r&&r.beaconUrl&&lt&&st.fire(r.beaconUrl,ft),ft={}}},t.sendToIdss=function(n){return typeof n!="undefined"&&(lt=n),lt},t.informPVHead=function(){ki(),t.headTime=p(),g=1},t.addBeaconParams=function(n){pi(ft,n)},t.addLogParams=function(n){pi(et,n)},t.addLoadedCallback=function(n){nt.push(n)},t.removeLoadedCallback=function(n){setTimeout(function(){for(var t=0,r=nt.length;t<r;t++)if(nt[t]==n){nt.splice(t,1);return}},0)},t.isLoading=function(){return g},t.addNavCallback=function(n){kt.push(n)},t.navigateTo=function(n,i,r){if(r&&(t.currentScenarioObject=r),!t.informNav(n,0,0,0,0,0,0,i))try{i?window.open(n,i):window.location.href=n}catch(u){}},t.addLoadEvent=function(n){g&&d.push(n)},t.eventLoaded=function(n){for(var t=0,r=d.length;t<r;t++)if(d[t]==n){d.splice(t,1),wi();break}},t.addHandlerDPs=function(n){return n.biciPrevious=u.biciPrevious,n.mmn=l.mmn,n},t.addLDToHash=function(n){return n.bicild=e.getCookie(y,1),e.deleteCookie(y,$Config.sd),n},t.informNav=function(i,f,s,l,v,y,d,g){var rt,nt,ut,ht,ft,et,ot,ct;return h=h&&!v&&(!s||s.getAttribute("target")!="_blank"),rt=p(),nt=s?s.href:0,a(),yi(),f=f||rr(s),i=i||b,ut=$U.doesMatchHost(i,"live"+ii),ht=$U.isAbsoluteUrl(i)&&$U.doesMatchHost(i,"g.live"+ii),w("N",it+it+f.encodeUrl()+it+ur(),rt),pt=pt||h,r&&r.urlHash&&(ft=r.urlHash+rt,r.fid&&(ft+=o+r.fid+o+(h?"1":"0")+(l?"0":"1")),e.setCookie("LN",ft,$Config.sd)),et=di(kt,i,s,l,h,ut,y,d,g),!et&&$B.IE&&$B.V<8&&typeof ieImgAnchorFix=="function"&&s&&ieImgAnchorFix(s),ot=["WLXID=",u.xid,"&RID=",u.rid,"&TID=",t.headTime,"&lid=",f].join(b),ht?s&&r&&r.enableGlinkExtra&&(ct=nt.indexOf(tt)<0?tt+tt:nt.indexOf(tt+tt)<0&&nt.indexOf(o+o)<0?o+o:o,s.href=nt+ct+ot):ut||r&&r.enableGlinkCall&&st.fireAndHold("//g.live"+dt+"/_9uxp9en-us/mike?"+i.encodeUrl()+o+o+ot),s&&nt!=s.href&&(k=s,wt=nt,c==3?$B.Safari||$B.Firefox||n(s).bind("mouseout",a):setTimeout(a,100)),et},t.reportEvent=function(n,r){var u=it+n+vi(r);w("E",u)||(t.flush(),w("E",u))},t.flush=function(){rt.splice(0,s-v+1),v=s,e.setCookie(ct,s,$Config.sd,0,new Date(2020,1,1),1),st.fire(l.handlerBaseUrl+"/Handlers/NoOp.mvc",t.addLDToHash({}))},nr(),$Do.register("$BSI.addNavCallback",t.addNavCallback),$Do.register("$BSI")}(window.originaljQuery||jQuery),function(){function i(n){var i=t[n];return i||(t[n]=i=new RegExp("\\b"+n+"\\b","ig")),i}var r=window,t={},n=r.$css={has:function(n,t){var u=!1,r;if(n&&n.className){r=i(t),r.lastIndex=0;try{u=r.test(n.className)}catch(f){}}return u},remove:function(t,i){n.swap(t,i)},swap:function(t,r,u){u=u||"",n.has(t,r)&&(t.className=t.className.replace(i(r),u).replace(/^\s|\s\s|\s$/g,function(n){return n.substr(1)}))},add:function(t,i){t&&(t.className?n.has(t,i)||(t.className+=" "+i):t.className=i)}}}(window.originaljQuery||jQuery),function(n){function i(n){for(var u=n.split("."),r=t,i=0,f=u.length;i<f;i++)r=r[u[i]];return r}var t=window;t.sutra=function(r,u,f){if(t.$Sutra){var e=n(r);e.attr("sutra")&&f||e.attr("sutra",i(u))}},t.sutra.load=function(i,r){t.$Sutra&&(n(document.body).attr(i,r),n(document.body).removeAttr("sutravisited"))},t.unsutra=function(i){t.$Sutra&&n(i).removeAttr("sutra")}}(window.originaljQuery||jQuery),function(n){function f(){var n=document.title,t=document.location.hash;n!=r&&t&&n.indexOf(t)==n.length-t.length&&(document.title=r),r=document.title}var t=window,u=t.wLive,i,r;t.$Version="9.090519.0",t.CompatVersion="9.100709.0",t.$Debug||(t.$Debug={enabled:!1,trace:function(){}}),i=t.document,t._d=i,t._ce=function(n){return i.createElement(n)},t._ge=function(n){return i.getElementById(n)},t._$ge=function(i){return n(t._ge(i))},t._get=function(n){return i.getElementsByTagName(n)},t._dh=i.head=i.head||t._get("head")[0],u.dh=n("#head")[0]||t._dh,n(document).bind("propertychange",f)}(window.originaljQuery||jQuery),function(){function t(n){return function(){for(var i=arguments.length,t=0;t<i;t+=n)this[arguments[t]]=arguments[t+n-1]}}var n=window,i=n.jQuery;n.$Flags=t(2),n.$Enum=t(1)}(),function(){function i(){var f=n.length,u;if(f>0){try{n.pop()()}catch(e){u=r.$WebWatson,u&&u.submitFromException(e)}f>1&&t(i,0)}}var r=window,t=window.setTimeout,n=[];window.smartSetTimeout=function u(r,f,e){function o(){u(r,0,e)}f?t(o,f):(e?n.splice(0,0,r):n.push(r),n.length==1&&t(i,0))}}(window.originaljQuery||jQuery),function(){var n=window,t=n.$HelpContext={},i=n.$Config;t.attachContextTo=function(n,t,r){t&&n.length>0&&(n[0].href=i.hc.url+"&errorCode="+(t+"").encodeUrl()+(r?"&errorMessage="+r.encodeUrl():""))},$Do.register("$HelpContext")}(window.originaljQuery||jQuery),function(n){function h(){function tt(n){var r,t,i;if(n.indexOf("window.")<0)return!1;for(r=n.split("."),t=window,i=1;i<r.length;i++)if(t=t[r[i]],t===undefined)return!1;return!0}function g(n,t){function r(){var t=!1,n;try{n=i.contentWindow||i.contentDocument.parentWindow,n&&n.fetchXML&&(c.Proxy._registerProxy(n),t=!0)}catch(r){}return t}function e(){var i=l[n],u;if(i.attempts=(i.attempts||0)+1,i.attempts>2&&!i.fail&&!i.ready){if(!r())for(i.fail=!0;u=i.pop();)u.cb&&u.cb({status:5e3},u.c)}else i.ready||r()||g(n,t)}function o(){l[n].ready||l[n].fail||e()}var i,f;w(),i=document.createElement("iframe"),i.style.display="none",n.endsWith(h)||n.indexOf(":")>0&&n.substring(0,n.indexOf(":")).endsWith(h)?(document.body.insertBefore(i,document.body.firstChild),f=u.xmlProxyTimeout||3e4,setTimeout(o,f),a[n]=i,i.src=location.protocol+"//"+n+"/xmlProxy.htm?vn="+s+"&domain="+h):t.cb&&t.cb({status:5e3},t.c)}function w(){if(!d){h=document.domain;return}if(h=p,h.indexOf(":")>0&&(h=h.substring(0,h.indexOf(":"))),$Config.domain&&!$Config.domain.endsWith("."))document.domain=$Config.domain;else if(h.endsWith(".com")){var n=h.indexOf(".");if(n>0){document.domain=h;try{while(n>=0)h=h.substring(n+1),h!="com"?(document.domain=h,n=h.indexOf(".")):n=-1}catch(t){}}}else throw new Error("Invalid $Config.domain");h=document.domain,w=function(){}}function y(n,t){return n=c.resolveUrl(n).toLowerCase(),String(n).search(t?rt:it)<0?"":RegExp.$1}var c=this,b=$B.IE,k=[],l={},a={},h,v,d=!0,p;c.requiresDomainLowering=function(n){d=n},c.getCookie=function(n){return e.getCookie(n,1)},c.fetchXML=function(t,r,u,f,e,o,s){function k(n){if(e)for(var t in e)n.setRequestHeader(t,e[t])}function d(n){r&&r(n,o)}var w,h,b,c,v;if(h=y(t),u=u||"GET",r=r||function(){},h===p)w=n.ajax({url:t,type:u,data:f,beforeSend:k,complete:d});else if(c=l[h]=l[h]||[],v={url:t,cb:r,v:u,verb:u,postString:f,headers:e,c:o,cbp:s},b=a[h]){if(c.ready)return b.contentWindow.fetchXML(v,null,null,r,s),w;if(c.fail)return r&&r({status:5e3},o),w;c.push(v)}else c.push(v),g(h,v);return w},c.fetchCSS=function(n,u,e,o,s){function c(){var i,f,c;clearTimeout(l),f=!b||$B.IE&&$B.V>=10,f&&(h.readyState="complete"),h.onreadystatechange=function(){h&&h.onreadystatechange&&("loaded"===h.readyState||"complete"===h.readyState)&&(u&&u(h),h.onreadystatechange=null)},!o||!t.Css_Start||(i=Css_Start(o,s),h.onload=function(){Css_Load(this,i)},h.onerror=function(){Css_Error(this,i)}),h.href=n,e||(c=r.dh,c.appendChild(h)),f&&h.onreadystatechange()}var h=e||document.createElement("link"),l=setTimeout(c,9e3);return e||(h.rel="stylesheet",h.type="text/css"),f.fire(n,0,c,c,1),h},c.fetchScript=function(u,f,e,s,h){function v(){if(!l.handled&&("complete"===l.readyState||"loaded"===l.readyState))try{l.handled=!0,n(l).unbind(".fetch"),!e||k[e]||tt(e)?f&&f(l):(a&&(a.errorCode=a.errorCode||"ParseFailure"),y.removeChild(l),c.fetchScript(u,f,undefined,s,h))}catch(i){throw i;}finally{a&&t.$Static&&t.$Static.logQos(a)}}function p(n){a&&(a.errorCode="DownloadFailure"),v(),e&&n.stopPropagation()}var y=r.dh,l=document.createElement("script"),a;return s&&(a={apiId:s,propertyId:h,startTime:(new Date).getTime()}),(!b||$B.IE&&$B.V>=10)&&(l.readyState="loaded"),l.async=!0,l.type="text/javascript",n(l).bind("readystatechange.fetch",v).bind("load.fetch",v).bind("error.fetch",p),o(function(){l.src=u,y.appendChild(l)}),l},c.registerScript=function(n){k[n]=!0},c.Proxy={_registerProxy:function(n){var i,r=y(n.location.href,!1),u=a[r],t=l[r],f=n.frameElement;if(t)for(t.ready||(u!=f&&(u=a[r]=f),t.fail=!1,t.ready=!0);i=t.pop();)u.contentWindow.fetchXML(i,null,null,i.cb,i.cbp)}},$Config.applyAppDomain&&w();var it=/^(?:http|https|ftp):\/\/([-.a-z0-9]+(?::[0-9]+)?)(?:\/|$)/i,rt=/^((?:http|https|ftp):\/\/[-.a-z0-9]+(?::[0-9]+)?)(?:\/|$)/i,nt=/\/[^\/]*\/\.\./;c.extractHost=y,c.resolveUrl=function(n,r){function e(n){while(nt.test(n))n=n.replace(nt,"");return n}var u,f;return n=n?n.toString():"",r?r=r.substring(0,r.toString().lastIndexOf("/")+1):v?r=v:(u=t._ge("base"),u&&u.href!=""?r=v=u.href:(f=location.protocol+"//"+location.host+location.pathname,r=v=f.substring(0,f.lastIndexOf(location.protocol==="file:"?"\\":"/")+1))),n.startsWith("/")&&(n=location.protocol+"//"+location.host+n),n.indexOf("//")===-1&&(n=r+n),e(n)},p=y(document.location.href),c.currentDomain=p}var t=window,f=t.$Beacon,e=t.$Cookie,i=t.Debug,o=t.smartSetTimeout,s=t.$Version,r=t.wLive,u=t.$Network=new h;t.$LightNetwork=u}(window.originaljQuery||jQuery),function(){function y(t,i){n.deferPosting?(n.deferredPosts=n.deferredPosts||[],n.deferredPosts.push({url:t,postString:i})):c.fetchXML(t,null,"POST",i)}function d(){var r,i,tt,it,h,u;if(n.enabled)if(n.ids&&n.guids&&n.startTimes&&n.propertyIds){var l=n.ids.split(t),rt=n.guids.split(t),ut=n.startTimes.split(t),ft=n.propertyIds.split(t),a=l.length;var v=[],y=[],w=[],b=[];for(r=a-1;r>=0;r--){var o=l[r],et=ut[r],d=ft[r],nt=rt[r];r>=a-k&&(v.push(o),y.push(nt),w.push(et),b.push(d)),i=p(o,nt),i.apiArray.length!=0&&(tt={sc:o,ppd:d,api:i.apiArray.join(t),dur:i.durationArray.join(t),err:i.errArray.join(t),errtp:i.errTypeArray.join(t),st:i.stackTraceArray.join(t),dep:i.dependentArray.join(t),stt:i.startTimeArray.join(t)},it=$Utility.serialize(tt),c.fetchXML(f.handlerBaseUrl+n.handlerPath,null,"POST",it))}h=v.join(t)+"&"+w.join(t)+"&"+b.join(t)+"&"+y.join(t),$BSI.currentScenarioObject&&(h=$BSI.currentScenarioObject.id+"&"+$BSI.currentScenarioObject.startTime+"&"+$BSI.currentScenarioObject.propertyId+"&"+$BSI.currentScenarioObject.guid),u=new Date,u.setSeconds(u.getSeconds()+5),e.setCookie(s,h.encodeUrl(),f.sd,null,u,1),setTimeout(g,500)}else e.deleteCookie(s,f.sd)}function g(){e&&e.deleteCookie(s,f.sd)}function nt(n,t){for(var r=h.d,f=r.length,u,i=0;i<f;i++)u=r[i],u.scenarioId===n&&u.transactionGuid===t&&(r.splice(i,1),i--,f--)}function p(n,t){for(var f=[],e=[],o=[],s=[],c=[],y=[],p=[],w=h.d,b=w.length,r,u=0;u<b;u++)if(r=w[u],r.scenarioId===n&&r.transactionGuid===t){var k=r.api||i,d=r.clientStart,g=r.error||l,nt=r.errorType||(r.error?a:v),tt=r.stackTrace||i;f.push(k),e.push(r.clientLength),o.push(g),s.push(nt),c.push(tt),y.push(r.dependent||i),p.push(d)}return{apiArray:f,durationArray:e,errArray:o,errTypeArray:s,stackTraceArray:c,dependentArray:y,startTimeArray:p}}function o(n,i){return n?n+t+i.toString():i.toString()}function w(n,t,i,r){return{id:n,propertyId:i,guid:t,startTime:r}}var r=window,tt=r.$Beacon,e=r.$Cookie,c=r.$Network,u=r.$ScenarioQoS={},f=$Config,b=f.BSI||{},n=b.Scenario||{},s="Sce",i="na",t="#",l="ok",a="f",v="s",k=3,h;r.wLive.ScenarioQoSStats={d:[],add:function(i,u,f,e){var o,h;if(i&&u&&f&&n.ids&&n.guids){var s=n.ids.split(t),c=n.guids.split(t),l=s.length;for(i.scenarioId=f.id,i.transactionGuid=f.guid,o=0;o<l;o++)if(s[o]===i.scenarioId&&c[o]===i.transactionGuid){h=r.wLive.ScenarioQoSStats,e===undefined&&(e=(new Date).valueOf()-u),i.clientStart=u,i.clientLength=e,h.d.push(i);break}}}},h=r.wLive.ScenarioQoSStats,u.addScenarioToHttpHeader=function(n,t){t&&(n.scenarioid=t.id||i,n.transactionguid=t.guid||i,n.scenariopropertyid=t.propertyId||i)},u.getScenarioObject=function(i){var r;if(n.enabled&&n.ids&&n.guids&&n.startTimes&&n.propertyIds){var u=n.ids.split(t),f=n.guids.split(t),e=n.startTimes.split(t),o=n.propertyIds.split(t),s=u.length;for(r=0;r<s;r++)if(f[r]===i)return w(u[r],f[r],o[r],e[r])}return null},u.startScenario=function(t,i){var r=(new Date).valueOf(),u=$Utility.generateGuid();return n.ids=o(n.ids,t),n.propertyIds=o(n.propertyIds,i),n.startTimes=o(n.startTimes,r),n.guids=o(n.guids,u),w(t,u,i,r)},u.stopScenario=function(r,u,e,o){var h,it,rt;if(n.enabled&&n.ids&&n.guids&&n.startTimes&&n.propertyIds){var tt=u===!1?!1:!0,c=r.id,k=r.guid,w=n.ids.split(t),d=n.guids.split(t),b=n.startTimes.split(t),g=n.propertyIds.split(t),ut=w.length;for(h=0;h<ut;h++)if(w[h]===c&&d[h]===k){var s=p(c,k),ft=(new Date).valueOf()-b[h],et=tt?l:e||i,ot=tt?v:o||a;s.apiArray.push(c),s.durationArray.push(ft),s.errArray.push(et),s.errTypeArray.push(ot),s.stackTraceArray.push(i),s.dependentArray.push(i),s.startTimeArray.push(b[h]),it={sc:c,ppd:g[h],api:s.apiArray.join(t),dur:s.durationArray.join(t),err:s.errArray.join(t),errtp:s.errTypeArray.join(t),st:s.stackTraceArray.join(t),dep:s.dependentArray.join(t),stt:s.startTimeArray.join(t)},rt=$Utility.serialize(it),y(f.handlerBaseUrl+n.handlerPath,rt),w.splice(h,1),d.splice(h,1),b.splice(h,1),g.splice(h,1),n.ids=w.join(t),n.guids=d.join(t),n.startTimes=b.join(t),n.propertyIds=g.join(t),nt(c,k);break}}},u.stopAllScenarios=function(r,f,e){var h,o;if(n.enabled&&n.ids&&n.guids){var s=n.ids.split(t),c=n.guids.split(t),l=s.length;for(h=f===!1?!1:!0,o=0;o<l;o++)(r===i||r===s[o])&&u.stopScenario({id:s[o],guid:c[o]},h,e)}},u.postDeferredScenarios=function(){var t,i;if(n.deferPosting=!1,n.deferredPosts){for(t=0;t<n.deferredPosts.length;t++)i=n.deferredPosts[t],y(i.url,i.postString);delete n.deferredPosts}},$BSI.addNavCallback(d)}(window.originaljQuery||jQuery),function(n){var t=window;t.wLive.PageStats={d:[],o:$BSI.headTime,add:function(i,r){var u=t.wLive.PageStats,f;r=r||u.o,i=i||{url:"Missing page stats.",tasks:[],executionTimeMs:0,schedulerTimeMs:0},f=new Date,i.clientStart=r,i.clientLength=f.getTime()-r,i.clientTime=f,u.d.push(i),n(u).trigger("go")}}}(window.originaljQuery||jQuery),function(n){var t=window;t.$f={cancelEvent:function(n){return n=n||t.event,n.stopPropagation?(n.preventDefault(),n.stopPropagation()):n.returnValue=!1,!1},getSelectedText:function(){if(document.selection)return document.selection.createRange();var n;try{n=t.getSelection().rangeCount>0?t.getSelection().getRangeAt(0):t.document.createRange()}catch(i){n=t.document.createRange()}return n},createIframe:function(){var n=document.createElement("IFRAME");return n.frameBorder="no",n.src="javascript:''",n.scrolling="no",n},px:function(n){return n+"px"},updateTitle:function(n){try{top.document.title=top.document.title.replace(/.*?( PLT: [0-9]+ms)?$/i,n+"$1")}catch(t){}},replaceQs:function(n,t,i){var e="([?|&])"+t+"=([^&]+)",o=new RegExp(e,"i"),u=n,f="",r=n.indexOf("#");return r>-1&&(u=n.substr(0,r),f=n.substr(r)),u.replace(o,"$1"+t+"="+i)+f},doc:document,docEl:document.documentElement,getDocType:function(){var i=$f.doc,r=i.doctype,n=i.all,t;return r?t=r.publicId:n&&n.length&&(t=n[0].nodeValue),t||""},createLoading:function(t,i,r,u,f,e,o){var p=t,w,v,b,s,k,h,c,a,l,y,d;for(typeof t=="object"&&(p=t.returnMarkup,i=t.type,r=t.width,u=t.height,f=t.size,e=t.color,o=t.text,w=t.useTransparentFallback),i=i||$f.loadingType.spinning,r=r||"20px",u=u||r,f=f||"3px",e=e&&e.toLowerCase()||"#666",v="c_spinningDots",b=$Config.imgsBase+"common/",i==$f.loadingType.flying?(v="c_flyingDots",s="flyingdots.gif"):(s="spinner_",s+=e=="#fff"?"white_":"grey_",r=="60px"?s+="120":r=="30px"?s+="60":(s+="40",w&&e!="#fff"&&(s+="_transparent")),s+=".gif"),k=b+s,h=document.createElement("div"),n(h).css({width:r,height:u,"font-size":f}),h.className=v+" c_loadingDots c_dotsPlaying",c='<div class="c_loadingFallback"><img src="'+k+'" alt="" width="'+r+'" height="'+u+'" /><\/div>',c+='<div class="c_loadingTracks">',a=5;a>0;a--)c+='<div class="c_loadingTrack c_loadingTrack'+a+'"><div class="c_loadingDot" style="background-color:'+e+";width:"+f+";height:"+f+'"><\/div><\/div>';return(c+="<\/div>",h.innerHTML=c,l=n("<div><\/div>").append(h),i==$f.loadingType.flying&&l.css({width:r}),o&&l.append('<span class="c_loadingText">'+o.encodeHtml()+"<\/span>"),p)?(y=n("<span><\/span>").append(l),d=y.html(),y.remove(),d):l[0]},loadingType:{spinning:0,flying:1},hideLoading:function(n){n.hide(),n.removeClass("c_dotsPlaying")},showLoading:function(n){n.show(),n.addClass("c_dotsPlaying")}},$Do.register("$f")}(window.originaljQuery||jQuery),function(n){function l(){i.bind(o,c),i.bind(s,h)}function h(){clearTimeout(f),i.unbind(s,h),i.unbind(o,c)}function c(){clearTimeout(f),f=setTimeout(a,100)}function a(){r=u=null}var e=window,i=n(e),t=e.$f,r,u,f,o="resize",s="unload";t.dockIt=function(n,i,r,u,f,e,o,s,h,c){var y=0,w,l,v,p,nt;f=f||!1,r=typeof r=="undefined"?0:r,u=u||{x:0,y:0},s=s||{},typeof u!="object"&&(y=u,u={x:0,y:0}),s.top=s.top||0,s.bottom=s.bottom||0,s.left=s.left||0,s.right=s.right||0;var tt=n.offsetParent,st=tt==document.body||tt==t.docEl||h,a=t.getLocation(n,f);if(c=c||t.getLocation(i,f,st),w=u.x*($B.rtl?-1:1),l={x:a.bodyX+w,y:a.bodyY+u.y,width:a.width,height:a.height,targetLoc:c,spaceY:0},!o){var ht=t.clientHeight(),ct=t.clientWidth(),it=c.addScrollTop!=-1?t.scrollTop():0,rt=t.scrollLeft(),ut=a.width+w,ft=a.height+u.y,b=ht+it-c.bottom-s.bottom,k=c.top-it-s.top,lt=ct+rt-c.right-s.right,at=c.left-rt-s.left,d=b>ft,g=k>ft,et=lt>ut,ot=at>ut;!d&&g?(r<2?(r+=2,p=1):(r==4||r==6)&&(r+=1,p=1),l.spaceY=k):!g&&d?(r>=2&&r<4?(r-=2,p=1):(r==5||r==7)&&(r-=1,p=1),l.spaceY=b):l.spaceY=r<2||r==4||r==6?b:k,!et&&ot?$B.rtl?r>=4&&r<6?(r+=2,v=1):(r==1||r==3)&&(r-=1,v=1):r>5?(r-=2,v=1):(r==0||r==2)&&(r+=1,v=1):!ot&&et&&($B.rtl?r>5?(r-=2,v=1):(r==0||r==2)&&(r+=1,v=1):r>=4&&r<6?(r+=2,v=1):(r==1||r==3)&&(r-=1,v=1))}return nt=r%2,e?(l.x=u.x,l.y=u.y+c.bottom):r>=0&&(r<4?(l.x+=nt?$B.rtl?c.left:c.right-a.width:$B.rtl?c.right-a.width:c.left,l.y+=r<2?c.bottom+y:c.top-a.height-y):($B.rtl&&(r<6?r+=2:r-=2),l.x+=r<6?c.left-a.width-y:c.right+y,l.y+=nt?c.bottom-a.height:c.top)),!$B.Mobile||g||d||(l.y=t.scrollTop()),v&&(l.x+=u.x*-2),p&&(l.y+=u.y*-2),n.style.left=l.x+"px",n.style.top=l.y+"px",l},t.getLocation=function(n,i,r){for(var a=!1,s=t.getStyle,h="offsetTop",c="offsetLeft",v="position",u={x:n[c],y:n[h],top:0,right:0,bottom:0,left:0,bodyX:0,bodyY:0,width:n.offsetWidth,height:n.offsetHeight},f=n,y,p,e,l,o;f=f.offsetParent;)a=s(f,v)=="relative",i!=2&&(u.bodyX-=f[c],u.bodyY-=f[h]),a&&(y=t.toInt(s(f,"padding-left")),p=t.toInt(s(f,"padding-top")),u.x=i==1?u.x:y,u.y=i==1?u.y:p),u.x+=f[c],u.y+=f[h];for(n=n.parentNode,e=0,l=0;n&&n!=document.body;){if(o=s(n,v),o=="relative"){l=1,n=n.parentNode;continue}o=="fixed"&&(e=1),r||!l&&o!="absolute"?u.y-=t.toInt(n.scrollTop):o=="fixed"&&(e=-1),n=n.parentNode}return e==1&&(u.y+=t.toInt(t.scrollTop())),u.left=u.x,u.top=u.y,u.right=u.x+u.width,u.bottom=u.y+u.height,u.addScrollTop=e,u},t.toInt=function(n){return n=parseInt(n),isNaN(n)?0:n},t.locCompare=function(n,t){return n.bodyX!=t.bodyX||n.bodyY!=t.bodyY||n.top!=t.top||n.left!=t.left||n.bottom!=t.bottom||n.right!=t.right?1:0},t.getStyle=function(n,i){var u="",f,r;return t.doc.defaultView&&t.doc.defaultView.getComputedStyle?(f=t.doc.defaultView.getComputedStyle(n,""),u=f?f.getPropertyValue(i):""):n.currentStyle&&(i.indexOf("-")>=0&&(r=i.split("-"),r[1]=r[1].substr(0,1).toUpperCase()+r[1].substr(1),i=r.join("")),u=n.currentStyle[i]),u},t.isChildOf=function(n,t,i){try{for(i||(i=window.document);t&&t!==n&&t!=i;)t=t.parentNode;return t===n}catch(r){return!1}},t.pn=function(n,t){for(var r=$css.has(n,t),i=r?n:null;!i&&(n=n.parentNode)&&typeof n!="undefined";)$css.has(n,t)&&(i=n);return i},t.docHeight=function(n){if(n||!r){var u=t.doc.documentElement.clientHeight,i=t.doc.body.clientHeight,f=i!=undefined?i:window.innerHeight+window.scrollMaxY;r=Math.max(f,u)}return r},t.docWidth=function(){if(!u){var n=t.doc.body.clientWidth;u=n!=undefined?n:document.width}return u},t.scrollTop=function(){var n=t.toInt(t.docEl.scrollTop),i=t.toInt(window.scrollY);return Math.max(n,i)},t.scrollLeft=function(){var n=t.toInt(t.docEl.scrollLeft),i=t.toInt(window.scrollX);return Math.max(n,i)},t.clientHeight=function(){return t.docEl.clientHeight-($B.IE?16:0)},t.clientWidth=function(){return t.docEl.clientWidth-($B.IE?16:0)},l()}(window.originaljQuery||jQuery),function(n){var i=window,r=i.Debug,t=i.$css,u;t.getCN=function(n,i,u){var o=[],e,f;if(u&&u.getElementsByTagName)for(e=u.getElementsByTagName(i),f=0;f<e.length;f++)t.has(e[f],n)&&(o[o.length]=e[f]);return o},t.addHideBorder=function(t,i){i=i||this,n(i).addClass("c_nobdr")},t.removeHideBorder=function(t,i){i=i||this,n(i).removeClass("c_nobdr")},t.addPressedState=function(t,i){i=i||this,n(i).addClass("t_prs")},t.removePressedState=function(t,i){i=i||this,n(i).removeClass("t_prs")},u=i.$edh={e:function(n,t){var r=t||"inline",i;n.nodeName.toLowerCase()=="span"&&n.className.indexOf("c_ld")!=-1&&(i=n.lastChild,i&&(n.parentNode.insertBefore(i,n),i.style.display=r,n.parentNode.removeChild(n)))},d:function(n){var t,i;n.nodeName.toLowerCase()!="a"||n.parentNode.nodeName.toLowerCase()=="span"&&n.parentNode.className.indexOf("c_ld")!=-1||(t=document.createElement("span"),t.innerHTML=n.innerHTML,t.className=n.className?n.className+" c_ld":"c_ld",i=n.getAttribute("title"),i&&t.setAttribute("title",i),n.style.display="none",n.parentNode.insertBefore(t,n),t.appendChild(n))}},$B&&$B.SF_iPhone&&n(function(){n(".sc").length>0&&n(i.document).bind("touchmove",function(t){n(t.target).closest(".sc").length===0&&t.preventDefault()})})}(window.originaljQuery||jQuery),function(n){function it(n,r,f,e,h,c){c?(n[t][y]=f+i,n[t][p]=r+i,k()||(n[t][o]=l(f)+e+i,n[t][s]=l(r)+h+i)):n[t][u]=r+i+" "+f+i}function ot(n,t,r,u,f,e,o,s,h){var a,c,l;return s=s||s==""?s:o,a='<span class="{0}"><img class="{1}" src="{2}" onload="this.onload=null;$Do.when(\'$IS.Init\',0,this);" style="width:{3};height:{4};background-position:{5};background-image:{6};" alt="{7}" title="{8}"/><\/span>',c=a.format(v,"is_img",f+"is/invis.gif",r+i,u+i,"-"+n+i+" -"+t+i,"url('"+e+"')",o,s),h?c:(l=_ce("span"),l.innerHTML=c,l.firstChild)}function st(n,t,i,u){n=rt(n.split(",")),t=rt(t.split(",")),i=i?i.trim():i;var e=$B.rtl&&n[1]?n[1]:n[0];return r.Create(t[0],t[1],t[2],t[3],i,i+e,t[4],null,u)}function rt(n){for(var i,t=0;t<n.length;t++)i=n[t],i&&(n[t]=i.trim());return n}function b(n){if(n)for(var r=n.getElementsByTagName("span"),u=r.length,f,t=-1;t<u&&!f;t++){var i=t==-1?n:r[t],o=e(i,v),s=e(i,w);if(o||s)return i}return null}function ut(n){var rt,u,r,it,s,i,o,y,yt;if(n.tagName!=h&&(n=b(n).getElementsByTagName(h)[0]),n&&e(n,"is_img")&&(rt=n[t],u=n[a],u&&(u.dir=$B.ltr?"ltr":"rtl",r=k(),et||!r))){var p='"style="width:{2}px;height:{3}px;"',ut='<span class="',ft='<img src="{6}"',ot="<\/span>",pt=[ut,"is_o",p,">",ut,"is_i",p,">",ft,'class="is_hcimg {11}"alt="{1}"{10}style="left:-{4}px;top:-{5}px;width:{7};height:{8};{9}"/>',ot,ot,ft,'class="is_p',p,"/>"].join(""),st=u[a];if(st)for(it=st.getElementsByTagName("span"),s=0;s<it.length;s++)it[s][t].zoom=1;i=rt[nt],o=i.indexOf("http"),o===-1&&(o=i.indexOf('url("')+5),i=i.substr(o,i.length-o-(i.endsWith('")')?2:1));var c=g(n),ht=d(n),ct=l(ht.x),lt=l(ht.y),at,vt;r||(at=ct+c.w,vt=lt+c.h),y=n.title,yt=pt.format(n.src.encodeHtmlAttribute(),n.alt.encodeHtmlAttribute(),c.w,c.h,ct,lt,(r?i:n.src).encodeHtmlAttribute(),r?tt:at+"px",r?tt:vt+"px",r?"":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i.encodeHtmlAttribute()+"',sizingMethod='crop');",y||y==""?'title="'+y.encodeHtmlAttribute()+'"':"",n.className.replace("is_img","")),$css.swap(u,v,w),u.innerHTML=yt}}function ft(n){var e,i,o,r,u;for(e=n.getElementsByTagName(h),i=0,o=e.length;i<o;i++)r=e[i],u=r.className,(u=="is_img"||u=="is_hcimg"||u=="is_p")&&(r.onload=null,r[t][nt]="")}function k(){return!$B.IE_M6||$B.IEM_M8}function d(i){var r=n(i),f=i[t],e=(f[u]||r.css(u)||"").split(" "),o=parseInt(f[u+"X"]||r.css(u+"X")||e[0]),s=parseInt(f[u+"Y"]||r.css(u+"Y")||e[1]);return{x:o,y:s}}function g(i){var r=n(i),u=i[t],f=i.currentStyle||(window.getComputedStyle?window.getComputedStyle(i,0):{}),e=parseInt(u[s]||f[s]||r.css(s)),h=parseInt(u[o]||f[o])||r.css(o);return{w:e,h:h}}var c=window,f=c.Debug;c.$IS={};var r=c.$IS,e=$css.has,l=Math.abs,y="top",p="left",o="height",s="width",i="px",u="backgroundPosition",nt="backgroundImage",t="style",a="parentNode",tt="auto",h="IMG",v="is_c",w="is_hc",et=c.$Utility.isHighContrast();r.setClass=function(i,r){var c,u,l,v;if(i&&(c=b(i),c&&(u=c.getElementsByTagName(h)[0],l=e(c,w),u.className=(l?"is_hcimg ":"is_img ")+r,l))){var p=u[a],nt=n(u),y=d(u);k()||(u[t][s]="",u[t][o]=""),v=g(p),it(u,y.x,y.y,v.h,v.w,l)}},r.toggle=function(i,r,u){var s,nt,w,ut;if(i&&r!=0&&(s=b(i),s)){var o=s.getElementsByTagName(h)[0],k=e(s,v),tt=o;k||(tt=o[a]),u&&(o.alt=u,o.title!=null&&(o.title=u));var rt=n(o),c=rt.css(p)||o[t][p],l=rt.css(y)||o[t][y];k&&(nt=d(o),c=nt.x,l=nt.y),c=parseInt(c),l=parseInt(l),w=g(tt),ut=l-w.h*r,it(o,c,ut,w.h,w.w,!k)}},r.Create=ot,r.CreateFromConfig=st,r.Init=ut,r.disposeAll=ft,$Do.register("$IS.Init",ut),$Do.register("$IS.disposeAll",ft)}(window.originaljQuery||jQuery),function(n){function t(p,w,k,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii){function ao(){pu=!0,p.binding=ri,r(o,l,ri.dispose),r(p,hu,uf),r(w,hu,uf),r(w,fr,cr),r(w,iu,go),r(e,yu,vi),r(e,iu,vi),r(e,"touchend",ns),r(e,te,fo),r(e,re,vi),$B.Firefox&&r(e,ue,vi),ki=w.tagName==y,ri.isHoverMenu=(ft==="mouseover"||ft==="mousemove"||ft==="focus")&&!ki,st||(st=250,wu=1e3),ht=ht||200,ri.isHoverMenu?(r(w,vu,ri.menuOnmouseout),r(w,c,ri.menuOnmouseover),r(p,vu,ri.menuOnmouseout),r(p,c,ri.menuOnmouseover),r(w,cu,ri.menuOnmouseover)):ft&&!pt&&(ii&&(ft==="keyup"||ft==="mousedown"||ft==="click")?o.setTimeout(function(){n(w).bind("keyup"+v,function(n){n.which===13&&ri.toggleState(n)}).bind("mousedown"+v,function(n){ri.toggleState(n)})},0):o.setTimeout(function(){r(w,ft,ri.toggleState)},0)),!s||$B.IE&&$B.V<7||(oi=e.createElement("div"),oi[pr]="c_m_sbox",oo(oi,50),(ru||$B.S60_Symbian)&&o.$Config&&$Config.ImagesBaseUrl&&(oi[f].background="url("+$Config.ImagesBaseUrl+"/imgs/black_50.png)"),e.body.insertBefore(oi,e.body.firstChild),$B.SF_iPhone&&r(oi,iu,vi)),rr[bi]=fu,we(),wf(),r(o,ie,be)}function we(){var w=p.getElementsByTagName("*"),b,e,c,k,h,d,u;for(cf=0,nu=null,hi=[],e=null,c=0,k=w.length;c<k;c++){var t=w[c],g=n(t),l=t.tagName=="SPAN"&&$css.has(t,"c-NavLinkDisabled"),v=t.tagName=="SPAN"&&$css.has(t,"c-InformationRow");if(t.tagName==="UL"&&$css.has(t,"c_m")&&g.css("position")==="absolute"&&(e&&$f.isChildOf(e,t,p)||(e=t)),(t.tagName=="A"||t.tagName==y||l||v)&&(!e||!$f.isChildOf(e,t,p))&&(h=so(t),h==p||h&&h.binding&&h.binding.isOpen())){v||hi.push(t),u=t[a];try{d=u.tagName=="LI"||u.tagName=="DIV"}catch(nt){}d&&(s||(i(t,lu,hr),i(t,au,hr),i(t,ef,$f.cancelEvent),r(t,lu,hr),r(t,au,hr),r(t,ef,$f.cancelEvent),!$B.RE_WebKit||t.getAttribute("tabindex")||l||v||t.setAttribute("tabindex",1),t[f].zoom="0",($css.has(t,"uxfa_ml")||$css.has(t,"c_ml"))&&(cf=1),t.setAttribute("role","menuitem"),l&&t.setAttribute("aria-disabled","true"),o.$Sutra&&$Sutra.Shared&&$Sutra.Shared.MenuItemLink&&!u.getAttribute("sutra")&&sutra(u,"$Sutra.Shared.MenuItemLink")),u.style.display==="none"||$css.has(u,"NoDisplay")||(nu=nu||u,le=u),!gr&&$css.has(t,of)&&(di=t),si&&si.id&&si.id==t.id&&(b=1,gi(hi.length)))}}sr=hi.length,sr>0?(ar&&fi&&to(),ar=0,tr=hi[0],dr=hi[sr-1],r(tr,fr,cr),r(dr,fr,cr),nu?(lr.removeClass(ee),n(nu).addClass("c_m_firstchild"),n(le).addClass("c_m_lastchild")):lr.addClass(ee)):(bf(),ar=1),!b&&di&&gi(-1)}function hr(n){if(!ki){n=n||event;var t=n.target||n.srcElement;t.nodeName=="A"&&(n.type=="focusin"?setTimeout(function(){$css.add(t,kr)},0):setTimeout(function(){$css.remove(t,kr)},0))}}function be(n){if(or=1,!$css.has(p,"noresize")){var t=$f.docWidth();se!=t&&(se=t,tf(n,1))}}function wf(){var i,y,ft,st;if(!ar){rr[yi]=eu,i=so(w),i&&i!=w?ai=i.binding:ot!=undefined&&(k=ot),at&&(gr&&(p[f][h]="auto",$css.remove(p,"c_m_maxw")),p.offsetWidth>at&&(p[f][h]=at+u,$css.add(p,"c_m_maxw")));var e=3,c=e,l=$B.rtl,v=1;if(!ci&&s&&vo(),ir||s||(ir=$f.createIframe(),wi=ir[f],wi[su]=$f.getStyle(p,su),p[a].insertBefore(ir,p),r(ir,cu,eo)),bu=vt||w,$css.has(w,"c_m_usep")&&(bu=w[a]),ru||(o.$WLXIM&&o.$WLXIM.isSidebarOpened()&&(ku.right=nt),!it&&n(p).parents(".c_m").length>0&&(it={y:-tt,x:0}),li=$f.dockIt(p,bu,k,it,rt,et,ct,ku,co,lo),vf=li.targetLoc),s){var t=$f.docWidth(),b=$f.docHeight(),d=lf,g=o.screen[h],ut=0;oi&&(oi[f][ff]=b?b+u:"100%",oi[f][h]=t?t+u:"100%"),(!t||t>g&&!$B.SF_iPhone)&&(t=g),l=0,t>lf&&!ru?(y=$f.getLocation(w,rt,ce),ft=$B.rtl?y.right:y.left,ft>t/2&&(ut=t-lf,l=1),v=0):(d=t,c=0),li.x=ut,p[f][wr]=li.x+u,rr[h]=ei[h]=d-2+u,ru&&(p[f][br]=af+u),yo()}st=function(){li.height+=s&&v?e*2:0,ei[bi]=fu,s||(ei[h]=li.width+u),ei[ff]=li.height+u,ei[wr]=li.x+(l?-c:c)+u,ei[br]=li.y+(s&&v?-e:e)+u,ei[bi]=ne},!s||ru||$B.S60_Symbian||setTimeout(st,0),ir&&(wi[bi]=fu,wi[h]=li.width+u,wi[ff]=li.height+u,wi[wr]=li.x+u,wi[br]=li.y+u),or=0,fi?gr&&ri.show(0,1):bf()}}function vo(){for(ci=p;ci[pr]!=sf&&ci[gf];)ci=ci[gf];ci&&ci[pr]==sf||(ci=e.createElement("div"),ei=ci[f],ei[su]=$f.getStyle(p,su),ei[br]=0,ei[wr]=0,ci[pr]=sf,p[a].appendChild(ci)),ei=ci[f],ei[yi]=ou,ei.backgroundColor="#000",oo(ci,20)}function yo(){for(var u=0,r=[],f=p.getElementsByTagName("UL"),n,i,t=0;t<f.length;t++)n=f[t],$css.has(n,"c_gll")&&(r.push(n),ko(n),n.offsetTop>n.previousSibling.offsetTop&&(u=1));if(u)for(i=0;i<r.length;i++)bo(r[i])}function bf(){pu&&(tu&&!gu?(ui.stop(),nf=!1,gu=!0,clearTimeout(du),du=setTimeout(function(){de(),no(),ui.animate({height:0},pe,"linear",po)},10)):(ke(),s||no()),oi&&(oi[f][yi]=ou),gi(-1),setTimeout(function(){n(hi).removeClass(kr)},100),lr.attr("aria-expanded","false"),lr.removeAttr("aria-owns"))}function ke(){fi||(uu(),wi[bi]=ei[bi]=rr[bi]=fu,wi[yi]=ei[yi]=rr[yi]=ou,or&&(rr[br]=ei[br]=0,rr[wr]=ei[wr]=0)),n(wLive.Controls).trigger("aftermenudismiss",{menu:ri,parent:ai})}function de(){ui.css({overflow:"hidden"}),ui.removeClass("pause")}function uu(){ui.css({overflow:"",height:"auto"}),ui.addClass("pause")}function po(){gu=!1,ke()}function wo(){nf=!1,uu()}function ge(n){var t,i;n=n||ui.height(),t=li.spaceY,t>0&&n>=t&&!cf&&(ui.css("max-height",t+u),ui.addClass(hf),!ui.hasClass("c_mfw")&&(!$B.IE||$B.V<=8)&&(i=ui.width()+16,ui.css("min-width",i+u)))}function no(){ui.hasClass(hf)&&(ui.css({"max-height":"","min-width":""}),ui.removeClass(hf))}function to(){if(n(wLive.Controls).trigger("beforemenushow",{menu:ri,parent:ai}),oi&&(oi[f][yi]=eu),wi[yi]=ei[yi]=rr[yi]=eu,tu&&!nf){clearTimeout(du),ui.stop(),nf=!0,gu=!1,uu();var t=ui.height();de(),ui.css({height:0}),ui.animate({height:t},pe,"linear",wo),ge(t)}else s||ge();wi[bi]=ei[bi]=rr[bi]=ne,di==tr&&gi(0),$B.IE_M7&&(ui.find(".c_ms").each(function(){var t=n(this);t.css("width",t.parents("ul").width()-d+u)}),ui.find(".c_ml").each(function(){var t=n(this);t.css("width",t.parents("ul").width()-g+u)})),lr.attr("aria-expanded","true"),p.id&&lr.attr("aria-owns",p.id)}function tf(i,r){(r||ro()&&fi)&&(rf=(new Date).getTime(),fi=0,ri.closeEventSource(i&&i.srcElement),ar||bf(),t.current=ai,ai&&(ai.isHoverMenu&&(ai.tempHoverCloseDelay=ho),$B.IE&&pi&&w.focus(),setTimeout(function(){ai.update(1)},0)),ae.removeClass(fe),uo(),$B.IE&&$B.V<=8&&(ui.find(".c_ms").each(function(){n(this).css("width","")}),ui.find(".c_ml").each(function(){n(this).css("width","")})))}function io(){var n=_ge($PF.fid);if(n)try{i(n.contentWindow.document,yu,vi),i(n.contentWindow,l,io),t.closeCurrent(),yf=0}catch(r){}}function ro(){return(new Date).getTime()-rf>500}function uo(){for(var n=0,t=yr.length;n<t;n++)try{yr[n]()}catch(i){b.submitFromException(i,ur,99)}}function bo(n){n[f][yi]=ou,n.previousSibling[pr]=""}function ko(n){n[f][yi]=eu,n.previousSibling[pr]="c_gl"}function go(){if(!ki&&ri.isHoverMenu){var n=w.getAttribute("href");if((!n||n.endsWith("#"))&&fi&&!ut)try{tr.focus()}catch(t){}}}function ns(n){pf?(vi(n),fi||(pf=!1)):pf=!0}function vi(n){n=n||event;var t=n.target||n.srcElement;fi&&t&&!$f.isChildOf(p,t)&&w!=t&&!$f.isChildOf(w,t)&&ri.hide(n)}function fo(n){n=n||event;var t=n.target||n.srcElement,i=n.keyCode||n.which;i==9&&(nr=!1),fi&&(i==27?(oe=t.value,ri.hide(n)):pi||er!=w&&(i!=9||$f.isChildOf(p,er))||!tr||ut||vr!==-1||df(1)),ki&&t==w&&(fi||t.value==oe||kf()?fi&&kf()&&ri.hide(n):ri.show())}function kf(){return!yt&&ki&&w.value==""?!0:!1}function ts(){return!ki||!n(w).is(":focus")}function uf(i){i=i||event;var f=i.target||i.srcElement,u=i.keyCode||i.which,r=0;if(nr=u==9,pi=i.shiftKey,er=f,fi&&(ki||ti)){if(f==w||ti)if(u==40)df(1),r=1;else if(u==38)df(-1),r=1;else if(u==13){if(f.value!=""||bt)if(si){try{si.focus()}catch(e){}n(ri).trigger("EnterEvent",si)}else if(di){try{di.focus()}catch(e){}n(di).click(),n(ri).trigger("EnterEvent",di)}}else nr&&!pi?(n(ri).trigger("TabEvent",i),gi(-1),t.closeCurrent(i),ki||(r=1)):u==27&&fi?r=1:nr&&pi&&(gi(-1),t.closeCurrent(i),ki||(r=1));else nr&&(pi?pi&&gi(vr-1):er!=dr?gi(vr+1):gi(-1));if(r)return $f.cancelEvent(i)}return!0}function df(t){if(sr){for(var i=vr+t;i<sr&&i>=0&&!n(hi[i]).is(":visible");)i=i+t;i>=sr?i=sr-1:i<0&&(i=0),gi(i)}}function gi(n){sr&&(si&&$css.remove(si,kr),vr=n,vr>-1?(si=hi[vr],$css.remove(di,of),si&&($css.add(si,kr),setTimeout(function(){try{si.focus()}catch(n){}},0))):(si=ur,$css.add(di,of)))}function cr(n){nr&&pi&&er==w?(ri.hide(n),ri.menuOnmouseout()):!ar&&(!pi&&nr&&er==dr||pi&&nr&&er==tr)?(ri.hide(n),ri.menuOnmouseout()):fi||er!=w||ri.menuOnmouseout()}function eo(){var n=nr&&!pi?tr:w;try{n.focus()}catch(t){}}function oo(n,t){var i="opacity";$B.IE&&$B.V<=9&&(i="filter"),n[f][i]=i=="filter"?"alpha(opacity="+t+")":.01*t}function so(n){for(var t=n.binding&&n.binding.toggleState?n:null;!t&&(n=n.parentNode)&&typeof n!="undefined";)n.binding&&n.binding.toggleState&&(t=n);return t}var ur=null,gf="nextSibling",pr="className",bi="visibility",yi="display",fu="hidden",eu="block",ne="visible",ou="none",su="position",ff="height",wr="left",br="top",iu="click",hu="keydown",te="keyup",fr="blur",cu="focus",lu="focusin",au="focusout",vu="mouseout",yu="mousedown",ie="resize",ef="dragstart",re="mousewheel",ue="DOMMouseScroll",kr="t_seli",of="t_hov",sf="c_shad",fe="c_mf",hf="c_m_scroll",ee="c_emptymenu",pu,ui=n(p),lr=n(w),er=ur,pi,nr,tr,dr,hi,ci,oi,ir,or=1,gr,ar=1,fi,rr=p[f],ei={display:0,visibility:0},wi=ei,vr=0,si,sr=0,ki,oe,di,ai,cf,lf=320,yr=[],ho=1e3,wu,is=$f.docEl,af=0,se=$f.docWidth(),vf={},he=p.offsetParent,ce=he==document.body||he==$f.docEl,li={},yf,bu=w,nu,le,ae=wt?n(wt):lr.parent(),ku=kt||{},co=dt,lo=ni,ve="",ye,pf,rf;typeof ti=="undefined"&&(ti=!0);var du,gu,nf,tu=!s&&!($B.IE&&$B.V<=9)&&!$B.SF_iPhone&&!gt,pe=150,ru=$B.BlackBerry,ri=this;k===undefined&&(k=ur),ri.isHoverMenu=0,ri.tempHoverCloseDelay=0,ri.parentEl=ur,ri.keepHoverMenuOpen=0,ri.dispose=function(){if(i(p,hu,uf),i(w,hu,uf),i(w,fr,cr),i(e,yu,vi),i(e,iu,vi),i(e,te,fo),i(o,ie,be),i(e,re,vi),$B.Firefox&&i(e,ue,vi),ri.isHoverMenu?(i(w,vu,ri.menuOnmouseout),i(w,c,ri.menuOnmouseover),i(p,vu,ri.menuOnmouseout),i(p,c,ri.menuOnmouseover),i(w,cu,ri.menuOnmouseover)):ft&&(ii&&(ft==="keyup"||ft==="mousedown"||ft==="click")?(n(w).unbind("keyup"+v),n(w).unbind("mousedown"+v)):i(w,ft,ri.toggleState)),oi&&(i(oi,iu,vi),n(oi).remove()),ir&&(i(ir,cu,eo),n(ir).remove()),!s)for(var r=0;r<hi.length;r++)i(hi[r],lu,hr),i(hi[r],au,hr);i(tr,fr,cr),i(dr,fr,cr),p.binding=w.menu=ur,t.current==ri&&(t.current=null),tu&&uu(),i(o,l,ri.dispose),yr=[]},ri.update=function(t){var u,r,f;for(gr=!0,i(tr,fr,cr),i(dr,fr,cr),u=0;u<hi.length;u++)r=hi[u],i(r,lu,hr),i(r,au,hr),i(r,ef,$f.cancelEvent),$css.remove(r,kr),n(r).parent().removeClass("c_m_firstchild"),n(r).parent().removeClass("c_m_lastchild");we(),t||(f=tu,tu=!1,wf(),tu=f),gr=!1,ai&&setTimeout(function(){ai.update(t)},0)},ri.deactivate=function(){clearTimeout(du),uu(),pu=!1},ri.activate=function(){pu=!0},ri.convertToSubMenu=function(n){ri.setLoc(n)},ri.convertFromSubMenu=function(n){ri.setLoc(n)},ri.updateBinding=function(n){n=n||{},ku=n.edgeOffsets||ku},ri.hide=tf,ri.show=function(n,i){var e,f,u;if(nu||ui.hasClass("c_msem")){if(i||(f=$f.scrollTop(),(af!=f||!vf||$f.locCompare(vf,$f.getLocation(bu,rt,ce)))&&(af=f,or=1),!fi&&(or||lt)&&(wf(),e=1)),ai||t.current==ri||t.closeAll(),fi=1,ar||to(),ai&&ai.update(1),!gr&&!n&&!ri.isHoverMenu)try{w.focus()}catch(s){}if(ae.addClass(fe),uo(),o.$PF&&!yf&&(u=_ge($PF.fid),u))try{r(u.contentWindow.document,yu,vi),r(u.contentWindow,l,io),yf=1}catch(s){}t.current=ri}},rf=0,ri.toggleState=function(n){n&&n.originalEvent&&ri.triggerEventType(n.originalEvent.type),ro()&&(rf=(new Date).getTime(),fi||kf()?ts()&&tf(n,1):ri.show())},ri.isOpen=function(){return fi},ri.addStateListener=function(n){yr.push(n)},ri.removeStateListener=function(n){for(var t=0,i=yr.length;t<i;t++)if(yr[t]==n){yr.splice(t,1);return}},ri.setOffset=function(n){it=n,or=1},ri.invalidatePosition=function(){or=1},ri.setLoc=function(n){k=n,or=1},ri.menuOnmouseover=function(){if(w.unhover&&(clearTimeout(w.unhover),w.unhover=ur),!fi&&!w.hover){var n=st;t.tempOpenDelayTimer&&wu&&(n=1),w.hover=setTimeout(function(){fi||ri.show()},n)}},t.tempOpenDelayTimer=0,ri.menuOnmouseout=function(){w.hover&&(clearTimeout(w.hover),w.hover=ur),!fi||w.unhover||ri.keepHoverMenuOpen||(ri.tempHoverCloseDelay=ri.tempHoverCloseDelay||ht,w.unhover=setTimeout(function(){tf()},ri.tempHoverCloseDelay),ri.tempHoverCloseDelay=0,wu&&(clearTimeout(t.tempOpenDelayTimer),t.tempOpenDelayTimer=setTimeout(function(){t.tempOpenDelayTimer=null},wu)))},ri.getSelectedEl=function(){return si?si:di},ri.triggerEventType=function(n){return typeof n!="undefined"&&(ve=n),ve},ri.closeEventSource=function(n){return typeof n!="undefined"&&(ye=n),ye},ao()}function w(){($B.Chrome||$B.Safari)&&(i(e,c,t.emptyFunction),i(o,l,w))}function r(t,i,r){t&&n(t).bind(i,r)}function i(t,i,r){t&&n(t).unbind(i,r)}var o=window,b=o.$WebWatson,u="px",c="mouseover",l="unload",f="style",h="width",a="parentNode",y="INPUT",k="h/c7.png,h/c7_rtl.png,",v=".wliveMenu",d=30,g=35,nt=300,tt=10,s=$B.Mobile,p=$B.IE_M6,e=$f.doc,it='<ul class="uxfa_m c_m t_hovl"><\/ul>',rt='<li class="c_mcp"><\/li>',ut='<a class="uxfa_ml c_ml"><span class="c_mlu"><\/span><\/a>',ft='<span class="c_chev"><\/span>',et="click";t.closeCurrent=function(n){t.current&&t.current.hide(n,1)},t.current=null,t.closeAll=function(){while(t.current)t.closeCurrent()},t.chevronTypes={SmallLeftDark:["154,17,6,8","&#9668;"],SmallLeftLight:["154,33,6,8","&#9668;"],SmallRightDark:["192,17,6,8","&#9658;"],SmallRightLight:["192,33,6,8","&#9658;"],SmallUpDark:["67,17,8,8","&#9650;"],SmallUpLight:["67,33,8,8","&#9650;"],SmallDownDark:["114,17,8,8","&#9660;"],SmallDownLight:["114,33,8,8","&#9660;"],SmallPlusLeftDark:["145,17,8,9","&#9668;"],SmallPlusLeftLight:["145,33,8,9","&#9668;"],SmallPlusRightDark:["184,17,8,9","&#9658;"],SmallPlusRightLight:["184,33,8,9","&#9658;"],SmallPlusUpDark:["57,17,9,8","&#9650;"],SmallPlusUpLight:["57,33,9,8","&#9650;"],SmallPlusDownDark:["104,17,9,8","&#9660;"],SmallPlusDownLight:["104,33,9,8","&#9660;"],MediumLeftDark:["135,17,9,11","&#9668;"],MediumLeftLight:["135,33,9,11","&#9668;"],MediumRightDark:["175,17,9,11","&#9658;"],MediumRightLight:["175,33,9,11","&#9658;"],MediumUpDark:["45,17,11,9","&#9650;"],MediumUpLight:["45,33,11,9","&#9650;"],MediumDownDark:["92,17,11,9","&#9660;"],MediumDownLight:["92,33,11,9","&#9660;"],LargeLeftDark:["123,17,11,15","&#9668;"],LargeLeftLight:["123,33,11,15","&#9668;"],LargeRightDark:["162,17,11,15","&#9658;"],LargeRightLight:["162,33,11,15","&#9658;"],LargeUpDark:["29,17,15,11","&#9650;"],LargeUpLight:["29,33,15,11","&#9650;"],LargeDownDark:["76,17,15,11","&#9660;"],LargeDownLight:["76,33,15,11","&#9660;"],EllipsisDark:["232,1,16,4",""],EllipsisLight:["232,17,16,4",""],SmallCheckDark:["1,1,12,12",""],SmallCheckMedium:["1,17,12,11",""],SmallCheckDisabled:["1,33,12,11",""],SmallCheckLight:["1,49,12,11",""],LargeCheckDark:["14,1,14,12",""],LargeCheckMedium:["14,17,14,12",""],LargeCheckDisabled:["14,33,14,12",""],LargeCheckLight:["14,49,14,12",""],LargeDotDark:["249,1,8,8",""],LargeDotLight:["249,17,8,8",""],SquareDark:["276,1,8,8",""],SquareLight:["276,17,8,8",""]},t.createChevron=function(n,t){if(p||s)return n[1];var i=n[0]+",";return $IS.CreateFromConfig(k,i,$Config.imgsBase,t)},t.emptyFunction=function(){},function(){($B.Chrome||$B.Safari)&&(r(o,l,w),r(e,c,t.emptyFunction))}(),t.bind=function(n,i,r,u,f,e,o,s,h,c,l,a,v,y){var p={offset:r,alt:u==undefined?0:u,nofocus:f,posabs:e,defaultLoc:o,hoverDelay:s,hoverCloseDelay:h,forceDispose:c,parentEl:l,menuEl:a,eventType:v,sourceEl:y};return t.create(n,i,p)},t.create=function(n,i,r){function dt(){var f=!1,u=1,s=2,r=0;return e.binding?(r=u,e.binding.updateBinding({edgeOffsets:d})):e&&o&&(c=c||n.type,e.binding=new t(e,o,i,nt,tt,it,c,rt,ut,ft,et,ot,st,ht,ct,lt,b,at,vt,d,yt,pt,wt,bt,kt),r=u,(c=="mouseover"||c=="focus")&&o.tagName!=y&&(r=s),o.menu=e.binding,f=!0),e.binding.triggerEventType(n.type),r==u?e.binding.toggleState():r==s&&e.binding.menuOnmouseover(),f}var l,v;n=n||event,r=r||{};var g=n.target||n.srcElement,w=["c_ml","c_mcp","c_m"],k=g,nt=r.offset,tt=r.alt==undefined?1:r.alt,it=r.nofocus,rt=r.posabs,ut=r.defaultLoc,ft=r.hoverDelay,et=r.hoverCloseDelay,b=r.forceDispose,s=r.parentEl,e=r.menuEl,c=r.eventType,o=r.sourceEl,ot=r.skipEdgeDetection,st=r.noDockCache,ht=r.maxWidth,ct=r.dockEl,lt=r.showOnEmptyInput,at=r.pressedStateEl,vt=r.allowClickOnEmptyInput,d=r.edgeOffsets||{},yt=r.sourceRelativeToBody,pt=r.disableAnimations,wt=r.targetLoc,bt=r.arrowKeysNavigate,kt=r.bindEnterKey;if(o=o||$f.pn(k,w[0]),o&&(typeof o.menu=="undefined"||o.menu===null||b||r.edgeOffsets)&&(s=s||$f.pn(k,w[1])||o[a],s)){for(p&&s.tagName=="LI"&&$css.has(s[a],"c_m")&&(s[f][h]=s.offsetWidth+u),l=s.childNodes,v=l.length;v--&&!e;)e=$css.has(l[v],w[2])?l[v]:null;return b&&e&&e.binding&&e.binding.dispose(),dt()}return!1},t.createSubmenuContainer=function(){return n(it)},t.createSubmenuA=function(t,i){var r=n(ut);return n("span",r).append(t),i&&i.length>0&&r.append(i),r},t.createSubmenuChevron=function(i){var u=i||t.chevronTypes.SmallRightDark,r=n(ft);return r.append(t.createChevron(u)),r},t.createSubmenuItem=function(t,i,r){var u=n(rt);return t&&t.length>0&&u.append(t),i&&i.length>0&&u.append(i),r&&u.bind(et,r),u},o.$menu=t}(window.originaljQuery||jQuery),function(n){function ai(n,t,i){var h=t[l]||"NA*NA*",e=pi(t),c=vi(e.time),a=ot(w("ANON",1)).A||v,o=p.$WebWatson,k=o&&o.foundException()?1:0,d=b(s.latency),g=b(y.thr),nt=h+":"+rt(u.prop,20)+"*"+rt(n)+"."+it,f;return f={ANON:a,NL:d,TP:g,CL:u.mmn||v,MA:u.mkt,B:u.build,TR:nt,PLT:e.time,IR:tt&&!e.nostart&&!i?1:0,EX:k},yi(f,e.lapseReport,c),ur(f),cr(f,lt),f}function rt(n,t){t=t||ci;var i=n.length;return n=i>t?n.substr(i-t):n,n.encodeUrl()}function vi(n){return e>0&&!h(n)&&n>0?{tprs:Math.round(e/128/(n/1e3)),size:Math.round(e/1024*10)/10}:d}function yi(n,t,i){var r,u;if(y.plt&&(n.PLM=y.plt),y.com&&(n.PCT=y.com),y.req&&(n.PCD=y.req),i&&(n.SZ=i.size,n.TPRS=i.tprs),t)for(r=0;r<t.length;r++)u=t[r],n[u.key]=u.val}function pi(n){var r,i,u,f;return t._ttg&&t.lapse.push({s:"ttg",t:t._ttg}),r=pt.timeStamp,(h(r)||0==r)&&(r=dt()),i=n.ST||0,i==0&&window.performance&&window.performance.timing&&(i=window.performance.timing.navigationStart,tt=1),t.ttxDeferred.resolve(i),t.TTxDeferred.resolve(i),t.addCsd("st",i),u=r-i,f=wi(i,r,t.lapse),{nostart:i==0,time:u>0?u:0,lapseReport:f}}function b(n){var t=parseInt(n);return isNaN(t)?0:t}function h(n){return"undefined"==typeof n||!n||v==n}function fi(){var n={latency:s.latency,throughput:s.throughput};si(n),s=n}function ei(){kt(),fi(),ut.deleteCookie(ct,u.sd)}function bt(){try{var n=window.location;return n.hostname+n.pathname}catch(t){return document.domain}}function wi(n,t,i){var f=[],r,o,u,e;if(i&&i.length>1&&t-n>0)for(i[0]={s:"Start",t:n},r=0;r<i.length-1;r++)o=i[r],u=i[r+1],h(u)||(e=u.t-n,e>0&&(f[f.length]={key:"L."+u.s,val:e}));return f}function bi(n,i,u,f){n=n||bt(),e=b(u.p),(h(e)||e<=0)&&(e=h(i)?0:b(i));var o=s[a],c=s[l];c&&o&&(u[l]="0*"+c+"*",u[a]=o,tt=1,fi()),t.GT1Param=ai(n,u,f),t.payloadHash=ar(t.GT1Param)}function ki(n){n[l]=v,n[a]=v,gt(n)}function kt(){e=0,pt.timeStamp=0,g={},lt={},t.csd={},t.lapse=[{}],t._ttg=0,t.payloadLength=0,o.rt=0}function di(n,u){if(!i.enabled){ei();return}!$BSI.sendToIdss()&&t.payloadHash.ANON&&t.fireCsiPerfBeacon(),h(n)&&(n=bt());var f=ht();f[l]=n+"."+it,f[a]=dt(),f.p=h(u)?0:b(u),gt(f)}function gi(){var r=window.performance,n,t,i;r&&(n=r.timing,n&&(t=n.navigationStart,c("jsPlt",t,n.loadEventEnd),c("1Pnt",t,n.msFirstPaint),c("domIn",t,n.domInteractive),c("rdir",n.redirectStart,n.redirectEnd),c("dns",n.domainLookupStart,n.domainLookupEnd),c("tcp",n.connectStart,n.connectEnd),c("req",n.requestStart,n.responseEnd),c("resp",n.responseStart,n.responseEnd)),i=r.navigation,i&&($CSIPerf.addNtd("navType",i.type),$CSIPerf.addNtd("redirectCount",i.redirectCount)))}function c(n,t,i){t&&i&&i>t&&$CSIPerf.addNtd(n,i-t)}function nr(n){if(!i.enabled){ei();return}var r=ht();gi(),bi(f.pn,t.payloadLength,r,n)}function tr(){if(i.enabled){var n=t.GT1Param,u=st(n)||!n.IR?"nostart":nt(n);vt.enabled&&$BSI.addBeaconParams({csiperf:u})}}function ir(){if(i.enabled){var n=t.GT1Param;wt.enabled&&o.enabled&&n&&t.fireOnLoad&&(delete n.ANON,delete n.MA,delete n.CL,n.RT=o.rt,n.bicild="",k.fire(u.handlerBaseUrl+"/Handlers/PerfMonitor.mvc",$BSI.addHandlerDPs(n),o.render?rr:0,0,1))}t.GT1Param=null}function oi(n,t){if(n){var i=n.indexOf(" PLT: ");i>-1&&(n=n.substr(0,i)),n+=t}else n=t;return n}function rr(){var t=w("SBSPLT"),n;if(t){n=" PLT: "+parseInt(t)+"ms";try{window.top.document.title=oi(window.top.document.title,n)}catch(i){document.title=oi(document.title,n)}}}function ur(n){st(t.csd)||ti(n,t.csd),st(g)||ti(n,g)}function st(n){if(n)for(var t in n)return!1;return!0}function dt(){return(new Date).getTime()}function fr(n){if(u=$Config,f=u.BSI||{},o=f.SBSPLT||{},i=f.CSIPerf||{},vt=i.IDSS||{},yt=i.Trace||{},pt=i.page||{},wt=i.WLXFD||{},_csiPerfConfigOmniture=i.Omniture||{},n,!i.disableTimers){if(!i.skipStopTimer&&(nr(n),tr(),ir(),i.enabled&&!i.pltDetectionDisabled)){var t=ht(),e=u.prop;t.l!=e&&(t.l=e,gt(t),setTimeout(er,li))}ki(ht()),$BSI.sendToIdss()&&kt(),at=(new Date).getTime()}}function ht(){var n=w(ct,1);return n==ft?et:(ft=n,et=ot(n))}function gt(n){et=n,ft=nt(n),ui(ct,ft,u.sd,d,d,1)}function er(){function n(){var n=(new Date).getTime()-t;w("pltmode",1)=="1"&&(s.latency=n,si(s),ut.deleteCookie("pltmode",u.sd,"/"))}var t=(new Date).getTime(),i={bicild:"",v:u.build};k.fire(u.handlerBaseUrl+"/Handlers/Plt.mvc",i,n,n,1)}function si(n){var t=new Date;ui(ri,nt(n),u.sd,d,new Date(t.getUTCFullYear()+1,t.getUTCMonth(),t.getUTCDay()),1)}function or(n,e,o,s,c){var l,a;o||!c||i.disableTimers||(l=h(f.pn)?bt():f.pn,t.setPerformanceId(it||sr(e)),a=rt(u.prop,20)+"*"+rt(l),di(a,t.payloadLength),tt=1)}function sr(n){for(var i=v,t;n&&n.getAttribute;){if(t=n.getAttribute("pid"),t){i=t;break}n=n.parentNode}return i}function hi(n){i.enabled&&yt.enabled&&o.enabled&&k.fire(u.handlerBaseUrl+"/Handlers/Bandwidth.mvc",$BSI.addLDToHash($BSI.addHandlerDPs(n)))}function hr(n,t,e){var s=this,c,h=(new Date).getTime(),l={};s.lapse=[],s.addCsd=function(n,t){ni(l,n,t)},s.addLapse=function(n){s.lapse.push({s:n,t:(new Date).getTime()})},s.endTrace=function(){var v,a,y;c||(c=1,i.enabled&&yt.enabled&&o.enabled&&(v=(new Date).getTime(),a={tc:n,tcs:t,ti:v-h,th:h-$BSI.headTime,to:at?h-at:-1},lr(a,s.lapse,h,v),ti(a,l),y=u.handlerBaseUrl+"/Handlers/Trace.mvc",e&&(a.wli="csi",y=f.BICI.beaconUrl),k.fire(y,$BSI.addLDToHash($BSI.addHandlerDPs(a)))))}}function ni(n,t,i){n[t]=i}function ti(n,t){for(var i in t)n["C."+i]=t[i]}function cr(n,t){for(var i in t)n["N."+i]=t[i]}function lr(n,t,i){for(var f=t.length,r=0,u;r<f;r++)u=t[r],n["L."+u.s]=u.t-i}function ar(n){var r={},i,u;for(i in n)(i.indexOf("C.")===0||i.indexOf("N.")===0||i==="ANON"||i==="CL"||i==="B"||i==="TR"||i==="IR"||i==="PLT")&&(r[i]=n[i]);return r["C.TR"]&&r["C.TR"].indexOf("0-")==0&&r.TR&&(u=r.TR.substring(0,r.TR.indexOf(":")),r["C.TR"]=r["C.TR"].replace("0-",u+".")),n["L.ttg"]&&(r[t.timingPrefix+"g"]=n["L.ttg"]),r}var p=window,k=p.$Beacon,ut=p.$Cookie,ii=p.$Utility,r=p.Debug;var ct="BP",ci=40,ri="wlidperf",l="FR",a="ST",d=null,v="",li=5e3,t=$CSIPerf;t.GT1Param=null,t.payloadLength=0,t.TTxDeferred=n.Deferred(),t.ttxDeferred=n.Deferred(),t.payloadHash={},t.fireOnLoad=!0,t.timingPrefix="T.";var e=0,vr=d,g={},lt={},at,ft,et={},u=p.$Config,f=u.BSI||{},o=f.SBSPLT||{},i=f.CSIPerf||{},vt=i.IDSS||{},yt=i.Trace||{},pt=i.page||{},wt=i.WLXFD||{},w=ut.getCookie,ui=ut.setCookie,nt=ii.serialize,ot=ii.deserialize,s=ot(w(ri,1)),y=ot(w("wl_preperf",1)),tt=f.ir,it=v;t.lapseTimer=function(n,i){var u;u=i&&i>0?i:b(dt()),t.lapse.push({s:n,t:u})},t.setUploadTP=function(n,t,i,u){var e={dir:"up",sz:n,ti:t,d:u,pn:f.pn,ext:i};hi(e)},t.setDownloadTP=function(n){var t={dir:"down",pn:f.pn,rate:n};hi(t)},t.startTrace=function(n,t,i){return new hr(n,t,i)},t.endTrace=function(){},t.setPerformanceId=function(n){it=rt(n,20)},t.addCsd=function(n,t){ni(g,n,t)},t.csdContains=function(n){return g[n]},t.addNtd=function(n,t){ni(lt,n,t)},t.clearTTxDeferred=function(){t.TTxDeferred=null},t.fireCsiPerfBeacon=function(){k.fire(f.BICI.beaconUrl,t.payloadHash),kt(),t.ttxDeferred=n.Deferred(),t.payloadHash={}},t.addTTxEvent=function(n,i){t.ttxDeferred&&t.ttxDeferred.done(function(r){t.payloadHash[t.timingPrefix+n]=i-r})},t.dontFireOnLoad=function(){t.fireOnLoad=!1,$BSI.sendToIdss(!1)},$BSI.addLoadedCallback(fr),$BSI.addNavCallback(or)}(window.originaljQuery||jQuery),function(){function w(t){var i=t.error;i&&(t.errorCode=t.errorCode||n.getErrorCode(i),t.stackTrace=t.stackTrace||i.stack,t.resultDetails=t.resultDetails||{},i.name&&(t.resultDetails.name=i.name),i.message&&(t.resultDetails.message=i.message))}function f(){var u,i,f;r&&(t.clearTimeout(r),r=null),u=t.$Config,i=u.ContactCache,i&&i.logEnabled&&(f=JSON.stringify({actions:n.actionHistory}),n.actionHistory=[],$Network.fetchXML(u.handlerBaseUrl+"/Handlers/PeopleApi/log.mvc?canary="+i.canary.encodeURIComponent(),function(){},"POST",f))}function b(i){var u=window.$Config.ContactCache,e;u&&(e=u.logVerbose,e&&c(i),n.actionHistory.length>=u.actionHistoryMaxLength?(u&&u.logVerbose&&f(),n.actionHistory.shift()):u.logVerbose&&u.logEnabled&&!r&&(r=t.setTimeout(f,5e3)),n.actionHistory.push(i))}function c(n){var i,r;if(t[u]&&t[u][s]){if(i=[n.eventType],n.message&&i.push(n.message),n.resultCode&&i.push(n.resultCode),n.stackTrace&&i.push(n.stackTrace),n.resultDetails)for(r in n.resultDetails)i.push(r+":"+n.resultDetails[r]);t[u][s]("People: "+i.join(" - "))}}var t=window,e=t.wLive,l=e.People={},o=t.$ScenarioQoS,a=e.ScenarioQoSStats,i="WL_People_Cache",u="console",v="error",y="errorType",s="log",p="undefined",h={MissingTicket:{type:"c"},PassportAuthFail:{type:"c"},InvalidPassportUser:{type:"c"},"401":{type:"c"},"5000":{type:"f",name:"ProxyLoadFailure"},CantAccessIframeStorage:{type:"c"},"15":{type:"c"},"18":{type:"c"},"22":{type:"c",name:"StorageExceededOrDisabled"},NoStorage:{type:"c"}},r,n=l.Reporter={isQosEnabled:!1,lastError:null,actionHistory:[],logAction:function(t){n.log({eventType:t})},logError:function(t,i,r){n.log({eventType:t,error:i},r)},logDetails:function(t,i,r){n.log({eventType:t,resultDetails:i},r)},log:function(n,t){n&&n.eventType&&(w(n),b(n),t&&f())},verbose:function(){for(var i,t=0;t<n.actionHistory.length;t++)c(n.actionHistory[t]);i=window.$Config.ContactCache,i&&(i.logVerbose=!0)},handleError:function(t,i,r,u,f,e,o,s,h,c){n.log({eventType:"PageError",resultCode:u,stackTrace:o,resultDetails:{message:t,jsUrl:i,jsLine:r,data:h,hostname:f,action:s,isHidden:c}},!0)},startScenario:function(t){var r=i+"_"+t;return n.isQosEnabled?o.startScenario(r,i):null},stopScenario:function(t,i,r){var u,e,f,s,c;r&&!n.lastError&&(n.lastError=r),n.isQosEnabled&&(u=undefined,e=!1,!i&&r&&(f=h[r],f&&f.type&&(u=f.type,e=u==="f")),t.id&&(s=!i,c=i?null:r,n.log({eventType:t.id,resultCode:c,success:i,isQosImpacting:e},s)),o.stopScenario(t,i,r,u))},addStats:function(t,r,u,f){var c=i+"_"+t,e=u?h[u]:null,o=e&&e.name?e.name:u,l,p,s;o&&(this.lastError=o),l=e?e.type=="f":!1,p=f?f.id:null,n.log({eventType:c,resultCode:o,success:!!u,isQosImpacting:l,resultDetails:{api:c,property:i,scenario:p}}),n.isQosEnabled&&f&&(s={api:c,dependent:i},e&&(s[y]=e.type),o&&(s[v]=o),a.add(s,r,f))},getErrorCode:function(n,t){return t=t||"Unknown",n.errorCode?n.errorCode:n.code?n.code:t},isNullOrUndefined:function(n){return typeof n===p||n==null}}}(),function(n){function c(o,h){function k(){t.clearTimeout(y),y=t.setTimeout(d,s)}function c(){a&&(h&&h(),a=!1),k()}function d(){a||(o&&o(),a=!0)}var v=this,p=i.IE?"MSPointerDown":"touchstart",w=i.IE?"MSPointerMove":"touchmove",b=i.IE?"MSPointerUp":"touchend",y,a=!1,l=n(t.document);l.bind(e,c),l.bind(u,c),l.bind(f,c),l.bind(p,c),l.bind(w,c),l.bind(b,c),c(),v.dispose=function(){t.clearTimeout(y),n(t).unbind(r,v.dispose);try{l.unbind(e,c),l.unbind(u,c),l.unbind(f,c),l.unbind(p,c),l.unbind(w,c),l.unbind(b,c)}catch(i){}o=null,h=null},n(t).bind(r,v.dispose)}var s=3e5,r="unload",u="mousedown",f="mousewheel",e="keydown",t=window,h=t.wLive,o=h.People,l=o.Reporter,i=t.$B;o.IdleTimer=c}(window.originaljQuery||jQuery),function(){function o(n,t,f,e,o){function v(n){return c(n,["personal","work","other"])}function w(n){return c(n,["mobile","home","home2","work","work2","pager","homeFax","workFax","mobile2","companyPhone","other"])}function c(n,t,i){var f={},u;if(n)for(u=0;u<t.length;u++)r.Reporter.isNullOrUndefined(n[u])||(f[t[u]]=i?c(n[u],i):n[u]);return f}function y(){return t||"0"}function a(n){var t=p[n];return t||(t=k(n),p[n]=t),t}function k(n){for(var r=n.split("|"),t=["if (!firstName && !lastName) { return null }; var n = [], s = '';"],f,i=0,e=r.length;i<e;i+=2)f=u[r[i]],t.push("if ("+f+") {"),t.push(" if (n.length) { n.push(s); } "),t.push(" n.push("+f+"); "),t.push("s = '"+r[i+1]+"';"),t.push("} else {s = s || '"+r[i+1]+"';}");return t.push("return n.join('').trim();"),new Function("title","firstName","middleName","lastName","suffix",t.join(""))}function d(n,t,i,r,u){return b(n,t,null,r,u)}function b(n,t,i,r,u){var f=[];return!t&&!r?null:(r&&f.push(r),u&&r&&(f.push(" "),f.push(u)),t&&(r&&f.push(", "),n&&(f.push(n),f.push(" ")),f.push(t)),i&&(!t&&r?f.push(", "):f.push(" "),f.push(i)),f.join("").trim())}for(var h=this,p=[],s,l=0;l<=11;l++)s=i[l+""],s.fullName=a(s.fn),s.fullNameReverse=s.lnf?s.fullName:b,s.displayName=a(s.dn),s.displayNameReverse=s.lnf?s.displayName:d,s.sortName=a(s.sn),s.sortNameReverse=s.snr?a(s.snr):s.sortName;h.noNameString=f||"",h.profileUrl=e||"",h.photosUrl=o||"",h.isLastNameFirst=function(){return n},h.formatName=function(n,t,r,u,f,e,o){var s=n||y(),h=i[s][t];return h(r,u,f,e,o)},h.getDefaultNameType=y,h._isLastNameFirstForNameType=function(n){n=n||y();var t=i[n];return t&&t.lnf},h._buildDate=function(n){var t=null;return n&&(t=c(n,["year","month","day"]),(t.year==1900||t.year==1904)&&(t.year=null)),t},h._buildEmails=v,h._buildEmailFlags=function(n){return v(n)},h._buildEmailCapabilities=function(n){return v(n)},h._buildPhones=w,h._buildPhoneFlags=function(n){return w(n)},h._buildAddresses=function(n){return c(n,["home","work","other"],["street","city","state","zipCode","country"])}}var n="F| |L",t="L| |F",i={"0":{fn:"T| |F| |M| |L| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"1":{fn:"F| |L| |M| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"2":{fn:"F| |L| |M| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"3":{fn:"F| |M| |L| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"4":{fn:"F| |M| |L| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"5":{fn:"L| |F| |M| |T| |S",dn:"L| |F| |T| |S",sn:"L| |F",lnf:!0},"6":{fn:"T| |F| |M| |L| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"7":{fn:"T| |F| |L| |M| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"8":{fn:"T| |L||F| |M| |S",dn:"T| |L||F| |S",sn:"L||F",lnf:!0},"9":{fn:"T| |L| |F| |M| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0},"10":{fn:"T| |L| |F| |M| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0},"11":{fn:"T| |L| |M| |F| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0}},u={T:"title",F:"firstName",M:"middleName",L:"lastName",S:"suffix"},f=window,e=f.wLive,r=e.People;r.Names=o}(),function(n){function i(n,t){var i=this;i._c=n,i._mri=t,i._aa=!1,i._p=0,i._ccl=!1,i._cch=!1,i._cgch=!1}var r="changed",t;window.wLive.People.MessagingAddress=i,t=i.prototype,t.isActiveAddress=function(){return this._aa},t.getPresence=function(){return this._p},t.canCall=function(){return this._ccl},t.canChat=function(){return this._cch},t.canGroupChat=function(){return this._cgch},t.getDifferentiator=function(){var i=this,n=i._c,t=n.getSourceId();return t=="GOOG"?i._getMri():t=="SCD"||t=="SKYPE"?n.getNickname():n.getDisplayNameWithFallback()},t._getContact=function(){return this._c},t._getMri=function(){return this._mri},t._setProperty=function(t,i,u,f,e){(this._aa!=t||this._p!=i||this._ccl!=u||this._cch!=f||this._cgch!=e)&&(this._aa=t,this._p=i,this._ccl=u,this._cch=f,this._cgch=e,n(this._getContact().getPerson()).triggerHandler(r))}}(window.originaljQuery||jQuery),function(){function t(n,t,i){var r=this;r._d=n,r._pd=t,r._n=i,r._b=n[2],r._a=null,r._an=null}var i=window.wLive.People,n;i.ContactDetails=t,n=t.prototype,n.getAddresses=function(){var n=this;if(!n._a){var t=n._b,i=n._pd[24]||[],r=n._d[25]||[],u=[t&65536?i[0]:r[0],t&131072?i[1]:r[1],t&262144?i[2]:r[2]];n._a=n._n._buildAddresses(u)}return n._a},n.getSignificantOther=function(){var n=this;return n._b&1048576?n._pd[25]:n._d[26]},n.getAnniversary=function(){var n=this,t;return n._an||(t=n._b&1048576?n._pd[26]:n._d[27],n._an=n._n._buildDate(t)),n._an},n.getWebsite=function(){var n=this;return n._b&2097152?n._pd[27]:n._d[28]},n.getJobTitle=function(){var n=this;return n._b&16?n._pd[28]:n._d[29]},n.getNotes=function(){var n=this;return n._b&4194304?n._pd[29]:n._d[30]}}(),function(){function r(n,t,i,r){var u=this;u._d=n,u._p=t,u._pd=i,u._n=r,u._b=n[2],u._cd=null,u._bd=null,u._e=null,u._eie=null,u._ec=null,u._ph=null,u._m=null,u._pie=null}var t=8,i=window.wLive.People,n;i.ContactState={deleted:-1,shell:0,meContact:1,pending:2,follower:3,twoWay:4,rolodex:5,nonFriend:6,declined:7,implicitContact:8,shellContactFanPage:9,enhancedShellContact:10,implicitShellContact:11,invitationShellContact:12},i.Contact=r,n=r.prototype,n.getPerson=function(){return this._p},n.getId=function(){var n=this;return n._b&1?n._pd[0]:n._d[0]},n.getPassportMemberName=function(){var n=this;return n._d[4]==="WL"?n._p.getPassportMemberName():null},n.getMessagingAddresses=function(){var n=this,r,t;if(!n._m)for(n._m=[],r=n.getMris(),t=0;t<r.length;t++)r[t]&&n._m.push(new i.MessagingAddress(n,r[t]));return n._m},n.getDisplayName=function(){var n=this;return n._n.formatName(n.getNameType(),"displayName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},n.getFullName=function(){var n=this;return n.getOrderedName()||n._n.formatName(n.getNameType(),"fullName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},n.getDisplayNameWithFallback=function(){var t=this,n=t.getDisplayName(),r,i;return n=n||t.getNickname(),n=n||t.getCompanyName(),n=n||t.getPassportMemberName(),n||(r=t.getEmails(),n=n||r.personal,n=n||r.work,n=n||r.other),n||(i=t.getPhones(),n=n||i.mobile,n=n||i.home,n=n||i.home2,n=n||i.work,n=n||i.work2,n=n||i.other),n||t._n.noNameString},n.getContactState=function(){return this._d[1]},n.getPromotionBitmap=function(){return this._b},n.getMris=function(){return this.getPerson().isMe()?["1:"+this.getPerson().getPassportMemberName()]:this._props()[0]||[]},n.getIsHidden=function(){return this._props()[1]},n.getOfflineImEnabled=function(){return this._props()[2]},n.getSourceId=function(){return this._d[4]},n.getObjectId=function(){return this._d[5]},n.getDomainTag=function(){return this._d[6]},n.getFirstName=function(){var n=this;return n._b&t?n._pd[2]:n._d[7]},n.getMiddleName=function(){var n=this;return n._b&t?n._pd[18]:n._d[18]},n.getLastName=function(){var n=this;return n._b&t?n._pd[3]:n._d[8]},n.getTitle=function(){var n=this;return n._b&t?n._pd[19]:n._d[20]},n.getSuffix=function(){var n=this;return n._b&t?n._pd[20]:n._d[21]},n.getEmails=function(){var n=this;if(!n._e){var t=n._b,i=n._pd[4],r=n._d[9]||[],u=[t&32?i[0]:r[0],t&64?i[1]:r[1],t&128?i[2]:r[2]];n._e=n._n._buildEmails(u)}return n._e},n.getPrimaryEmail=function(){var t=this,n=t.getEmails();return n.personal||n.work||n.other||t.getPassportMemberName()},n.getPhones=function(){var r=this;if(!r._ph){var n=r._b,t=r._pd[5],i=r._d[10]||[],u=[n&256?t[0]:i[0],n&512?t[1]:i[1],n&1024?t[2]:i[2],n&2048?t[3]:i[3],n&4096?t[4]:i[4],n&8192?t[5]:i[5],n&16384?t[6]:i[6],n&32768?t[7]:i[7],n&8388608?t[8]:i[8],n&16777216?t[9]:i[9],n&33554432?t[10]:i[10]];r._ph=r._n._buildPhones(u)}return r._ph},n.getCompanyName=function(){var n=this;return n._b&16?n._pd[10]:n._d[11]},n.getUserTile=function(){var n=this;return n._b&4?n._pd[11]:n._d[12]},n.getEmailImEnabled=function(){var n=this;return n._eie||(n._eie=n._n._buildEmailFlags(n._d[13])),n._eie},n.getEmailCapabilities=function(){var n=this;return n._ec||(n._ec=n._n._buildEmailCapabilities(n._d[14])),n._ec},n.getPhoneImEnabled=function(){var n=this;return n._pie||(n._pie=n._n._buildPhoneFlags(n._d[15])),n._pie},n.getFavoriteOrder=function(){return this._d[16]},n.getBirthday=function(){var n=this,t;return n._bd||(t=n._bd&524288?n._pd[16]:n._d[17],n._bd=n._n._buildDate(t)),n._bd},n.getNickname=function(){var i=this,n=i._b&t?i._pd[17]:i._d[19],r=i.getSourceId();return r&&r.toUpperCase()==="TWITR"&&n&&!n.startsWith("@")&&(n="@"+n),n},n.getYomiFirstName=function(){var n=this;return n._b&t?n._pd[21]:n._d[22]},n.getYomiLastName=function(){var n=this;return n._b&t?n._pd[22]:n._d[23]},n.getYomiCompanyName=function(){var n=this;return n._b&t?n._pd[23]:n._d[24]},n.getOrderedName=function(){var n=this;return n._b&t?n._pd[30]:n._d[31]},n.getNameType=function(){var n=this;return n._b&t?n._pd[31]:n._d[32]},n.getSkypeId=function(){return this._d[34]},n.getIsAnonymous=function(){return this._d[35]},n.getLinkedMsa=function(){return this._d[36]},n.getLinkedFacebookId=function(){return this._d[37]},n.getIsBidirectional=function(){return this._d[38]},n.getSkypePendingOutbound=function(){return this._d[39]},n.getIsBlocked=function(){return this._d[40]},n.getDetails=function(){var n=this;return n._cd||(n._cd=new i.ContactDetails(n._d,n._pd,n._n)),n._cd},n._props=function(){return this._d[3]||[]}}(),function(){function t(n,t){var i=this;i._d=n,i._n=t,i._a=null,i._an=null}var i=window.wLive.People,n;i.PersonDetails=t,n=t.prototype,n.getAddresses=function(){var n=this;return n._a||(n._a=n._n._buildAddresses(n._d[24])),n._a},n.getSignificantOther=function(){return this._d[25]},n.getAnniversary=function(){var n=this;return n._an||(n._an=n._n._buildDate(n._d[26])),n._an},n.getWebsite=function(){return this._d[27]},n.getJobTitle=function(){return this._d[28]},n.getNotes=function(){return this._d[29]},n.getAntilinks=function(){return this._d[32]}}(),function(n){function r(t,i){var r=this;r._d=t,r._n=i,r.$changes=n(this),r._c=null,r._e=null,r._p=null,r._b=null,r._ce=null,r._pd=null,r._m=null}var u=window,i=u.wLive.People,t;i.Person=r,t=r.prototype,t.getId=function(){return this._d[0]},t.getContacts=function(){var n=this,t,r;if(!n._c&&(n._c=[],t=this._d[1],t))for(r=0;r<t.length;r++)n._c.push(new i.Contact(t[r],n,n._d,n._n));return n._c},t.getMessagingRelevance=function(){var n=parseInt(this._d[33]);return isNaN(n)&&(n=0),n},t.getPeopleRelevance=function(){var n=parseInt(this._d[34]);return isNaN(n)&&(n=0),n},t.getMessagingAddresses=function(){var r=this,t,i,n;if(!r._m){for(t=r.getContacts(),i=[],n=0;n<t.length;n++)t[n].getSourceId()=="SKYPE"&&i.addRange(t[n].getMessagingAddresses());for(n=0;n<t.length;n++)t[n].getSourceId()=="WL"&&i.addRange(t[n].getMessagingAddresses());for(n=0;n<t.length;n++)t[n].getSourceId()!="SKYPE"&&t[n].getSourceId()!="WL"&&i.addRange(t[n].getMessagingAddresses());r._m=i}return r._m},t.isOnline=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].getPresence()==1)return!0;return!1},t.canCall=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canCall())return!0;return!1},t.canChat=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canChat())return!0;return!1},t.canGroupChat=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canGroupChat())return!0;return!1},t.getDisplayName=function(){var n=this;return n._n.formatName(n.getNameType(),"displayName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},t.getFullName=function(){var n=this;return n.getOrderedName()||n._n.formatName(n.getNameType(),"fullName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},t.getDisplayNameWithFallback=function(){var t=this,n=t.getDisplayName(),r,i;return n=n||t.getNickname(),n=n||t.getCompanyName(),n=n||t.getPassportMemberName(),n||(r=t.getEmails(),n=n||r.personal,n=n||r.work,n=n||r.other),n||(i=t.getPhones(),n=n||i.mobile,n=n||i.home,n=n||i.home2,n=n||i.work,n=n||i.work2,n=n||i.other),n||t._n.noNameString},t.isLastNameFirst=function(){var n=this,t=n.getNameType();return n._n._isLastNameFirstForNameType(t)},t.getProfileUrl=function(){var n=this,t=n._d[7];return t?n._n.profileUrl.replace("{cid}",n._d[7]):""},t.getPhotosUrl=function(){var n=this,t=n._d[7];return t?n._n.photosUrl.replace("{cid}",n._d[7]):""},t.isMe=function(){var n=this._d[1][0];return n&&n[1]===1},t.isPendingInbound=function(){for(var i=this._d[1],r=!1,u=Math.min(i.length,3),t,n=0;n<u;n++)if(t=i[n],t&&t[1]===2){r=!0;break}return r},t.isHidden=function(){for(var i=this._d[1],r=!1,u=Math.min(i.length,3),n,t=0;t<u;t++)if(n=i[t],n&&(n[1]===6&&n[3]&&n[3][1]===1||n[1]===2)){r=!0;break}return r},t.isFanPage=function(){var n=this._d[1][0];return n&&n[1]===9},t.getFirstName=function(){return this._d[2]},t.getLastName=function(){return this._d[3]},t.getEmails=function(){var n=this;return n._e||(n._e=n._n._buildEmails(n._d[4])),n._e},t.getPhones=function(){var n=this;return n._p||(n._p=n._n._buildPhones(n._d[5])),n._p},t.getCid=function(){return this._d[6]},t.getHexCid=function(){return this._d[7]},t.getOnHideList=function(){return this._d[8]},t.getTrustLevel=function(){return this._d[9]},t.getCompanyName=function(){return this._d[10]},t.getUserTile=function(){return this._d[11]},t.getCategoryIds=function(){return this._d[12]?this._d[12]:[]},t.getIsFavorite=function(){return this._d[13]},t.getFavoriteOrder=function(){return this._d[14]},t.getPassportMemberName=function(){return this._d[15]},t.getBirthday=function(){var n=this;return n._b||(n._b=n._n._buildDate(n._d[16])),n._b},t.getNickname=function(){return this._d[17]},t.getMiddleName=function(){return this._d[18]},t.getTitle=function(){return this._d[19]},t.getSuffix=function(){return this._d[20]},t.getYomiFirstName=function(){return this._d[21]},t.getYomiLastName=function(){return this._d[22]},t.getYomiCompanyName=function(){return this._d[23]},t.getOrderedName=function(){return this._d[30]},t.getNameType=function(){return this._d[31]||this._n.getDefaultNameType()},t.getVersion=function(){return this._d[35]},t.getContactEmails=function(){function f(n,t,i){if(i){var r=i.toLowerCase();t[r]||(t[r]=1,n.push(i))}}var n=this,r,u;if(!n._ce){var t=[],i={},e=n.getContacts();for(r=0;r<e.length;r++)u=e[r].getEmails(),f(t,i,u.personal),f(t,i,u.work),f(t,i,u.other);f(t,i,n.getPassportMemberName()),n._ce=t}return n._ce},t.getDetails=function(){var n=this;return n._pd||(n._pd=new i.PersonDetails(n._d,n._n)),n._pd},t._update=function(n){var t=this;t._d=n,t._c=null,t._e=null,t._p=null,t._b=null,t._ce=null,t._pd=null,t._m=null},t._getHashKeys=function(){for(var u=this,n=u._d,i=[n[0],n[6],n[7]],r=n[1]||[],t=0;t<r.length;t++)i.push(r[t][0]);return i}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Group=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getCid=function(){return this._d[2]},t.getHexCid=function(){return this._d[3]},t.getEmail=function(){return this._d[4]},t._update=function(n){return this._d=n},t._getHashKeys=function(){return[this._d[0]]}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Category=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getIsFavorite=function(){return this._d[2]},t._update=function(n){return this._d=n},t._getHashKeys=function(){return[this._d[0]]}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Service=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getTokenState=function(){return this._d[2]},t.getSupportsIm=function(){return this._d[3]},t.getSupportsContactAgg=function(){return this._d[4]},t.getIconUrlThumbnail=function(){return this._d[5]},t.getIconUrlMiniPhoto=function(){return this._d[6]},t.getIconUrlLargePhoto=function(){return this._d[7]},t.getProfileUrl=function(){return this._d[8]},t.getPhotosUrl=function(){return this._d[9]},t.getSendMessageUrl=function(){return this._d[10]},t.getReportAbuseUrl=function(){return this._d[11]},t.getRank=function(){return this._d[12]},t.getOnHideList=function(){return this._d[13]},t._getHashKeys=function(){return[this._d[0]]},t._update=function(n){this._d=n}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}var t=i.prototype;t.getMessengerTrustLevel=function(){return this._d[0]},t.getImHistoryEnabled=function(){return this._d[1]==1},t.getAbSettings=function(){return this._d[2]},t.getWebIMSettings=function(){return this._d[3]},t.getSkypePendingInboundCount=function(){return this._d[4]},window.wLive.People.Settings=i}(window.originaljQuery||jQuery),function(){function r(t){function f(n,t){var f,i,r;for(t=t||!1,f=n.length,i=0;i<f;i++){var s=n[i],u=s._getHashKeys(),h=u.length;for(r=0;r<h;r++)t?e(u[r]):o(u[r],n[i])}}function e(n){n&&u[n]&&delete u[n]}function o(t,i){n.Reporter.isNullOrUndefined(t)||(u[t]=i)}var r=this,i=!1,u=[];r.get=function(n){return i||(i=!0,r.update(t)),u[n]||null},r.clear=function(){i=!1,u=[]},r.update=function(n,u){!i&&u&&(i=!0,r.update(t)),i&&f(n,!1)},r.removeItemByKey=function(n){i&&e(n)},r.remove=function(n){i&&f(n,!0)}}var t=window,i=t.wLive,n=i.People;n.LazyHash=r}(),function(){function o(r,e,o){function p(i){t.logAction("Pwc_XmlProxyCallback");var f=i.status,r=null;f==200?(s.window=w(),s.window||(t.logAction("Pwc_XmlProxyIframeNotFound"),r=n.document.domain!=l.domain?"HostDomainInvalid":c?c:"UnknownProxyFailure")):r=f,t.addStats(u,y,r,e),o&&o()}function w(){for(var f=null,e=n.document.getElementsByTagName("iframe"),i,u,r=0,o=e.length;r<o;r++)try{if(i=e[r],u=i.contentDocument?i.contentDocument:i.contentWindow.document,u&&u.location.href==h){f=i.contentWindow||i.contentDocument.parentWindow;break}}catch(s){t.logError("Pwc_FindProxyIframeFailure",s)}return f}function v(t){t.origin==n.location.protocol+"//"+r&&t.data&&t.data.startsWith&&t.data.startsWith("pwc:")&&(c=t.data.substring(4))}var s=this,h,y=(new Date).getTime(),a,c,l=n.$Config;if(s.window=null,n.addEventListener)try{n.addEventListener(i,v,0),a=!0}catch(b){}h=n.location.protocol+"//"+r+"/xmlProxy.htm?vn="+n.$Version.encodeURIComponent()+"&domain="+(l.d||l.domain).encodeURIComponent(),f.fetchXML(h,p,"GET",null,null),s.dispose=function(){a&&n.removeEventListener&&n.removeEventListener(i,v,0)}}var i="message",u="LoadXmlProxy",n=window,f=n.$Network,r=n.wLive,e=r.People,t=e.Reporter;r.People.CrossDomainProxy=o}(),function(){function f(){var r=this,f=[],u=null;r.errorCode=null,r.setProxyWindow=function(f,e){var h,o,s;try{h=e?e:i,o=f?h.localStorage:h.sessionStorage,o?(s="st_"+Math.round(Math.random()*1e5),o.setItem(s,s),o.getItem(s)==s?(o.removeItem(s),u=o):r.errorCode="GetTestValueFailed"):r.errorCode=e?"CantAccessIframeStorage":"NoStorage"}catch(c){n.logError("Pwc_RestoreAbError",c),r.errorCode=t(c)}e&&r.errorCode&&r.setProxyWindow(!1)},r.remove=function(i){if(u)try{u.removeItem(i)}catch(e){n.logError("Pwc_StorageRemove",e),r.errorCode=t(e)}else delete f[i]},r.get=function(i,e){var o;if(u)try{o=u.getItem(i)}catch(s){n.logError("Pwc_StorageGet",s),r.errorCode=t(s)}else o=f[i];return n.isNullOrUndefined(o)&&(o=e),o},r.getDate=function(i){var u=r.get(i),f;if(u)try{return f=parseInt(u),new Date(f)}catch(e){n.logError("Pwc_StorageGetDate",e),r.errorCode=t(e)}return new Date(1)},r.getInt=function(i,u){var f=r.get(i);if(f)try{return parseInt(f)}catch(e){n.logError("Pwc_StorageGetInt",e),r.errorCode=t(e)}return u||0},r.set=function(i,e){if(u)try{u.setItem(i,e)}catch(o){n.logError("Pwc_StorageSet",o),r.errorCode=t(o)}else f[i]=e},r.setDate=function(n,t){t&&r.set(n,t.getTime())},r.dispose=function(){f=null,u=null}}var i=window,u=i.wLive,r=u.People,n=r.Reporter,t=n.getErrorCode;r.StorageProxy=f}(),function(){function d(k,d,g,nt,tt){function st(n,r,u){for(var c=n.getInt(r+t,-1),l=u.length,h=[],o,e,s,f=0;f<=c;f++){for(o={},e=0;e<l;e++)if(s=n.get(r+u[e]+f,null),s!=null)o[u[e]]=s;else return i.logAction("Pwc_GetIncrementalResponsesMissingKey"),[];h[f]=o}return h}function et(){i.logAction("Pwc_ClearAb"),it.remove(l),it.remove(c),it.remove(h),it.remove(r),it.remove(u),it.remove(n),it.remove(e),it.remove(f),ot(it,o,[v,y])}function ht(n,i,r){var f=n.getInt(i+t,-1)+1,u;n.set(i+t,f);for(u in r)typeof u=="string"&&n.set(i+u+f,r[u])}function ot(n,i,r){var e,o,u,f;if(n){for(e=n.getInt(i+t,-1),o=r.length,u=0;u<=e;u++)for(f=0;f<o;f++)n.remove(i+r[f]+u);n.remove(i+t)}}var rt=this,ft=null,it=new w,ut=new w;rt.init=function(n){function t(){var n=ft.window?ft.window:p;n&&(it.setProxyWindow(d,n),ut.setProxyWindow(!0,n),(it.get(l)!==g||it.get(c)!==nt)&&et()),tt&&tt()}ft=new s.CrossDomainProxy(k,n,t)},rt.setFullSyncRequired=function(n){it.set(e,n)},rt.getFullSyncRequired=function(){return it.get(e)},rt.setFullAb=function(t,s,a){var k=(new Date).getTime(),p;try{it.errorCode=null,ot(it,o,[v,y]),it.remove(f),it.set(l,g),it.set(h,t),it.set(c,nt),it.setDate(r,a),it.setDate(u,a),it.remove(n),it.remove(e),p=it.errorCode}catch(w){i.logError("Pwc_SetFullAb",w),p=i.getErrorCode(w)}i.addStats(b,k,p,s)},rt.clearAbErrorCode=function(){var n=it.errorCode;return it.errorCode=null,n},rt.getFullAb=function(){return it.get(h,null)},rt.setLastFullSync=function(n){it.setDate(r,n)},rt.getLastFullSync=function(){return it.getDate(r)},rt.setDeltaSyncRequired=function(t){it.set(n,t)},rt.getDeltaSyncRequired=function(){return it.get(n)},rt.removeDeltaSyncRequired=function(){it.remove(n)},rt.setAbDelta=function(n,t){ht(it,o,{json:n,syncKey:t})},rt.getAbDeltas=function(){return st(it,o,[v,y])},rt.setLastDeltaSync=function(n){it.setDate(u,n)},rt.getLastDeltaSync=function(){return it.getDate(u)},rt.setDeltaSyncCount=function(n){it.set(f,n)},rt.getDeltaSyncCount=function(){return it.getInt(f)},rt.setHost=function(n){ut.set(a,n)},rt.getHost=function(n){return ut.get(a,n)},rt.clearHost=function(){ut.remove(a)},rt.clearAb=et,rt.dispose=function(){ft&&(ft.dispose(),ft=null),it&&(it.dispose(),it=null),ut&&(ut.dispose(),ut=null)}}var b="PersistAB",h="fullSyncResponse",c="mkt",l="abCid",r="lastFullSync",u="lastDeltaSync",n="deltaSyncRequired",f="deltaSyncCount",e="fullSyncRequired",o="deltaSyncResponse",a="preferredHostName",t="_e",v="json",y="syncKey",p=window,k=p.wLive,s=k.People,w=s.StorageProxy,i=s.Reporter;s.Store=d}(),function(){function nt(h,g,nt,tt,it,rt){function ft(n,t){this.errorCode=t,this.message=n}function et(t){var i={};return i.Pragma="no-cache",i["Cache-Control"]="no-cache",i.Expires="-1",n.isQosEnabled&&t&&u.$ScenarioQoS.addScenarioToHttpHeader(i,t),i}function ot(t,r){var o,f,e;if(o=h.getHost(nt),f="&cbus="+Math.random(),!n.isNullOrUndefined(r))for(e in r)f+="&"+e+"="+r[e].encodeURIComponent();return u.location.protocol+"//"+o+"/people/"+t+"?SerializeAs=compact"+s+g.encodeURIComponent()+"&appid="+tt.encodeURIComponent()+"&version="+i.encodeURIComponent()+f}function lt(n){return it+"/Handlers/PeopleApi/"+n+".mvc"}function at(n){var t=yt(n);return t&&t.length>0&&t[0]==i?t[1]:[]}function st(t,i,r,u,o,s,c){var l=null,v=null,y=[],a;ct(t)||(l=ht(t));try{v=wt(t.responseText),y=vt(v,c)}catch(p){n.logError("Pwc_PeopleParseError",p,!0),a=l,l=n.getErrorCode(p,l?l:e),l=="MissingTicket"||l=="PassportAuthFail"||l==f||n.isNullOrUndefined(a)||a=="200"||(l=a+"_"+l)}n.addStats(i,o,pt(t,l),s),l==null?(bt(t),r(t,v,y)):(h.clearHost(),u(t,l))}function vt(n,t){var r,u=null,e=yt(n),o,s;if(e&&e.length?(o=e[1],o?o.length>=2?(u=o[0]||"EmptyEvalOrAbError",r=o[1]||"Unspecified error returned",(u==f||u=="BadArgument"&&(r.toLowerCase().indexOf("resolve the caller")!=-1||r.toLowerCase().indexOf("ticket")!=-1))&&(r="Invalid passport user",u=f)):(r="Invalid error response",u="InvalidErrorResponse"):(s=e[0],s?t||s[2]==i||(r="Schema mismatch (expected: {0}, returned: {1})".format(i,s[2]||""),u="SchemaMismatch"):(r="Data is missing in the response",u="EmptyResponseArray"))):(r="Invalid response format",u="InvalidResponse"),r)throw new ft(r,u);return e}function yt(rawResponse){var result;try{result=eval(rawResponse)}catch(ex){n.logError("Pwc_ParseJsonFailure",ex),result=[,[ex.name,"Syntax error: "+ex.message]]}return result}function wt(n){if(!n)throw new ft("Empty PWC response","EmptyResponse");if(n.indexOf("<json>")<0)throw new ft("JSON prefix not found on PWC response","JsonPrefixNotFound");return n.substring(6,n.length)}function ht(n){var t=n?n.status:null;return t!==null&&t!=="undefined"?t:p}function ct(n){return ht(n)==200}function pt(n,t){return ct(n)?t:t?t:ht(n)}function bt(t){try{var i=Boolean(t)&&Boolean(t.getResponseHeader)?t.getResponseHeader("PreferredHostName"):null;i&&h.setHost(i)}catch(r){n.logError("Pwc_UpdatePreferredHost",r)}}ft.prototype=new Error,ft.prototype.constructor=ft;var ut=this;ut.fullSync=function(n,i,u){function h(t){st(t,l,n,i,f,u)}var f=(new Date).getTime(),e=ot(o),s=et(u);t.fetchXML(e,h,r,null,s)},ut.deltaSync=function(n,i,u,f){function c(n){st(n,a,i,u,e,f)}var e=(new Date).getTime(),s=ot(o,{syncKey:n}),h=et(f);t.fetchXML(s,c,r,null,h)},ut.loadPersonDetails=function(n,i,u,f){function h(n){st(n,v,i,u,e,f,!0)}var e=(new Date).getTime(),o=ot(k,{contactId:n}),s=et(f);t.fetchXML(o,h,r,null,s)},ut.loadAllPersonDetails=function(n,i,u,f){function c(n){st(n,y,i,u,h,f,!0)}var h=(new Date).getTime(),e=null,o,s;n&&(e={filter:n}),o=ot(d,e),s=et(f),t.fetchXML(o,c,r,null,s)},ut.loadProfiles=function(i,r,u,f){function y(t){var i=null,s=[];if(ct(t))try{s=at(t.responseText)}catch(h){n.logError("Pwc_ProfilesParseError",h,!0),i=n.getErrorCode(h,e)}else i=ht(t);n.addStats(c,o,pt(t,i),f),i?u(t,i):r(t,s)}var o=(new Date).getTime(),h=i.join(","),l=lt(b),a="canary="+rt.encodeURIComponent()+"&cids="+h.encodeURIComponent()+s+g.encodeURIComponent(),v=et(f);t.fetchXML(l,y,w,a,v)},ut.parseProfiles=at,ut.parseAb=vt,ut.blockOrUnblockMessenger=function(n,i,r,u){var f=n.getCid(),e;f&&(e=(i?"Hide":"Unhide")+"Contact",t.fetchXML(lt(e),function(n){var i=n&&n.responseText==="200",t=i?r:u;t&&t(n.responseText)},"POST","canary="+rt.encodeURIComponent()+"&cid="+encodeURIComponent(f)))}}var c="Rest_GetProfiles",l="Rest_FullSync",a="Rest_DeltaSync",v="Rest_PersonDetails",y="Rest_AllPersonDetails",f="InvalidPassportUser",p="HostUnreachable",e="ParseError",i="W5.M2",r="GET",w="POST",b="GetProfiles",o="abcore",k="PersonDetails",d="allPersonDetails",s="&market=",u=window,t=u.$Network,g=u.wLive,h=g.People,n=h.Reporter;h.ServiceProxy=nt}(),function(){function st(n,i,r){function ut(n,t){var f=!1,u,r;if(n&&n.length>0){for(u=i.settings,r=0;r<n.length;r++)n[r]&&n[r]!=u._d[r]&&(u._d[r]=n[r],f=!0);f&&t&&u.$changes.triggerHandler(i.changedEventName)}return f}function v(n,t,i,r,f,e){var c,b,o,s,h,k,l,a;if(!n)return null;if(typeof n!==p){var v=[],y=[],w=[];for(c=0,b=n.length;c<b;c++){for(o=n[c],s=-1,h=0,k=t.length;h<k;h++)if(t[h].getId()===o[u]){s=h;break}s!==-1?(l=t[s],o[f]===1?(y.push(l),r.remove([l]),t.splice(s,1)):(v.push(l),t[s]._update(o))):o[f]!==1&&(a=e(o),w.push(a),r.update([a]),t.push(a))}if(w.length>0||v.length>0||y.length>0)return new tt(i,w,v,y)}return null}function ot(n){var v,r,u,w,y,e,b,p,o;if(!n)return null;var s={},h=[],c=[],l=[],a=[];st(n,s),ht(n,s,h);for(v in s)r=i._personHash.get(v),u=r._d,r&&(w=u[t].length,y=i.getPersonDetails(v),y&&i._personDetailsHash.remove([y]),w===0?(i.persons.remove(r),i._personHash.remove([r]),l.push(r)):(it(u),r._update(u),i._personHash.update([r]),c.push(r)));for(e=0,b=h.length;e<b;e++)p=h[e],it(p),o=new f.Person(p,i.names),i.persons.push(o),i._personHash.update([o]),a.push(o);return a.length>0||c.length>0||l.length>0?new tt(i.$persons,a,c,l):null}function st(n,r){for(var c,h,o,s=0,p=n.length;s<p;s++)for(c=n[s],h=c[t],o=0;o<h.length;){var l=h[o],a=l[e],f=i._personHash.get(a);if(f&&(l[1]===ft.deleted||c[u]!==f.getId())){var v=f._d,w=v[t],y=k(v,a);y!=-1&&(i._personHash.removeItemByKey(a),r[f.getId()]=1,w[y][4]==="WL"&&(i._personHash.removeItemByKey(f.getCid()),i._personHash.removeItemByKey(f.getHexCid()),ct(v)),w.splice(y,1))}l[1]===ft.deleted?h.splice(o,1):o++}}function ht(n,r,f){for(var o,h,v,nt,l,w,a=0,d=n.length;a<d;a++)if(o=n[a],o[t].length)if(h=i._personHash.get(o[u]),h&&h.getId()===o[u]){var c=h._d,g=o[t],p=c[t];for(v=0,nt=g.length;v<nt;v++)l=g[v],w=k(c,l[e]),r[h.getId()]=1,w!=-1?p[w]=l:p.push(l),l[4]==="WL"&&lt(c,o);y(p),c[s]=o[s],c[b]=o[b]}else f.push(o)}function y(n){n.sort(function(n,t){var u=w(n[4]),f=w(t[4]),i,r;return u>f?1:u<f?-1:(i=n[e],r=t[e],i>r?-1:i<r?1:0)})}function ct(n){for(var t=0,i=l.length;t<i;t++)delete n[l[t]]}function lt(n,t){for(var i,r=0,u=l.length;r<u;r++)i=l[r],n[i]=t[i]}function at(n,i){return n[t][i][e]||n[u]}function w(n){var t,r;return n==="ABCH"?t=-2:(r=i.getService(n),t=r?r.getRank():9999),t}function vt(n){var o,r,u,h,f,e,c;if(o=0,n[s]){for(r=0,u=n[s].length;r<u;r++)if(h=i._categoryHash.get(n[s][r]),h&&h._d[2]){o=1;break}n[b]=o}for(f=n[t],e=f[0][16]||n[14]||0,r=1,u=f.length;r<u;r++)c=f[r][16]||n[14]||0,e>c&&(e=c);n[14]=e}function k(n,i){for(var u=-1,e=n[t],r=0,f=e.length;r<f;r++)if(at(n,r)===i){u=r;break}return u}function d(n){var y,b,l,k,v,tt,i,f,it,w,c,rt,s,ut;for(y=n[t],b=n[u],l=0,k=o.length;l<k;l++){var e=o[l],d=e.mask,r=e.personFields,a=e.contactFields,p=e.arrayIndex,g=e.isArray,nt=!1;for(v=0,tt=y.length;v<tt;v++)if(i=y[v],i[h]&d){if(nt=!0,g)for(f=0,it=r.length;f<it;f++)w=n[r[f]],w&&(i[a[f]]||(i[a[f]]=[]),i[a[f]][p]=w[p]);else for(c=0,rt=r.length;c<rt;c++)i[a[c]]=n[r[c]];i[h]=i[h]&~d}if(nt)for(s=0,ut=e.personFields.length;s<ut;s++)g?n[r[s]]&&(n[r[s]][p]=null):n[r[s]]=null}n[u]=b}function g(n,t,i,r,u){var o,e,s,f;for(o=!0,e=0,s=i.length;e<s;e++)f=n[i[e]],r&&f&&(f=f[u]),f&&(t[e]=f,o=!1);return o}function yt(n,t,i,r){for(var u,f=0,e=t.length;f<e;f++)u=t[f],n[u]&&(i?r<n[u].length&&(n[u][r]=null):n[u]=null)}function pt(n,t,i,r,u,f){var s,o,c,e,h;for(s=!0,o=0,c=i.length;o<c;o++)if(e=n[i[o]],r&&e&&(e=e[u]),h=t[o],f){if(!f(e,h)){s=!1;break}}else if(!(typeof e===p&&typeof h===p||e===h)){s=!1;break}return s}function it(n){d(n),rt(n),vt(n)}function rt(n){var b,c,k,l,d,p,it,s,r,rt;for(b=n[u],c=0,k=et;c<k;c++)nt[c]&&delete n[c];for(n[u]=b,n[35]=(n[35]||0)+1,l=0,d=o.length;l<d;l++){var i=o[l],ut=i.mask,tt=n[t],f=[],w=i.contactFields,e=i.personFields,a=i.isArray,v=i.arrayIndex,ft=i.comparer,y=g(n,f,e,a,v);for(p=0,it=tt.length;p<it;p++)s=tt[p],y&&(y=g(s,f,w,a,v)),!y&&pt(s,f,w,a,v,ft)&&(s[h]=(s[h]||0)|ut,yt(s,w,a,v));if(i.isArray&&!n[e[0]]&&(n[e[0]]=[]),!y)for(r=0,rt=Math.min(e.length,f.length);r<rt;r++)i.isArray?n[e[r]][i.arrayIndex]=f[r]:n[e[r]]=f[r]}}function a(n){var t,i,u,r;for(t=n.clone(),i=0,u=t.length;i<u;i++)r=t[i],typeof r=="object"&&r instanceof Array&&(t[i]=a(r));return t}var c=this;c.apply=function(n){var t=[],e=r[0],l=e[3],a=e[4],y=e[5],p=e[6],w=e[7],h=ut(p,n),o,c,u,s;for(t.push(v(w,i.services,i.$services,i._serviceHash,20,function(n){return new f.Service(n)})),t.push(v(a,i.categories,i.$categories,i._categoryHash,3,function(n){return new f.Category(n)})),t.push(v(y,i.groups,i.$groups,i._groupHash,5,function(n){return new f.Group(n)})),t.push(ot(l)),o=0,c=t.length;o<c;o++)if(t[o]!==null){if(n&&(u=t[o],u.$event.triggerHandler(i.changedEventName,u),u.changed!=null))for(s=0;s<u.changed.length;s++)u.changed[s].$changes.triggerHandler(i.changedEventName);h=!0}return h},c.flatten=function(n){var t=a(n._d);return d(t),new f.Person(t,i.names)},c.clone=function(n){var t=a(n._d);return new f.Person(t,i.names)},c.dedupe=function(n){var t=a(n._d);return rt(t),new f.Person(t,i.names)},c.sortContactsByRank=function(n){y(n._d[1]),n._update(n._d)}}function tt(n,t,i,r){var u=this;u.$event=n,u.added=t,u.changed=i,u.removed=r}function n(n,t,i,r,u,f){var e=this;e.mask=n,e.personFields=t,e.contactFields=i,e.isArray=r,e.arrayIndex=u,e.comparer=f}function y(n,t){var i=!1;return n&&t&&n.length===t.length&&(i=!0,n.forEach(function(n,r){t[r]!=n&&(i=!1)})),i}for(var p="undefined",u=0,t=1,w=4,i=5,s=12,b=13,k=24,et=35,e=0,h=2,d=9,r=10,g=25,l=[6,7,9,8,15],o=[new n(1,[u],[e]),new n(4,[11],[12]),new n(8,[2,3,19,20,17,18,21,22,30,31],[7,8,20,21,19,18,22,23,31,32]),new n(16,[10,23,28],[11,24,29]),new n(32,[w],[d],1,0),new n(64,[w],[d],1,1),new n(128,[w],[d],1,2),new n(256,[i],[r],1,0),new n(8388608,[i],[r],1,8),new n(512,[i],[r],1,1),new n(1024,[i],[r],1,2),new n(2048,[i],[r],1,3),new n(4096,[i],[r],1,4),new n(16384,[i],[r],1,6),new n(8192,[i],[r],1,5),new n(32768,[i],[r],1,7),new n(16777216,[i],[r],1,9),new n(33554432,[i],[r],1,10),new n(65536,[k],[g],1,0,y),new n(131072,[k],[g],1,1,y),new n(262144,[k],[g],1,2,y),new n(1048576,[25,26],[26,27]),new n(2097152,[27],[28]),new n(4194304,[29],[30]),new n(524288,[16],[17],0,0,y)],nt=[],v,c,rt,a=0,it=o.length;a<it;a++)for(v=o[a].personFields,c=0,rt=v.length;c<rt;c++)nt[v[c]]||(nt[v[c]]=1);var ot=window,ut=ot.wLive,f=ut.People,ft=f.ContactState;f.DeltaSync=st,ut.People.DeltaSyncEvent=tt}(),function(){function tt(nt,tt,it,rt,ut){function pt(n,t,i,h){for(var y=!0,l,a=null,p,w,v=0,b=et.length;v<b;v++)if(l=et[v],p=l[r],w=l[e],p===n){w||(y=!1,a=l);break}else if(n===f&&p===s&&!w){y=!1,a=l;break}y?(l={},l[r]=n,l[o]=[t],l[c]=[i],l[u]=h,l[e]=!1,et.push(l)):a&&(t||i)&&(t&&a[o].push(t),i&&a[c].push(i),h&&(a[u]=h)),ot()}function ot(){function i(n,i,r){it.lastFullSync=it.lastDeltaSync=new Date,ft.resetTimers(!1),bt(i),wt(r),it._personDetailsHash.clear(),ft.fullSyncRequired=!1,ft.deltaSyncRequired=!1,tt.setFullAb(i,t[u],it.lastFullSync),et.shift(),vt(t[o],"fsSuccess"),ot()}function a(n,t){l(t,!1)}function d(r,u,f){var e,c,l,s,h;it.lastDeltaSync=new Date,tt.setLastDeltaSync(it.lastDeltaSync),ft.resetTimers(!1),e=f[0],e[8]?i(r,u,f):(tt.removeDeltaSyncRequired(),g.setSessionCookie(v,null),c=new n.DeltaSync(nt,it,f),l=c.apply(!0),l&&(s=e[0],it.syncKey=s,tt.setAbDelta(u,s),h=tt.getDeltaSyncCount()+1,tt.setDeltaSyncCount(h),h>=k&&(ft.fullSyncRequired=!0,tt.setFullSyncRequired(!0))),ft.deltaSyncRequired=!1,et.shift(),vt(t[o],"dsSuccess"),ot())}function rt(n,t){l(t,!0)}function l(n,i){if(t[h]=(t[h]||0)+1,t[h]>=b||n===y||n===p||n===w){var r=i?"dsFailure":"fsFailure";et.shift(),i?it.lastDeltaSync=new Date:(it.lastFullSync=new Date,tt.setLastFullSync(it.lastFullSync)),ft.resetTimers(i,!0),vt(t[c],r,[n])}else t[e]=!1;ot()}if(et.length!==0){var t=et[0];t[e]||t[r]===f&&ct||(t[r]===s?nt.fullSync(i,a,t[u]):t[r]===f&&nt.deltaSync(it.syncKey,d,rt,t[u]))}}function bt(n){for(var f=0,r,u,i=0,e=it.persons.length;i<e;i++)r=it.persons[i]._d[1],r&&r.length&&(f+=r.length);u={contactCount:f,responseLength:n.length},t.logDetails("Pwc_FullSync",u),d.reportEvent("View.WLPeopleCache.FullSync",u)}function wt(t){for(var i=t[0]||[],v=i[3]||[],y=[],o,s,u,h,c,f,l,a,e,p,r=0;r<v.length;r++)y[r]=new n.Person(v[r],it.names);for(o=i[4]||[],s=[],u=0;u<o.length;u++)s[u]=new n.Category(o[u]);for(h=i[5]||[],c=[],f=0;f<h.length;f++)c[f]=new n.Group(h[f]);for(l=i[7]||[],a=[],e=0;e<l.length;e++)a[e]=new n.Service(l[e]);p=new n.Settings(i[6]||[]),it._applyFull(y,s,c,a,p),it.syncKey=i[0]}function vt(n,t,i){i=i||[];for(var r=0;r<n.length;)kt(n[r],t+"["+r+"]",i),r++;n.splice(0,n.length)}function kt(n,i,r){if(n)try{r&&r.length>0?n.apply(null,r):n()}catch(u){t.logError("Pwc_Callback"+i+"Error",u)}}function dt(){st=!0}function gt(){st=!1,ft.deltaSyncRequired&&ft.queueDelta()}var ft=this,et=[],st,ht=new n.IdleTimer(dt,gt),ct=!1,yt=0,lt=null,at=null;ft.deltaSyncRequired=!1,ft.fullSyncRequired=!1,ft.applyFull=function(n){var t=nt.parseAb(n);wt(t)},ft.applyDelta=function(t){var i=nt.parseAb(t),r=new n.DeltaSync(nt,it,i);r.apply()},ft.queueFull=function(n,i,r){function f(){u&&t.stopScenario(r,!0),n&&n()}function e(n){u&&t.stopScenario(r,!1,n),i&&i()}t.logAction("Pwc_FullSyncQueued");var u=!r;r=r||t.startScenario(l),pt(s,f,e,r)},ft.queueDelta=function(n,i,r){function e(){u&&t.stopScenario(r,!0),n&&n()}function o(n){u&&t.stopScenario(r,!1,n),i&&i()}if(t.logAction("Pwc_DeltaSyncQueued"),tt.setDeltaSyncRequired(!0),it.isReady&&!st){if(ft.fullSyncRequired)ft.queueFull(n,i,r);else{var u=!r;r=r||t.startScenario(a),pt(f,e,o,r)}ft.deltaSyncRequired=!1}else ft.deltaSyncRequired=!0},ft.pause=function(){ct=!0},ft.resume=function(){ct=!1,ot()},ft.resetTimers=function(n,t){var e;if(t){if(++yt>=3)return}else yt=0;var u=new Date,r=rt,f=it.lastFullSync||u,o=it.lastDeltaSync||f;n=n||!1,n||(lt!==null&&i.clearTimeout(lt),r=Math.max(r-(u.getTime()-f.getTime()),0),lt=i.setTimeout(function(){ft.queueFull()},r)),at!==null&&i.clearTimeout(at),e=Math.max(ut-(u.getTime()-o.getTime()),0),ut<r&&(at=i.setTimeout(function(){ft.queueDelta()},e))},ft.dispose=function(){ht&&ht.dispose(),ht=null,et=[]}}var l="FullSync",a="DeltaSync",v="wpd",y="InvalidPassportUser",p="PassportAuthFail",w="MissingTicket",b=3,k=20,s="full",f="delta",e="inProgress",h="attempts",o="successCallbacks",c="failureCallbacks",r="requestType",u="qosScenario",i=window,d=i.$BSI,g=i.$Cookie,nt=i.wLive,n=nt.People,t=n.Reporter;n.SyncClient=tt}(),function(n){function h(o,s,h){var c=this,l;c.fullSync=function(n,t,i){s.queueFull(n,t,i)},c.deltaSync=function(n,t,i){s.queueDelta(n,t,i)},c.pauseDeltaSync=function(){s.pause()},c.resumeDeltaSync=function(){s.resume()},c.processABChangedEvent=function(i){var r,u,f;if(t.logAction("Pwc_ProcessABChangedEvent"),r=!0,i)try{u=n(n.parseXML(i)),f=u.find("LastModifiedDate"),r=Date.parse(h.syncKey)!=Date.parse(f.text()),r||t.logAction("Pwc_ProcessABChangedNoDeltaSyncRequired")}catch(e){t.logError("Pwc_ProcessABChangedFailedEvent",e)}r&&s.queueDelta()},l={},c.loadPersonDetails=function(n,r,u,e){function y(r,u,f){var a,o;if(f.length<1){v(r,"InvalidResponseArray");return}for(a=new i.Person(f[0],h.names),h._personDetailsHash.update([a],!0),c&&t.stopScenario(e,!0),o=0;o<s.successCallbacks.length;o++)s.successCallbacks[o](a);l[n]=null}function v(i,r){t.logDetails("Pwc_DetailsData",{contactId:n,errorCode:r}),c&&t.stopScenario(e,!1,r);for(var u=0;u<s.failureCallbacks.length;u++)s.failureCallbacks[u](i,r);l[n]=null}var c=!e,a=!1,s;l[n]||(l[n]={successCallbacks:[],failureCallbacks:[]},a=!0),s=l[n],r&&s.successCallbacks.push(r),u&&s.failureCallbacks.push(u),a&&(e=e||t.startScenario(f),o.loadPersonDetails(n,y,v,e))},c.loadAllPersonDetails=function(n,r,u,f){function l(n,u,e){var l,a,o;if(e.length<1){c(n,"InvalidResponseArray");return}for(l=e[0],a=[],o=0;o<l.length;o++)a[o]=new i.Person(l[o],h.names);h._personDetailsHash.update(a,!0),s&&t.stopScenario(f,!0),r&&r()}function c(n,i){s&&t.stopScenario(f,!1,i),u&&u()}var s=!f;f=f||t.startScenario(e),o.loadAllPersonDetails(n,l,c,f)},c.loadProfiles=function(n,i,f,e){function g(n,r,u){var o,s,f;for(l++,o=[],s=[],h._addProfiles(r),f=0;f<u.length;f++)h.getPerson(u[f])?o.push(u[f]):s.push(u[f]);l>=k&&y&&t.stopScenario(e,!w,p),i&&i(o,s)}function nt(n,i,r){l++,w=!0,p=i,l>=k&&y&&t.stopScenario(e,!w,p),f&&f(r)}for(var s=[],v=[],d,a,c=0,b=n.length;c<b;c++)h.getPerson(n[c])?v.push(n[c]):s.push(n[c]);var k=0,l=0,y=!1,p=null,w=!1;if(s.length>0)for(y=!e,e=e||t.startScenario(u);s.length>0;)d=s.length>r?r:s.length,a=s.splice(0,d),o.loadProfiles(a,function(n,t){g(n,t,a)},function(n,t){nt(n,t,a)},e);(s.length==0||v.length>0)&&i&&i(v,[])},c.blockOrUnblockMessenger=function(n,t,i,r){o.blockOrUnblockMessenger(n,t,i,r)},c.dispose=function(){o=null,s=null,h=null}}var r=122,u="GetProfiles",f="PersonDetails",e="AllPersonDetails",o=window,s=o.wLive,i=s.People,t=i.Reporter;i.Client=h}(window.originaljQuery||jQuery),function(){var n=window.wLive.People.NetworkID=function(){};n.skype="SKYPE",n.windowsLive="WL",n.shortCircuit="SCD",n.facebook="FB",n.google="GOOG"}(),function(){var n=window.wLive.People.SortOrder=function(){};n.none=0,n.displayName=1,n.messagingRelevance=2,n.peopleRelevance=3}(),function(n){function a(l,a,v){function tt(n,t){n.splice(0,n.length),n.addRange(t||[])}function ft(n,t,i){var r,e,u;if(n)for(r=0,e=n.length;r<e;r++)if(u=n[r][t],typeof u!==f&&u===i)return n[r];return null}function k(n,t){var r=[],i;if(n.filter)r=n.filter(t);else for(i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r}function et(){y.profiles.splice(0,y.profiles.length),y.persons.splice(0,y.persons.length),y.categories.splice(0,y.categories.length),y.groups.splice(0,y.groups.length),y.services.splice(0,y.services.length),b.clear(),d.clear(),nt.clear(),it.clear(),rt.clear()}var y=this;y.readyEventName=o,y.failureEventName=e,y.disposeEventName=h,y.changedEventName=u,y.fullSyncEventName=s,y.persons=[],y.categories=[],y.groups=[],y.services=[],y.profiles=[],y.settings=new t.Settings([]);var d=new r(y.persons),g=new r([]),nt=new r(y.categories),it=new r(y.groups),rt=new r(y.services),b=new r(y.profiles),p=[],w=[],ut=!1;y.$persons=n({}),y.$categories=n({}),y.$groups=n({}),y.$services=n({}),y.$events=n(y),y.client=null,y.names=new t.Names(l.isLastNameFirst,l.nameType,l.nns,l.profileUrl,l.photosUrl),y.isReady=!1,y.isFailed=!1,y.lastFullSync=null,y.lastDeltaSync=null,y.syncKey=null,y._personHash=d,y._personDetailsHash=g,y._categoryHash=nt,y._groupHash=it,y._serviceHash=rt,y.getMe=function(){return y.getPerson(c.$Config.cid)},y.getPerson=function(n){var t=d.get(n);return t===null&&(t=b.get(n)),t},y.getPersons=function(n,t){var r=y.persons.slice(0),u,e;n&&(typeof n.isOnline!==f&&(u=n.isOnline?function(n){return n.isOnline()}:function(n){return!n.isOnline()},r=k(r,u)),typeof n.isIMCapable!==f&&(u=n.isIMCapable?function(n){return n.getMessagingAddresses().length>0}:function(n){return n.getMessagingAddresses().length==0},r=k(r,u)),typeof n.hasPicture!==f&&(u=n.hasPicture?function(n){return n.getUserTile()&&!0}:function(n){return!n.getUserTile()&&!0},r=k(r,u)),t&&(t==i.messagingRelevance||t==i.peopleRelevance)&&(u=t==i.messagingRelevance?function(n){return n.getMessagingRelevance()>=0}:function(n){return n.getPeopleRelevance()>=0},r=k(r,u)),n.networks&&n.networks instanceof Array&&n.networks.length>0&&(u=function(t){for(var r=t.getContacts(),i=0;i<r.length;i++)if(n.networks.contains(r[i].getSourceId()))return!0;return!1},r=k(r,u))),e=t?t:i.none;switch(e){case i.displayName:r.sort(function(n,t){return n.getDisplayNameWithFallback().localeCompare(t.getDisplayNameWithFallback())});break;case i.messagingRelevance:r.sort(function(n,t){return t.getMessagingRelevance()-n.getMessagingRelevance()});break;case i.peopleRelevance:r.sort(function(n,t){return t.getPeopleRelevance()-n.getPeopleRelevance()})}return r},y.getFavorites=function(){for(var t=[],n=0,i=y.categories.length;n<i;n++)if(y.categories[n].getIsFavorite()){t=y.getPersonsByCategory(y.categories[n].getId());break}return t},y.getPersonsByEmail=function(n){var u=[],t,f,r,i,e;if(n)for(n=n.toLowerCase(),t=0,f=y.persons.length;t<f;t++)for(r=y.persons[t].getContactEmails(),i=0,e=r.length;i<e;i++)if(r[i]&&r[i].toLowerCase()===n){u.push(y.persons[t]);break}return u},y.getPersonsByCategory=function(n){for(var r=[],i,t=0,u=y.persons.length;t<u;t++)i=y.persons[t]._d[12],i&&i.contains(n)&&r.push(y.persons[t]);return r},y.getPersonsByService=function(n){for(var r=[],i,f,t=0,u=y.persons.length;t<u;t++)i=y.persons[t],f=ft(i._d[1],4,n),f&&r.push(i);return r},y.getPersonDetails=function(n){return g.get(n)},y.removePersonDetails=function(n){var t=g.get(n);t&&g.remove(t)},y.getContactIdsForMri=function(n){var e,t,s,o,i,h,r,u,f,c;if(e=[],n)for(n=n.toLowerCase(),t=0,s=y.persons.length;t<s;t++)for(o=y.persons[t]._d[1],i=0,h=o.length;i<h;i++)if(r=o[i],r[3]&&(u=r[3][0],u))for(f=0,c=u.length;f<c;f++)if(u[f].toLowerCase()==n){e.push(r[0]);break}return e},y.getCategory=function(n){return nt.get(n)},y.getService=function(n){return rt.get(n)},y.reset=function(){et(),a.clearAb(),a.clearHost()},y.callWhenReady=function(n,t){function i(){y.$events.unbind(e,i);for(var n=0;n<w.length;n++)w[n]();w=[]}function r(){y.$events.unbind(o,r);for(var n=0;n<p.length;n++)p[n]();p=[]}y.isReady&&n?n():(p.length===0&&y.$events.bind(o,r),p.push(n),t&&(y.isFailed?t():(w.length===0&&y.$events.bind(e,i),w.push(t))))},y.removeWhenReadyCallback=function(n,t){if(p){var i=p.indexOf(n);i!=-1&&p.splice(i,1),t&&(i=w.indexOf(t),i!=-1&&w.splice(i,1))}},y.dispose=function(){ut=!0,y.$events.triggerHandler(h),y._disposeCache()},y.processABChangedEvent=function(n){y.client.processABChangedEvent(n)},y._flatten=function(n){var i=new t.DeltaSync(v,this,null);return i.flatten(n)},y._clone=function(n){var i=new t.DeltaSync(v,this,null);return i.clone(n)},y._sortContactsByRank=function(n){var i=new t.DeltaSync(v,this,null);i.sortContactsByRank(n)},y._dedupeContacts=function(n){var i=new t.DeltaSync(v,this,null);return i.dedupe(n)},y._addProfiles=function(n){for(var f=[],i,r,u=0;u<n.length;u++)if(i=new t.Person(n[u],y.names),b.get(i.getId())){for(r=0;r<y.profiles.length;r++)if(y.profiles[r].getId()==i.getId()){y.profiles[r]=i;break}}else y.profiles.push(i),f.push(i);b.update(f)},y._applyFull=function(n,t,i,r,u){tt(y.persons,n),tt(y.categories,t),tt(y.groups,i),tt(y.services,r),y.settings=u,d.clear(),nt.clear(),it.clear(),y.isReady&&y.$events.triggerHandler(s)},y._getProfile=function(n){return b.get(n)},y._find=function(n){function t(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i].getDisplayName(),r&&t&&r.toLowerCase().indexOf(t.toLowerCase())>=0)return n[i];return null}var i=t(y.persons,n);return i||t(y.profiles,n)},y._snapshot=function(){function n(t){var e,r,u,f,i;if(t)if(t instanceof Array)for(e=0;e<t.length;e++)n(t[e]);else{r=[];for(u in t)u.startsWith("get")&&u!="getPerson"&&typeof t[u]=="function"&&r.push(u);for(f=0;f<r.length;f++)i=t[r[f]](),t[r[f].substr(3)]=i,i&&(typeof i=="function"||i instanceof Array)&&n(i)}}n(y.persons),n(y.profiles),n(y.categories),n(y.groups),n(y.services),n(y.settings)},y._disposeCache=function(){ut||(y.$events.unbind(o),y.$events.unbind(e),y.$events.unbind(s),y.$persons.unbind(u),y.$categories.unbind(u),y.$groups.unbind(u),y.$services.unbind(u),y.profiles=null,y.services=null,y.categories=null,y.groups=null,y.persons=null,y.settings=null)}}var f="undefined",e="failure",o="ready",h="dispose",u="changed",s="fullSync",c=window,l=c.wLive,t=l.People,r=t.LazyHash,i=t.SortOrder;t.Cache=a}(window.originaljQuery||jQuery),function(n){function p(){function ot(){var n,t;tt||(s.isReady?u(w,!0):(n=y.getFullSyncRequired(),i.logAction("Pwc_InitCacheFullSyncRequired"),!n&&st()?(t=v.deltaSyncInterval?parseInt(v.deltaSyncInterval):3e5,p.deltaSyncRequired&&(s.lastDeltaSync=new Date((new Date).getTime()-t),p.deltaSyncRequired=!1,i.logAction("Pwc_InitCacheDeltaSyncRequired")),p.resetTimers(),g()):ht()))}function st(){var r=!1,h=(new Date).getTime(),n=y.clearAbErrorCode(),f=y.getFullAb(),u,t;if(n=y.clearAbErrorCode()||n,f){try{for(p.applyFull(f),s.lastFullSync=y.getLastFullSync(),s.lastDeltaSync=y.getLastDeltaSync(),u=y.getAbDeltas(),t=0;t<u.length;t++)p.applyDelta(u[t].json);r=!0,p.deltaSyncRequired=y.getDeltaSyncRequired()||e.getSessionCookie(a)==="1"}catch(o){i.logError("Pwc_RestoreAbError",o),n=i.getErrorCode(o)}r||y.clearAb()}return i.addStats(c,h,n,w),r}function ht(){if(v.initOnPageLoad)if(f.isLoading()){var t=!1,n;n=function(){t||(n&&(f.removeLoadedCallback(n),t=!0),rt())},f.addLoadedCallback(n)}else rt();else u(w,!0)}function rt(){s.isReady?p.resetTimers():v.fullSyncDelay?t.setTimeout(function(){d.fullSync(g,ut,w)},v.fullSyncDelay):d.fullSync(g,ut,w)}function g(){s.isReady=!0,s.isFailed=!1,e.setSessionCookie(o,"1"),u(w,!0),s.$events.triggerHandler(s.readyEventName)}function ut(){s.isReady=!1,s.isFailed=!0,e.setSessionCookie(o,null),u(w,!1,"fullSyncFailure"),s.$events.triggerHandler(s.failureEventName)}function ft(){s.reset()}function nt(){tt=!0,t.$Logout&&v.enabled&&!v.fullyDisabled&&b.hcid&&t.$Logout.remove(ft),n(t).unbind(l,nt),y&&(y.dispose(),y=null),s&&(s.$events.unbind(s.disposeEventName,nt),s._disposeCache(),s=null),p&&(p.dispose(),p=null)}var et=this,tt=!1,b=t.$Config||{},v=b.ContactCache||{},it=b.mkt?b.mkt.toLowerCase():"";i.isQosEnabled=v.qos;var w,y=new r.Store(v.peopleApiBaseUrl,v.localStorage,b.hcid,it,ot),k=new r.ServiceProxy(y,it,v.peopleApiBaseUrl,v.peopleApiAppId,b.handlerBaseUrl,v.canary),s=new r.Cache(v,y,k),p=new r.SyncClient(k,y,s,v.fullSyncInterval,v.deltaSyncInterval),d=new r.Client(k,p,s);s.client=d,s.$events.bind(s.disposeEventName,nt),et.cache=s,v.enabled&&!v.fullyDisabled&&b.hcid&&(w=i.startScenario(h),t.$Logout&&t.$Logout.add(ft),y.init(w))}var h="Init",c="RestoreAB",l="unload",a="wpd",o="wpc",s="$pwc",t=window,v=t.$Do,y=t.wLive,r=y.People,i=r.Reporter,u=i.stopScenario,f=t.$BSI,e=t.$Cookie,w=new p;t[s]=w.cache,v.register(s,0,!0)}(window.originaljQuery||jQuery),function(){function r(){function f(){return i||(i=n.ic_common_data),i||{}}function u(){return r||(r=n.ic_menu_data),r||{}}var t=this,i,r;t.getActionData=function(n){return u()[n]},t.getReturnUrl=function(){return f().ru||location.href},t.getActionDescription=function(n){return u()[n][0]||""}}var n=window,t=n.wLive||{},i;t.IC=t.IC||{},i=t.IC,i.ICCommonData=new r}(),function(n){function u(t,i,r){function f(n){return n<s?i[n]:null}function h(){return o++}var u=this,o=0,e,s=i.length;u.id=t,u.html=r.html(),u.getNewId=function(){return t+h()},u.getCid=function(){return f(0)},u.getShowCard=function(){return f(1)=="1"},u.getMenuActions=function(){return f(2)},u.getName=function(){return f(3)},u.getEmail=function(){return f(6)},u.getUserTileUrl=function(){return f(17)},u.getTileSize=function(){var u,i;if(!e)if(u=n("#{0}_{1}".format(t,"usertilecontainer"),r),u.length>0){if(i=u.attr("class").split(" "),i&&i[1])return i[1].replace("c_ic_img_","")}else e="none";return e},u.dispose=function(){r=null,i=null}}var r=window,t=r.wLive,i;t.IC=t.IC||{},i=t.IC,i.ICTemplate=u}(window.originaljQuery||jQuery),function(n){function u(){function f(n){if(n.startsWith("icTm")){var t=n.indexOf("_template"),i=t>=0?t:n.length;return n.substring(4,i)}return n}var u=this,i={};u.init=function(){t.icPwcData&&u.addTemplates(t.icPwcData)},u.addTemplates=function(t){var u,e;if(t)for(u in t)e=f(u),i[e]&&i[e].dispose(),i[e]=new r.ICTemplate(u,t[u],n("#{0}_template".format(u)))},u.getTemplate=function(n){return n=f(n),i[n]?i[n]:null},u.dispose=function(){for(var n in i)i[n].dispose(),delete i[n];i=null},u.init()}var t=window,i=t.wLive,r;i.IC=i.IC||{},r=i.IC,r.ICTemplates=u}(window.originaljQuery||jQuery),function(n){function f(n,i){var u=this;u.id=f.id,u.isEnabled=function(){return n&&n.getContactEmails().length>0||i},u.getAvailableOptions=function(){var u=[],r=n?n.getContactEmails():[],t;for(i&&u.push({id:i,displayName:i}),t=0;t<r.length;t++)i&&r[t]==i||u.push({id:r[t],displayName:r[t]});return u},u.performAction=function(n){var i,f,e,o;t.getActionData(u.id)&&(i=u.getAvailableOptions(),f=n||i.length>0&&i[0].id,f&&(e=t.getActionData(u.id)[1].replace("$address$",f).replace("$ru$",encodeURIComponent(t.getReturnUrl())),o=r.wLive&&r.wLive.Hotmail?null:"_blank",$BSI.navigateTo(e,o)))},u.dispose=function(){}}function e(n){var i=this;i.id=e.id,i.isEnabled=function(){return n&&!n.isMe()&&n.getId()},i.getAvailableOptions=function(){return[]},i.performAction=function(){if(n&&t.getActionData(i.id)){var u=t.getActionData(i.id)[1].replace("$contactid$",n.getId());r.open(u,"_blank")}},i.dispose=function(){}}function o(n){var i=this;i.id=o.id,i.isEnabled=function(){return n&&n.isMe()},i.getAvailableOptions=function(){return[]},i.performAction=function(){if(t.getActionData(i.id)){var n=t.getActionData(i.id)[1];r.open(n,"_blank")}},i.dispose=function(){}}function s(n,t,i){var r=this,u;r.id=s.id,r.setWebImContact=function(n){u=n},r.isEnabled=function(){return u&&n&&!n.isMe()&&n.canChat(t)},r.getAvailableOptions=function(){var r=[],i,t;if(n&&u)for(i=n.getMessagingAddresses(),t=0;t<i.length;t++)i[t].canChat()&&r.push({id:i[t].get_id(),displayName:i[t].get_network().get_name()});return r},r.performAction=function(t,r){var f=c(n.getMessagingAddresses(),t);$WLXIM.startConversation(u,f?f.get_type():0,h(i),f?f.get_network():null,r)},r.dispose=function(){}}function u(n,t,i,r){var f=this,e;f.id=t?u.audioId:u.videoId,f.setWebImContact=function(n){e=n},f.isEnabled=function(){return e&&n&&!n.isMe()&&n.canCall(i)},f.getAvailableOptions=function(){var r=[],i,t;if(n&&e)for(i=n.getMessagingAddresses(),t=0;t<i.length;t++)i[t].canCall()&&r.push({id:i[t].get_id(),displayName:i[t].get_network().get_name()});return r},f.performAction=function(i,u){var f=c(n.getMessagingAddresses());t?$WLXIM.startVideoCall(e,h(r),f,u):$WLXIM.startAudioCall(e,h(r),f,u),y()},f.dispose=function(){}}function h(n){return n=n||a,v[n]||n}function c(n,t){var r=null,i;if(t)for(i=0;!r&&i<n.length;i++)n[i].get_id()==t&&(r=n[i])}function y(){function i(){n(t).unbind("pluginLoaded",i),n(t).unbind("callFinished",i),$header.hideLoading()}var t=Microsoft.Live.Messenger.Services.SkyJSHelper;t.skypeEnabled&&$header&&($header.showLoading(),n(t).bind("pluginLoaded",i),n(t).bind("callFinished",i))}var r=window,l=r.wLive,i=l.IC,a="identityControl",v={PeoplePane:"peoplePane"},t=i.ICCommonData;i.ICActionEmail=f,f.id="se",i.ICActionContactDetails=e,e.id="cd",i.ICActionEditProfile=o,o.id="ep",i.ICActionSendIm=s,s.id="si",i.ICActionCall=u,u.videoId="vc",u.audioId="ac"}(window.originaljQuery||jQuery),function(n){function e(u,e){function k(){(a=i.$WLXIM,a&&s&&!w&&!v)&&(n(s).bind(r,d),o[t.ICActionEmail.id]=new t.ICActionEmail(s,p),o[t.ICActionEditProfile.id]=new t.ICActionEditProfile(s),o[t.ICActionContactDetails.id]=new t.ICActionContactDetails(s),o[t.ICActionSendIm.id]=new t.ICActionSendIm(s,u,e),o[t.ICActionCall.videoId]=new t.ICActionCall(s,!1,u,e),o[t.ICActionCall.audioId]=new t.ICActionCall(s,!0,u,e),w=!0,y(),$Do.when("$WLXIM.UserSignedIn",0,function(){!v&&s.getId()&&(l=s.isMe()?a.user.get_contact():a.user.findContactById(s.getContacts()[0].getId()),l&&(o[t.ICActionSendIm.id].setWebImContact(l),o[t.ICActionCall.videoId].setWebImContact(l),o[t.ICActionCall.audioId].setWebImContact(l),y()))}))}function y(){var u=c.isOnline(),i=b!=u,t,r;b=u;for(t in o)r=o[t].isEnabled(),i=i||r!=h[t],h[t]=r;i&&n(c).trigger(f)}function d(){y()}var c=this,l,a,s,p,w=!1,o={},b=!1,h={},v=!1;h[t.ICActionEmail.id]=!1,h[t.ICActionContactDetails.id]=!1,h[t.ICActionEditProfile.id]=!1,h[t.ICActionSendIm.id]=!1,h[t.ICActionCall.videoId]=!1,h[t.ICActionCall.audioId]=!1,c.actions=o,c.setPerson=function(n,t){s=n,p=t,k()},c.isOnline=function(){return s&&s.isOnline(u)},c.dispose=function(){for(var t in o)o[t].dispose(),delete o[t];o=null,n(s).unbind(r,d),l=null,v=!0},$Do.when("wlxim",0,k)}var i=window,u=i.wLive,t=u.IC,r="changed",f="presenceChanged";t.ICPresence=e}(window.originaljQuery||jQuery),function(n){function b(){if(!u){var t=n("#"+s);t.length==0?(u=n("<div>").prop("id",s),n("body").prepend(u),e.$Sutra&&sutra(u,i+"ICMenuList")):u=t}return u}function k(u,s){function rt(){s&&n(s).bind(h,tt)}function ut(i){var f,r;a=n("<ul>"),a.addClass(v),a.prop("id",u.id+"_menu_ul"),a.html(ft()),et(),tt(),b().append(a),f={offset:{x:0,y:5},nofocus:1,hoverDelay:y,menuEl:a[0]},$menu.create(i,0,f),k=a[0].binding,st(),d&&!d.isMe()&&(r=it(),r.Template=u.template.id,r.hasContactDetails=nt(t.ICActionContactDetails.id),r.hasEmail=nt(t.ICActionEmail.id),r.hasIM=nt(t.ICActionSendIm.id),r.hasVideoVoiceCall=nt(t.ICActionCall.videoId)||nt(t.ICActionCall.audioId),$BSI.reportEvent("View.IC.Nav",r))}function nt(n){return s&&s.actions[n]&&s.actions[n].isEnabled()?1:0}function ft(){var f="",h=nt(t.ICActionContactDetails.id)?c:w,e=h.format(u.getName().encodeHtml(),u.getEmail().encodeHtml(),t.ICActionContactDetails.id),n,i,o;if(s)for(d&&d.isMe()&&(e=c.format(u.getName().encodeHtml(),l.getActionDescription(t.ICActionEditProfile.id).encodeHtml(),t.ICActionEditProfile.id)),n=0;n<r.length;n++)i=r[n],o=l.getActionDescription(i).encodeHtml(),f=f+p.format(i,o,ot(i));return e+f}function et(){e.$Sutra&&a&&a.length>0&&(sutra(a,i+"ICMenu"),sutra(n("#"+t.ICActionEditProfile.id,a),i+"ICMenuEditProfile"),sutra(n("#"+t.ICActionContactDetails.id,a),i+"ICMenuContactDetails"),sutra(n("#"+t.ICActionEmail.id,a),i+"ICMenuSendEmail"),sutra(n("#"+t.ICActionSendIm.id,a),i+"ICMenuStartIM"),sutra(n("#"+t.ICActionCall.videoId,a),i+"ICMenuVideoCall"),sutra(n("#"+t.ICActionCall.audioId,a),i+"ICMenuAudioCall"),sutra(n(".c_ic_menu_name",a),i+"ICMenuName"),sutra(n(".c_ic_menu_sub",a),i+"ICMenuSub"))}function ot(t){var i;switch(t){case"si":i=f.IM;break;case"se":i=f.Mail;break;case"vc":i=f.Video;break;case"ac":i=f.Audio}return i?n($IS.CreateFromConfig("ic/icmenu2_gray.png,ic/icmenu2_gray.png,",i,$Config.imgsBase)).html():""}function st(){for(var i=0;i<r.length;i++)at(r[i]);n("#ep a",a).bind("click",function(){s.actions[t.ICActionEditProfile.id].performAction()}),n("#cd a",a).bind("click",function(){s.actions[t.ICActionContactDetails.id].performAction()})}function ht(){for(var t=0;t<r.length;t++)lt(r[t]);n("#ep a",a).unbind(),n("#cd a",a).unbind()}function ct(){k&&(k.dispose(),k=null),a&&(ht(),a.remove(),a=null)}function lt(t){n("#"+t,a).unbind()}function at(t){function r(n){$IS.toggle(i[0],n-f),f=n}var i=n("#"+t,a),f=1;i.hover(function(){r(2)},function(){r(1)}),i.bind("mousedown",function(){r(3)}),i.bind("mouseup",function(){r(1)}),i.bind("mouseup",function(){r(1)}),s.actions[t]&&i.bind("click",function(n){n&&n.preventDefault(),s.actions[t].performAction(null,i[0]),g.hide();var r=it();r.IdentityControlNav=vt(t),r.Template=u.template.id,$BSI.reportEvent("SelectClick.IC.Nav",r)})}function vt(n){switch(n){case t.ICActionEditProfile.id:return"Profile";case t.ICActionContactDetails.id:return"CDMenu";case t.ICActionEmail.id:return"Email";case t.ICActionSendIm.id:return"IM";case t.ICActionCall.videoId:return"Video";case t.ICActionCall.audioId:return"Voice"}return"UnknownAction"}function it(){var r={},u={},i,t,n;if(d)for(i=d.getContacts(),t=0;t<i.length;t++)u[i[t].getSourceId()]=!0;for(n=0;n<o.length;n++)r[o[n]]=u[o[n]]||!1;return r}function tt(){var t,i,u;if(a&&s){for(t=0;t<r.length;t++)i=r[t],u=n("#"+i,a),s.actions[i]&&s.actions[i].isEnabled()?u.css("display",""):u.hide();k&&k.update()}}var g=this,a,k,d;g.setPerson=function(n){d=n},g.show=function(n){a||ut(n),k&&!k.isOpen()&&k.show()},g.hide=function(){k&&k.isOpen()&&k.hide()},g.toggleVisibility=function(){k&&k.toggleState()},g.dispose=function(){s&&(n(s).unbind(h,tt),s=null),ct()},rt()}var e=window,a=e.wLive,t=a.IC,s="c_ic_menus",v="c_ic_menu c_m t_hovl",y=625,h="presenceChanged",i="$Sutra.Shared.",p='<li id="{0}" class="c_ic_menu_glyph"><a href="#" alt="{1}" tabindex="1" role="menuitem"><span class="is_c">{2}<\/span><\/a><\/li>',w='<li id="{2}"><span><div class="c_ic_menu_name">{0}<\/div><div class="c_ic_menu_sub">{1}<\/div><\/span><\/li>',c='<li id="{2}"><a href"#" tabIndex="1" role="menuitem"><div class="c_ic_menu_name">{0}<\/div><div class="c_ic_menu_sub">{1}<\/div><\/a><\/li>',f={Mail:"1,0,30,31,",IM:"32,0,30,31,",Audio:"63,0,30,31,",Video:"94,0,30,31,"},r=[t.ICActionEmail.id,t.ICActionSendIm.id,t.ICActionCall.videoId,t.ICActionCall.audioId],o=["ABCH","FB","GOOG","LI","MYSP","SINWE","SKYPE","SCD","TWITR","WL"],l=t.ICCommonData,u;t.ICCard=k}(window.originaljQuery||jQuery),function(n){function h(h,c,l){function wt(){var i=h.getTileSize(),t,n;p.isMe()||i!="mxl"&&i!="mxxl"||(t=p.getContacts(),n=t.length>0?t[0].getId():null,n&&($pwc.getPersonDetails(n)?(nt=$pwc.getPersonDetails(n),st(!0)):$pwc.client.loadPersonDetails(n,function(){nt=$pwc.getPersonDetails(n),st(!0)})))}function bt(){if(d){var n=g;et=!1,a.deactivate(),a.render(),y.replaceWith(d),ot=!0,n&&a.activate()}}function st(n){var t=ct();v&&(!et||n)&&(et=!0,v.prop("src")==t?at():(v.bind("load",at),v.bind("error",vt),t?v.prop("src",u.$ssl.ensureSSLImageUrl(t)):v.prop("src",v.prop("errsrc")||$icerrsrc)))}function at(){var n,t,i,r,u,f;try{if(o[v.prop("src")]=1,v.attr("class","c_ic_tile"),i=0,t=v[0].naturalWidth,n=v[0].naturalHeight,r=v.css("width"),u=v.css("height"),t==1&&n==1||r=="1px"&&u=="1px"){vt();return}if(f=Math.round,t&&n&&t!=n)if(t>n){var e=parseInt(u),s=parseInt(r),h=f(t*(e/n));i=-f((h-s)/2),v.css({width:"auto","max-width":"none",left:i+"px"})}else v.css({height:"auto","max-height":"none"});v.css("visibility","")}catch(c){it&&it.logError("IC_OnUserTileLoad_Error",c)}}function vt(){var n,t;try{n=v.parent(),v.remove(),t=v.attr("errsrc")||$icerrsrc,v.attr("src")!=t&&(v.attr("class","c_ic_tile").css("top","").css("left","").css("height","").css("width",""),setTimeout(function(){v&&v.attr("src",t).css("visibility","")},0))}catch(i){it&&it.logError("IC_OnUserTileError_Error",i)}finally{null!=n&&n.append(v)}}function ht(){var u=n(w("frame"),y),f=n(w("bar"),y),t=!l.hidePresence&&b.isOnline();u.length>0?$IS.setClass(u[0],t?r:i):(f.removeClass(t?i:r),f.addClass(t?r:i))}function kt(){var t=n(w("bar"),y);t.css("visibility","inherit")}function yt(n){k&&k.show(n)}function dt(){k&&k.toggleVisibility()}function pt(){var t=lt(),r=ft(),i;a.getShowICCard()&&p&&(t=""),n(w("frame_clip"),y).attr("title",t),n(w("usertile"),y).attr("alt",t),i=n(w("name"),y),i.attr("title")&&i.attr("title",r)}function gt(){return p&&p.getIsFavorite()}function ni(){return l.showICCard&&h.getShowCard()}function ut(){var t=l.name||p&&p.getDisplayNameWithFallback(),n=h.getName();return n=n=="{0}"?null:n,t||n||""}function ct(){var n=h.getUserTileUrl(),t=p&&p.isMe()&&!ii(n)?n:null;return t||l.userTileUrl||nt&&nt.getUserTile()||p&&p.getUserTile()||h.getUserTileUrl()}function ft(){var n=l.email,t;return!n&&p&&(t=p.getContactEmails(),t.length>=0&&(n=t[0])),n||h.getEmail()}function lt(){if(l.toolTipType=="none")return"";var n;return n=l.toolTipType&&l.toolTipType!="email"&&ut()?ut():ft(),n||""}function w(n){return"#{0}_{1}".format(tt,n)}function ti(n){return s&&(n==null||n=="")?'""':n}function ii(n){return n.indexOf("blueman")>=0}l=l||{};var a=this,p,nt,tt,d,b,k,it,et=!1,g=!1,ot=!0,rt=!1,y,v;a.person=null,a.pwcId=c,a.template=h,a.init=function(){a.id=tt=h.getNewId(),a.namespace=l.namespace,b=new t.ICPresence(l.useActiveMessagingAddress),k=new t.ICCard(a,b),c&&$Do.when("$pwc",0,function(){$pwc.callWhenReady(function(){rt||(it=f.People.Reporter,a.person=p=$pwc.getPerson(c),p&&(b.setPerson(p,ft()),k.setPerson(p),pt(),wt()),d&&bt())})})},a.render=function(){var u=ut().encodeHtmlAttribute(),f=lt().encodeHtmlAttribute(),i,r,t;return d=h.html.replace(new RegExp(h.id,"g"),tt).format(u,"","",ti(f)),i=ct(),o[i]&&(r=n("<div><\/div>").html(d),t=n(w("usertile"),r),t.prop("src",i),t.addClass("c_ic_tile"),t.css("visibility",""),d=r.html()),d},a.activate=function(t){var r,u,i;g||rt||(ot&&(ot=!1,y=t||n("#"+tt),y.addClass("icpwc"),v=n(w("usertile"),y),pt(),gt()&&(r=n(w("fstarp"),y),r.length>0&&(r.removeClass("c_ic_fstarp_hide"),u=n(w("name"),y),u.length>0&&u.parent().addClass("c_ic_name_fstar_"+h.getTileSize()))),a.getShowICCard()||n(w("usertilecontainer"),y).addClass("c_emptymenu"),kt()),n(b).bind(e,ht),ht(),setTimeout(st,0),a.getShowICCard()&&(i=n(w("frame_clip"),y),i.addClass("c_ml"),i.find(".c_ic_tile_clip").css("cursor","pointer"),i.bind("mouseover.ic",yt),i.bind("focus.ic",yt),i.bind("click.ic",dt)),g=!0)},a.deactivate=function(){g&&!rt&&(n(b).unbind(e,ht),y&&(n(w("frame_clip"),y).unbind(".ic"),n(w("name"),y).unbind()),v&&v.unbind(),k.dispose(),k=new t.ICCard(a,b),g=!1)},a.isActive=function(){return g},a.getUserTileContainerElement=function(){return n(w("usertilecontainer"),y)},a.getPresence=function(){return b},a.dispose=function(){a.deactivate(),b&&(b.dispose(),b=null),y&&y.html(""),y=v=null,a.person=p=nt=null,rt=!0},a.getShowICCard=ni,a.getName=ut,a.getUserTileUrl=ct,a.getEmail=ft,a.getTooltip=lt,a.init()}var u=window,f=u.wLive,t=f.IC,s=$B.IE,e="presenceChanged",i="c_ic_blueframe",r="c_ic_greenframe",o={};t.IC=h}(window.originaljQuery||jQuery),function(n){function r(){function h(n,t,r){var e=new i.IC(n,t,r);return o[e.id]=e,t&&(f[t]=f[t]||[],f[t].push(e)),r.namespace&&(u[r.namespace]=u[r.namespace]||[],u[r.namespace].push(e)),e}var r=this,o={},f={},u={},e,s=!1;r.init=function(){s||(s=!0,e=new i.ICTemplates,$Do.register("$icm",0,!0))},r.addTemplates=function(n){s&&e.addTemplates(n)},r.createICForPerson=function(n,t,i){if(!e)return null;i=i||{};var r=e.getTemplate(n);return!t||!r?null:h(r,t,i)},r.createNonContactIC=function(n,t,i){if(!e)return null;var r=e.getTemplate(n);return r?(i=i||{},i.email=t,h(r,null,i)):null},r.createICsFromCids=function(n,i,u,f){function s(t,i){var e=r.createICForPerson(n,i.getId()||t,f);u(o[t],e)}function h(n,t){for(var i=0;i<n.length;i++)s(n[i],e.getPerson(n[i]));for(i=0;i<t.length;i++)u(t[i],null)}var o={},e;$Do.when("$pwc",0,function(){e=t.$pwc,e.callWhenReady(function(){for(var r=[],n,u,t=0,f=i.length;t<f;t++)n=i[t][0],o[n]=i[t][1],n!="0"&&n!=0&&(u=e.getPerson(n),u?s(n,u):r.push(n));r.length>0&&e.client.loadProfiles(r,h)})})},r.getICById=function(n){return o[n]||null},r.getICsForPerson=function(n){return f[n]},r.getICsForNamespace=function(n){return u[n]||[]},r.removeIC=function(n){var t,i;delete o[n.id],n.pwcId&&(t=n.pwcId,f[t]&&(f[t].remove(n),f[t].length==0&&delete f[t])),n.namespace&&(i=n.namespace,u[i]&&(u[i].remove(n),u[i].length==0&&delete u[i])),n.dispose()},r.removeAllICsByNamespace=function(n){var t=u[n],i;if(t)for(t=t.clone(),i=0;i<t.length;i++)r.removeIC(t[i])},r.removeAllICs=function(){for(var n in o)r.removeIC(o[n])},r.dispose=function(){n(t).unbind("unload",r.dispose),r.removeAllICs(),o=null,u=null,f=null,e&&e.dispose(),e=r.templates=null,t.$icm=null},n(t).bind("unload",r.dispose)}var t=window,u=t.wLive,i=u.IC;i.ICManager=r,t.$icm=new r,$Do.register("$icmCreated",0,!0)}(window.originaljQuery||jQuery),function(){function e(u,e){var c=e&&e.getAttribute("wrap");if(c){var s=n.$Config,v=s.WS||{},y=v.SL||{},l=y.url;if(l){for(var h=c.split(t),p=h.slice(r).join(t),a={l:p,p:s.di,mkt:s.mkt},o=0;o<r;o++)h[o]&&(a[i[o]]=h[o]);e.href=l+"?"+f.serialize(a)}}}var n=window,u=n.$BSI,f=n.$Utility,t="|",i=["h","o","u","q1","q2","q3","q4","q5"],r=i.length;u.addNavCallback(e)}(window.originaljQuery||jQuery),function(n){function o(){f=t.$Config,r=f.Ssl||{},i=r.imu,e=r.d}var t=window,c=t.$Utility,u=t.Debug,f,r,i,e,s="http://",h="https://";o(),t.$ssl={ensureSSLImageUrl:function(n){return e||document.location.href.toLowerCase().startsWith(h)&&n.toLowerCase().startsWith(s)&&i&&(n=i+n.encodeUrl()),n},copyOutConfig:function(t){t.$Config.Ssl={},n.extend(t.$Config.Ssl,$Config.Ssl,!0),t.$ssl.resetCachedValues()},resetCachedValues:o}}(window.originaljQuery||jQuery),function(n){function gt(n){return n=n||_ge("c_h_ttl"),'<div><ul class="c_h_ttl">'+n.innerHTML+'<\/ul><div class="c_clr"><\/div><\/div>'}function ni(){var t=wLive.Controls.Notifications,u,r;t&&(u=gt(),r=t.createFlyout({title:"",content:u,anchor:_ge("c_clogoc"),options:{moreCss:"c_headerBar",bubble:6,maxWidth:li,animation:{entranceType:"slidefadein2",entranceArguments:[{left:0,top:-20,override:!0}],exitType:"slidefadeout2",exitArguments:[{left:0,top:-20}]}}}),t.getQueue().start(),r.show(),n(r).bind("aftershow",function(){var t=n(".c_headerBar .UserContent div")[0];ti(n(t).find("a")),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderTiles&&sutra(t,"$Sutra.Shared.HeaderTiles")}))}function ti(t){n(document).on("mousedown",".c_headerBar",function(t){return n(t.srcElement).parents("a").addClass("pressed"),!1}).on("mouseup","html",function(){n(".c_headerBar a").removeClass("pressed")});t.each(function(){var t=n(this);r(t,t.attr("id"))}),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderTile&&(t.each(function(){sutra(this,"$Sutra.Shared.HeaderTile")}),n("#c_headerBar div").length&&sutra(n("#c_headerBar div")[0],"$Sutra.Shared.HeaderTiles"))}function ii(n){n.which==13&&(kt=n.type=="keydown")}function ki(){var r=window.location.host.split("."),u="."+r[r.length-2]+".com",i=new Date,t=$HIC,f=ut.getCookie(it,1)||"",n=f.split("|");i.setDate(i.getDate()+t.e),n[0]!=t.c&&(n=[]),n[0]=t.c||n[0]||"",n[1]=t.m||t.m===0?t.m:n[1]||"",n[2]=t.l||t.l===0?t.l:n[2]||"",n[3]=t.cl||n[3]||"",n[4]=t.dg||t.dg===0?t.dg:n[4]||"",n[5]=t.scl||n[5]||"",n[0]?ut.setCookie(it,n.join("|"),u,0,i,1):ut.deleteCookie(it,u)}var i=window,o=i.$Config,rt=i.$Do,ut=i.$Cookie,bt=n(i),c,a,kt,b,ft,et,dt,ot=document.createElement("div"),st=n(ot),k,ct,s,u,y,h,f,l,ri,r,oi,si,hi,p,pt,g,w,bi,v,wt,nt,tt,it;ot.className="headerBarBG";var li=642,ht=[],ai="SelectClick.MetroHeader.Nav",vi="c_memenu",t={};t["c_h_mail"]="Mail",t["c_h_ppl"]="People",t["c_h_cal"]="Calendar",t["c_h_sd"]="SkyDrive",t["c_h_dfe"]="DogExt",t["c_h_dfi"]="DogInt",t["c_h_wd"]="Word",t["c_h_xl"]="Excel",t["c_h_ppt"]="PowerPoint",t["c_h_on"]="OneNote",t["c_h_oo"]="Office",t["c_h_sw"]="Sway",t["c_clogot"]="Home",t["c_clogoc"]="Switcher",t["c_hiconm"]="webIM",t["c_hiconu"]="undo",t["c_hiconc"]="gear",t["c_coh"]="help",t["c_cof"]="feedb",t["c_melink"]="me",t["c_himla"]="presence",t["c_himld"]="presence",t["c_memenuic"]="c_memenuic",t["c_profile"]="profile",t["c_hli"]="account",t["c_wimnetsub"]="3pchatm",t["c_signout"]="signout",t["c_wimneton_FB"]="fbchat",t["c_wimnetoff_FB"]="fbchat",k=n("#c_signin"),ct=function(){for(var t=0;t<ht.length;t++)ht[t].unbind("click");k.unbind(),n(".c_clogo").unbind(),n(i).unbind("unload",ct)},n(".c_clogo a").attr("onclick",""),i.$header={},l=0,i.$header.showAppBar=function(t,r,e){var a,c,v,l;r&&(s&&(f.unbind(),h.remove(),u.remove(),y=s=null),s=document.createElement("div"),s.id="c_headerBar",s.className="c_headerBar",document.body.appendChild(s),u=n(s),y=$f.createIframe(),y.id="c_headerBarIframe",document.body.appendChild(y),h=n(y),a=gt(r),s.innerHTML=a,f=u.find("a"),dt=f.length,ti(f),n(r).remove());var p=function(n){n=n||event;var t=n.target,i=n.which;b=i===9,ft=!!n.shiftKey,et=t},w=function(n){var t=n.which;t===9&&(b=0)},k=function(t){if(b&&ft&&et===f[0]||b&&!ft&&et===f[dt-1]){c(t);try{n("#c_clogoc").focus()}catch(i){}}},o;f.bind("mousedown",function(){o&&o.removeClass("c_hbf"),o=n(this),o.addClass("c_hbf")}),f.each(function(){var t=n(this);t.bind("keydown",p),t.bind("keyup",w),t.bind("blur",k)}),u.show(),h.show(),setTimeout(function(){if(u.css("top","0"),h.css("top","0"),h.css("height",u.outerHeight()+"px"),e)try{f[0].focus()}catch(n){}},0),c=function(n){if(n.type!="keydown"||n.which==27)if(st.remove(),$B.IE&&$B.V<=9)u.hide(),h.hide(),l();else{var t=u.outerHeight()*-1;u.css("top",t+"px"),h.css("top",t+"px"),setTimeout(l,250)}},v=function(t){n(t.srcElement).parents("#c_headerBar").length||c(t)},n(t).bind("keydown.header",c),n(i).bind("keydown.header",c),n(document).bind("click.header",c),n(document).bind("touchend.header",v),document.body.appendChild(ot),st.width(bt.width()).height(bt.height()),l=function(){u.hide(),h.hide(),st.remove(),f.unbind(),n(document).unbind(".header"),o&&o.removeClass("c_hbf")}},n("#c_clogoc").bind("click",function(){return o.useNewHeaderLayout?window.require?window.require(["Flyout.js"],ni):ni():i.top.$header.showAppBar(i,_ge("c_h_ttl"),kt),i.top.$HeaderWebIM&&i.top.$HeaderWebIM.setUnreadCountEl(_ge("#c_murc")),!1}),n("#c_clogoc").bind({keydown:ii,keyup:ii}),i.$header.showLoading=function(){c||(c=n($f.createLoading(0,$f.loadingType.flying,"100%","4px",0,"#fff")),c.addClass("c_h_flyingDots"),n("#c_cb0").append(c)),l++,$f.showLoading(c)},i.$header.hideLoading=function(){l--,l=l<0?0:l,c&&!l&&$f.hideLoading(c)},i.$header.getDummyHeader=function(){if(!a){a=document.createElement("ul"),a.className="c_mcp t_hdbg c_c";var n=document.createElement("li");n.style.listStyle="none",a.appendChild(n),document.body.appendChild(a)}return a},ri=function(n){if(i.$PF){var t=encodeURIComponent($PF.getCurrentUrl()),r=$f.replaceQs(k.attr("href"),"wreply",t);return $BSI.navigateTo(r,"_top"),$f.cancelEvent(n)}return!0},k.bind("click",ri),n(i).bind("unload",ct);var e=[],lt,at,vt,ui,fi,yi=function(n,t,i){this.execute=function(r){r.href=r.href.indexOf("?rru=home")>-1?r.href.replace(t,i):r.href.replace(n,i)}},di=function(n,t){this.execute=function(i){var r="://"+t,u="://"+n+t;i.href=i.href.replace(r,u)}},ei=function(n,t,i){this.execute=function(r){var u=r.href,f,s,h,e;u.indexOf(t)>-1&&u.indexOf("#")<0&&!u.match(/[\?|&|\/]cid/)&&(i?(f="."+o.d,s=f+"/"+n,t.toLowerCase()=="profile"&&u.indexOf("/home")>0&&(f+="/home"),r.href=u.replace(f,s)):(h="cid="+n,e="?",u.indexOf(e)>-1&&(e="&"),r.href=u+e+h))}},pi=function(n,t){this.execute=function(i){n&&i.href.indexOf("?rru=inbox")>-1?i.href=n:t&&i.href.indexOf("?rru=contacts")>-1&&(i.href=t)}},wi=function(n){var t,r,u;i.$theme=n.$theme,t=n._ge("themecss"),t&&(r=document.createElement("style"),document.head.appendChild(r),r.styleSheet&&t.styleSheet?r.styleSheet.cssText=t.styleSheet.cssText:(u=document.createElement("div"),u.innerHTML='&nbsp;<style type="text/css">'+t.innerHTML+"<\/style>",document.head.appendChild(u)))};i.$header.copyThemeToOuterFrame=wi,r=function(n,i,r){n&&Boolean(t[i])&&(n.bind("click",function(){var n=t[i];Boolean(r)&&(n=n+r),$BSI.reportEvent(ai,{MetroHeaderNav:n})}),ht.push(n))},i.$header.reportBSIMenu=r,oi=function(i){var u=i.getAttribute("hid");Boolean(t[u])&&r(n(i),u,"A")},rt.register("$Header.MenuBind",oi),si=function(){r(n("#c_h_theme_m_ul"),vi)},rt.register("$Header.ThemesMenuBind",si),o.Header&&(lt=o.Header.MailLink,at=o.Header.ContactsLink,vt=o.Header.HotmailDomain,fi=o.Header.OldHomeDomain,ui=o.Header.OldHotmailDomain),hi=vt,lt||at?e[e.length]=new pi(lt,at):hi&&(e[e.length]=new yi(ui,fi,vt)),p=i.$HIC&&$HIC.c,p&&p.length>0&&(e[e.length]=new ei("cid-"+p,"profile",!0),e[e.length]=new ei(p,"skydrive."));var d=[],yt=[],ci=i._ge("c_header");for(ci&&(pt=$css.getCN("c_hleft","div",ci)[0],pt&&(yt=pt.getElementsByTagName("a"))),g=yt.length-1;g>=0;g--)w=yt[g],d.push(w),r(n(w),w.id),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderLink&&sutra(w,"$Sutra.Shared.HeaderLink");for(r(n("#c_clogot"),"c_clogot"),r(n("#c_clogoc"),"c_clogoc"),r(n("#c_hiconu"),"c_hiconu"),r(n("#c_hiconm"),"c_hiconm"),r(n("#c_hiconc"),"c_hiconc"),bi=n("#c_hmc").find("a").each(function(){d.insert(0,this)}),nt=d.length-1;nt>=0;nt--)for(v=d[nt],!v.target&&(v.href.indexOf("//g.live")>-1||v.href.indexOf(o.sd)<0)&&(v.target="_top"),tt=e.length-1;tt>=0;tt--)wt=e[tt],wt&&wt.execute(v);i.$HIC&&(it="HIC",rt.register("$Header.UpdateCookie",ki))}(window.originaljQuery||jQuery),function(n){function v(r){var p=i.Themes,e=[],h,v,s;e.push('<div id="c_h_theme_m" class="c_om noresize t_hovl"><ul class="c_oblock c_ot" id="c_h_theme_m_ul" serviceurl="'),e.push(p.ThemeService.encodeHtmlAttribute()),e.push('">');var y="<\/li>",c=!0,w=r?Math.min(l,r.length):l,b=a-1;for(h=0;h<w;h++)v=h%a,v==0&&e.push('<li class="c_omti">'),s=r?r[h]:null,e.push('<a href="#" onclick="return false;" info="'),s&&e.push((s[0]+"|"+s[1]).encodeHtmlAttribute()),e.push('" class="c_thmb" title="'),s&&e.push(s[2].encodeHtmlAttribute()),e.push('">'),s||e.push('<div class="c_noimg"><\/div>'),e.push("<\/a>"),c=v==b,c&&e.push(y);c||e.push(y),e.push('<\/ul><span class="c_ms"><\/span><\/div>'),f.innerHTML=e.join(""),u=t._ge("c_h_theme_m"),sutra(u,"$Sutra.Shared.ThemesPicker"),t.$Sutra&&$Sutra.Shared&&$Sutra.Shared.ThemesThumb&&n(".c_thmb",u).each(function(){sutra(this,"$Sutra.Shared.ThemesThumb")}),r&&t.$theme.bind(u,$menu.themeAreaId),u.style.display="block",o=1}function w(n){n&&(r=0,h=0,f=null),r==0?((!o||n)&&(e=t._ge("c_theme_menu"),(e||f)&&(f=f||e.parentNode,e=null,v())),o&&($BSI.isLoading()?$BSI.addLoadedCallback(y):y(),s&&s.menu&&s.menu.update())):r==1&&t.$theme&&t.$theme.beforeMenuShow()}function y(){if(r!=1){if(r=1,$menu.themeAreaId="c_h_theme_m_ul",$menu.disableThumbs=0,!h){h=1;var f=i.handlerBaseUrl,u=t.$PF&&$PF.getAppFrameWindow();if(u)try{f=u.location.protocol+"//"+$U.getHost(u.location.href)}catch(e){}c.fetchScript(f+"/Handlers/ThemePickerJS.mvc"+i.Themes.ThemeJSParms,n.noop),c.fetchScript(i.Header.themeJsUrl,function(){$Do.register("$theme.invertTheme")})}setTimeout(b,5)}}function b(){(function n(){"undefined"==typeof t.$theme?$menu.themeCallback=n:(t.$theme.renderThemePicker=function(n){var e,t,i,r,u,f,o;if(p)for(e=n.length,window.themejs=null,t=1,u=e-1,f=t;f<n.length;f++)i=Math.floor(Math.random()*u)+t,r=Math.floor(Math.random()*u)+t,o=n[i],n[i]=n[r],n[r]=o;v(n),$Do.when("$Header.ThemesMenuBind")},$Do.register("$theme.renderThemePicker",t.$theme.renderThemePicker))})()}var t=window,i=t.$Config,c=t.$Network,u,r=-1,o=0,s=t._ge("c_hiconc"),e,f,h,p=!1,l=i.Themes.numberOfThemes,a=6;i&&i.Header&&i.Header.themeJsUrl&&(r=0),$Do.register("$ThemeMenuInit",w)}(window.originaljQuery||jQuery),function(n){function u(){function k(){n(t).unbind(".me"),e&&n(e).unbind("click",v)}function v(n){$menu.closeCurrent();var i=t.$Logout;i&&i.doLogout&&i.doLogout(n)}var u=this,f=!1,l=!1,y,p,w,o="c_memenu",b="c_meic",s="c_melinkspan",h="c_melink",c,i,a,e;n(t).bind("unload.me",k),e=_ge("c_signout"),e&&n(e).bind("click",v),u.copyAndInitializeMenu=function(r){var e,y,w,p,b;if(r=r||t.$PF&&t.$PF.getAppFrameWindow()||window,e=_ge(o),y=r._ge(o),a=r._ge(s),w=t!=r&&(!e||!e.initialized||!y.isCopied),w&&(f=!1),!f&&r.$f){if(p=_ge(s),i=e||y,w){e&&(n(e).remove(),i=y),b=_ge(h),b&&n(b).remove();var d=$header.getDummyHeader().firstChild,k=r.$f.getLocation(r._ge(s),1,1),v=document.createElement("ul"),l=document.createElement("a");v.innerHTML=i.innerHTML,v.className=i.className,v.id=i.id,v.initialized=1,y.isCopied=1,l.style.position="absolute",l.style.top=k.bottom+"px",l.style.left=($B.rtl?k.left:k.right)+"px",l.style.height=0,l.style.padding=0,l.id=h,i=v,c=l,d.appendChild(l),d.appendChild(v),t.$header.copyThemeToOuterFrame(r),n(t).bind("resize.me",function(){v.initialized=0})}else e&&p&&e.parentNode!=p.parentNode&&($css.add(e,"uxfa_m c_m t_hovl"),p.parentNode.insertBefore(e,p.nextSibling),c=_ge(h));u.init(),$Do.when("$HeaderWebIM.Initialize")}},u.openMenu=function(n){u.copyAndInitializeMenu(),f&&(i.binding?i.binding.toggleState():$menu.create(n,0,{sourceEl:c,menuEl:i,pressedStateEl:a}))},u.createMeICs=function(){var i,u,a,o,f,e,v;if(!l){l=!0;var s=t.$icm,h=r.cid,c=_ge(b);c&&(i=s.createICForPerson("MeControlMedium",h),i&&(u=n(c),u.html(i.render()),i.activate(),a=u.find("img"),a.attr("title",u.attr("title")))),o=_ge("c_memenuic"),o&&(f=s.createICForPerson("MeControlXXL",h),f&&(e=n(o),e.html(f.render()),f.activate(),v=e.find("img"),v.attr("title",e.attr("title"))))}},u.init=function(){f||(y=n("#c_memenu"),p=n("#c_memenu_right"),w=n("#c_memenu_left"),$Do.when("$ic",0,u.createMeICs),t.$header&&(t.$header.reportBSIMenu(n("#c_himla"),"c_himla"),t.$header.reportBSIMenu(n("#c_himld"),"c_himld"),t.$header.reportBSIMenu(n("#c_memenuic"),"c_memenuic"),t.$header.reportBSIMenu(n("#c_profile"),"c_profile"),t.$header.reportBSIMenu(n("#c_hli"),"c_hli"),t.$header.reportBSIMenu(n("#c_wimnetsub"),"c_wimnetsub"),t.$header.reportBSIMenu(n("#c_signout"),"c_signout")),sutra(_ge(o),"$Sutra.Shared.MeControlMenu"),sutra(_ge("c_profile"),"$Sutra.Shared.Profile"),sutra(_ge("c_hli"),"$Sutra.Shared.Account"),sutra(_ge("c_signout"),"$Sutra.Shared.SignOut"),f=!0)},$Do.when("$icm",0,u.createMeICs)}var t=window,r=t.$Config,i=_ge("c_melink");i&&(_$meLink=n(i),_$meLink.mouseover(function(){window.top.$MeControl.copyAndInitializeMenu(t)}),_$meLink.focus(function(){window.top.$MeControl.copyAndInitializeMenu(t)}),t.$header.reportBSIMenu(_$meLink,"c_melink"),sutra(i,"$Sutra.Shared.MenuLink")),t.$MeControl=new u}(window.originaljQuery||jQuery),function(n){function ft(){var n=null;if(t.XMLHttpRequest)n=new XMLHttpRequest;else if(t.ActiveXObject)try{n=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(i){}return n}function et(){var i=ft(),o=u("LanguagePicker.Client.Title"),s='<div class="loadingArea"><table class="loadingTable"><tr><td class="loadingSpinner" id="lpSpinner"><\/td><td class="lpLoading">'+u("LanguagePicker.Client.Loading")+"<\/td><\/tr><\/table><\/div>",e=wLive.Controls.Notifications,r=e.createFlyout({title:o,content:s,anchor:_ge("uxp_ftr_link_language"),buttons:{action:u("LanguagePicker.Client.Save")},options:{dismissOnButtonClick:!1,moreCss:"languagePickerFlyout"}}),f;return d=r,n(r).bind({"buttonclick.flyout":function(i,f,e){var s,o;if(e==="action"){var v=n(r.content()).find("form"),h=v[0].elements,c=h.language.value,l=h.canary.value,y=n(r.content()).find(".UserContent").html('<div class="loadingArea"><table class="loadingTable"><tr><td class="loadingSpinner" id="lpSpinner"><\/td><td class="lpLoading">'+u("LanguagePicker.Client.Saving")+"<\/td><\/tr><\/table><\/div>");n(".languagePickerFlyout button.default").hide(),t.$f&&(s=n($f.createLoading(0,$f.loadingType.spinning,"25px","25px")),n("#lpSpinner").append(s),$f.showLoading(s)),o=ft(),o&&(o.onreadystatechange=function(){if(o.readyState==4&&o.status==200)if(r.dismiss(),t.$PF)try{t.top.location=t.$PF.getCurrentUrl()}catch(f){}else{var i=o.responseText,n=t.top.location.href.toString(),u=$f.replaceQs(n,"mkt",i);try{t.top.location.href=u,n.indexOf("#")!=-1&&t.top.location.reload()}catch(f){}}else o.readyState==4&&o.status!=200&&(r.dismiss(),st(a.saving))},o.open("POST","/handlers/languagesave.mvc?canary="+encodeURIComponent(l)+"&lang="+c,!0),o.send("canary="+encodeURIComponent(l)+"&lang="+c))}},"beforedismiss.flyout":function(){n(document.body).toggleClass(nt,!1)}}),n(document.body).toggleClass(nt,!0),r.show().then(function(){}),e.getQueue().start(),t.$f&&(f=n($f.createLoading(0,$f.loadingType.spinning,"25px","25px")),n("#lpSpinner").append(f),$f.showLoading(f)),i&&(i.onreadystatechange=function(){i.readyState==4&&i.status==200?pt(i.responseText):i.readyState==4&&i.status!=200&&(r.dismiss(),st(a.loading))},i.open("GET","/handlers/languagepicker.mvc",!0),i.send()),!1}function yt(){return window.require?window.require(["Flyout.js"],et):et(),!1}function u(n){var i="";return t.GetString&&(i=t.GetString("live.shared.strings."+n)),i}function ot(){var t="",n,i;t=ut===a.loading?u("LanguagePicker.Client.Error.Loading"):u("LanguagePicker.Client.Error.Saving"),n=wLive.Controls.Notifications,i=n.createTopBar({content:t,dismissalMode:"Explicit",buttons:{action:u("LanguagePicker.Client.Close")}}),i.show(),n.getQueue().start()}function st(n){return ut=n,window.require?window.require(["NotificationBar.js"],ot):ot(),!1}function pt(t){var r=n(d.content()).find(".UserContent").html('<div><form name="langPicker" action="/handlers/languagesave.mvc" method="POST">'+t+"<\/form><\/div>"),i;n(".languagePickerFlyout button.default").show(),i=n(".Flyout.languagePickerFlyout"),i.attr("aria-labelledby","uxp_ftr_link_language"),i.attr("aria-label",u("LanguagePicker.Client.Title"))}function v(n,t,i){return(rt.style.display=t,i)?(n.returnValue=!1,!1):!0}function wt(n){return v(n,"none",!0)}function bt(n){return v(n,"",!0)}function ht(t,i){return t&&(t.id===i||ht(n(t).parent(),i))}function ct(n){return rt.style.display===""&&!ht(n.target,s.id)?v(n,"none",!1):!0}function e(){clearTimeout(w),w=setTimeout(i.adjustFooter,50)}function kt(){var t=r[n(this).attr("id")];t&&$BSI.reportEvent(tt,{FooterNav:t})}function lt(n){t.$Sutra&&$Sutra.Shared&&$Sutra.Shared.FooterLink&&sutra(n,"$Sutra.Shared.FooterLink")}var t=window,p=$Config,i=t.$footer={},w,b=_ge("uxp_ftr_control"),f=n("#m_wf"),at=n("#m_wh"),c="uxp_ftr_ff",k,vt=at.height(),d,l,g,nt="langPickerVisible",tt,r,y,o;p.wla&&$Network.fetchScript($Config.wla,function(){},"window.live.shared.strings.languagepicker","Gfx_JS_WLiveStr_Download","Gfx"),f.length||(f=n(b).parent()),tt="SelectClick.Footer.Nav",r={},r.uxp_ftr_link_legal="Terms",r.uxp_ftr_link_privacy="Privacy",r.uxp_ftr_link_developers="Dev",r.uxp_ftr_link_intl1="Intl",r.uxp_ftr_link_custom3="CoB1",r.uxp_ftr_link_custom4="CoB2",r.uxp_ftr_link_abuse="Abuse",r.uxp_ftr_link_language="Lang";var s=t._ge("uxp_ftr_control_mini"),it=t._ge("uxp_ftr_hidechevron"),rt=t._ge("uxp_ftr_control_cc"),h=t._ge("uxp_ftr_link_language"),a={loading:0,saving:1},ut=-1;i.dispose=function(){s&&(n(document).unbind("click",ct),n(s).unbind(),n(it).unbind()),n(h).unbind(),n("#uxp_ftr_control a").unbind(".ftr"),n(t).unbind("unload",i.dispose),n(t).unbind("resize",e),n(document).unbind(".footerResize")},i.pageContentDiv=_ge("c_content")||_ge("BelowHeader"),i.pageContentDiv||(i.pageContentDiv=f.prev(".MainLayoutIndented")[0]),i.adjustFooter=function(){var r=i.pageContentDiv,u,t,e;b&&r&&(u=$f.clientHeight(),t=r.scrollHeight,l&&l==u&&g==t||(l=u,g=t,k=f.outerHeight(),n(i).trigger("beforeResize"),t=r.scrollHeight,e=t+vt,f.hasClass(c)&&(e+=k),e<$f.docHeight(!0)?f.addClass(c):f.removeClass(c),n(i).trigger("afterResize")))},s&&(n(document).bind("click",ct),n(s).bind("click",bt),n(it).bind("click",wt)),n("#uxp_ftr_control a").each(function(){var t=this;n(t).bind("click.ftr",kt),lt(t)}),y=_ge("uxp_ftr_link_mobile"),y&&n(y).bind("click",function(){try{$Cookie.setCookie($Config.bpcc,"false",$Config.sd),window.open($Config.fml,"_top")}catch(n){}}),lt(_ge("uxp_ftr_link_trademark")),p.ff&&(f.css("padding-top",0),n(t).bind("resize",e),n(document).bind({"keydown.footerResize":e,"mousedown.footerResize":e,"mousewheel.footerResize":e,"DOMMouseScroll.footerResize":e}),i.adjustFooter()),$Config.LP&&$Config.LP.bypassLanguageFlyout||h&&(o=n(h),o.attr("aria-haspopup","true"),o.attr("aria-label",u("LanguagePicker.Client.LanguageLinkAriaLabel")),o.attr("tabindex","0"),o.attr("role","button"),h.href="",o.bind("click",yt)),n(t).bind("unload",i.dispose)}(window.originaljQuery||jQuery),function(n){function v(){if(r.length){if(f=n(u.$footer),l=n("#uxp_ftr_control"),s=_ge("c_base"),n(u).bind("unload.leftNav",y),n(".c_n .c_gl").bind("click",p),h)i=n("#"+h);else{var c=n(".c_n .active > a");i=c.length?c:n(".c_n .active > .link")}i&&(t=i.hasClass("c_gl")?i.siblings("ul"):n(i.parents("ul")[0]),o.AutoExpand&&t.show(),i.parent().addClass("active"),i.parents("ul").show()),o.FullHeight&&(f.bind("beforeResize.leftNav",w),f.bind("afterResize.leftNav",b),e.adjustHeight()),r.find("a").bind("dragstart.ln",$f.cancelEvent)}}function y(){n(u).unbind(".leftNav"),n(f).unbind(".leftNav"),n(".c_n .c_gl").unbind(),r.find("a").unbind(".ln")}function p(){var r=n(this),i;r.attr("href")||(i=r.siblings("ul"),t||(t=i),t[0]==i[0]?t.toggle():(t.hide(),i.show(),t=i))}function w(){r.css("height","auto")}function b(){clearTimeout(c),c=setTimeout(e.adjustHeight,100)}var u=window,e=u.$leftNav={},o=$Config.LeftNav||{},h=o.ActiveLinkId,c,r=n("#c_ln"),s,f,l,a=parseInt(r.css("padding-top")),t,i;e.adjustHeight=function(){if(s&&r.length){var n=s.scrollHeight-l.height()-a;r.css("height",n+"px")}},v()}(window.originaljQuery||jQuery),function(n){var t=window,i=0,r=6;t.CollapsingMenu=function(t,u,f,e,o,s,h,c){function k(){var t,i,n;return h?t=h():(n=a?s.previousSibling:s,n&&(i=$B.ltr?f.parentNode.offsetWidth+v(f.parentNode)<n.offsetWidth+v(n)+o+20:v(f.parentNode)>v(n)-(o+20),t=f.childNodes.length>b&&i||it.offsetTop<n.offsetTop-n.offsetHeight)),t}function v(n){for(var t=n.offsetLeft;n.nodeName.toLowerCase()!="body"&&n.nodeName.toLowerCase()!="html";)if(n=n.offsetParent,n)t+=n.offsetLeft;else break;return t}function w(){var t=!1,n=f.lastChild.previousSibling;return n&&(d(n,!0),l.insertBefore(n,l.firstChild),t=!0),t}function d(t,u){var f=n(t),s=f.find("a.c_ml")[0],e=s&&s.menu,o,h;f.hasClass("c_sm")?u?(e&&e.deactivate(),f.children("a").hide(),f.children("ul").css("visibility",""),f.find("ul li:last-child").append('<span class="c_ms"> <\/span>')):(e&&e.activate(),f.children("a").css("display",""),f.find("ul li:last-child .c_ms").remove()):f.children(".c_m").length>0&&(o=f.find("span.c_chev"),o.length&&(h=u?tt:nt,o[0].innerHTML=" "+h),e&&(u?e.convertToSubMenu(r):e.convertFromSubMenu(i)))}var y=this,p=t,b=u,g=c?$menu.chevronTypes.SmallDownLight:$menu.chevronTypes.SmallDownDark,nt=$menu.createChevron(g,!0),tt=$B.rtl&&$B.IE_M6?$menu.createChevron($menu.chevronTypes.SmallLeftDark,!0):$menu.createChevron($menu.chevronTypes.SmallRightDark,!0),l=f.lastChild.childNodes[1],it=f.firstChild,a=!1;s||(s=l.parentNode,a=!0),y.updateMaxItems=function(n){p=n},y.updateMinItems=function(n){b=n},y.redraw=function(t,i){var h=$css.getCN("c_collRem","a",l)[0],u,r,o,c,v;for(h&&(u=h.parentNode,u.parentNode.removeChild(u)),r=f.childNodes.length-1;r<p&&l.childNodes.length!=0;)d(l.firstChild,!1),f.insertBefore(l.firstChild,f.lastChild),r++;while(r>p)w(),r--;for(l.parentNode.style.display=e;!i&&k();)if(!w())break;o=n(l),o.show(),c=o.children(),c.filter(":visible").length===0?l.parentNode.style.display="none":(v=a,l.parentNode.style.display=e,s=l.parentNode,a=!1,k()&&w(),a=v),l.binding&&l.binding.update()}}}(window.originaljQuery||jQuery),function(n){function u(){}function i(t,i){var r=this;r._id=u._getItemId(),r.$obj=n(t).first(),r._isDisposed=!1,i?(r._$a=r.$obj.children("a").first(),r._$a.length==0?r._$a=null:r.id=r._$a.attr("id"),sutra(r._$a,"$Sutra.Shared.NavLink",!0),r._$span=r.$obj.children("span:not(.is_c)").first(),r._$span.length==0&&(r._$span=null),r._$imageStrip=r.$obj.children("span.is_c").first(),r._$imageStrip.length==0&&(r._$imageStrip=null),r._$sep=r.$obj.children("span.c_ms").first(),r._$sep.length==0&&(r._$sep=null),r._$rchev=r.$obj.children("span.c_rchev").first(),r._$rchev.length==0&&(r._$rchev=null)):s(r,!1)}function r(t){t._$a&&t._$a.length!=0||(t._$a=n("<a><\/a>"),sutra(t._$a,"$Sutra.Shared.NavLink",!0),t.$obj.append(t._$a),t._isDisposed=!1)}function s(n,t){t&&(n.$obj=null),n._$a=null,n._$span=null,n._$sep=null,n._$rchev=null,n._$imageStrip=null}var f=window,e=f.wLive.Controls,o=f.$edh,h=0,t;e.NavItem=u,u._getItemId=function(){return"c_ci"+h++},e.NavLink=i,t=i.prototype,t.setHtml=function(n){var t=this;return r(t),t._$a.html(n),sutra(t._$a,"$Sutra.Shared.NavLink",!0),t._$span&&(t._$a.detach(),t._$span.html(n),t._$span.append(t._$a)),t},t.setUrl=function(n){return this.setProperty("href",n)},t.setId=function(n){var t=this;return t.id=n,t.setProperty("id",n)},t.setProperty=function(n,t){var i=this;return r(i),i._$a.attr(n,t),i},t.enable=function(){var n=this;return n._$span&&(o.e(n._$span[0]),n._$a=n.$obj.find("a").first(),sutra(n._$a,"$Sutra.Shared.NavLink",!0),n._$span=null),n},t.disable=function(){var n=this;return n._$a&&(o.d(n._$a[0]),n._$span=n.$obj.find("span").first()),n},t.removeClick=function(){var n=this;return n._aclickHandler&&n._$a&&n._$a.unbind("click",n._aclickHandler),n},t.addClick=function(n,t){var i=this;return r(i),i.removeClick(),t||i.setUrl("#"),i._aclickHandler=function(t){var i;try{i=n(t)}catch(r){return $WebWatson.submitFromException(r),!1}return i},i._$a.click(i._aclickHandler),i},t.addMousedown=function(n){var t=this;return r(t),t._$a.mousedown(n),t},t.addSeparator=function(){var t=this;return t._$sep||(t._$sep=n('<span class="c_ms" role="presentation"><\/span>'),t.$obj.append(t._$sep)),t._$sep.css("display",""),t},t.removeSeparator=function(){var n=this;return n._$sep&&n._$sep.hide(),n},t.addRChev=function(){var t=this;return t._$rchev||(t._$rchev=n('<span class="c_rchev"><\/span>'),t.$obj.append(t._$rchev),t._$rchev.html($menu.createChevron($menu.chevronTypes.SmallRightDark,!0))),t._$rchev.show(),t},t.removeRChev=function(){var n=this;return n._$rchev&&n._$rchev.hide(),n},t.addImageStrip=function(t,i){var r=this;return r._$imageStrip||(r._$imageStrip=n(t),i?r._$a.append(r._$imageStrip):(r._$imageStrip.append(" "),r._$a.prepend(r._$imageStrip))),r},t.dispose=function(){var n=this;n._isDisposed||(n.removeClick(),s(n,!0),n._isDisposed=!0)},i.defaultOptions={html:"",separator:!1,url:"#",id:"",click:null,mousedown:null,container:"<li><\/li>",imageStrip:null},i.create=function(t){var r=n.extend({},i.defaultOptions,t),u=new i(r.container);return u.setHtml(r.html),u.setUrl(r.url),u.setId(r.id),r.separator&&u.addSeparator(),r.click&&u.addClick(r.click,r.url),r.mousedown&&u.addMousedown(r.mousedown),r.imageStrip&&u.addImageStrip(r.imageStrip),u}}(window.originaljQuery||jQuery),function(n){function ct(){var n=this;n._isItemsHashDirty=!0,n._itemsHashTable={},n._list=[],n.list=[]}function u(t,r,u,f,e){function p(n){o._menu||(r?o._menu=o._$ul[0].binding:(f.defaultLoc=st,$menu.create(n,ht,f)&&(o._menu=o._$ul[0].binding)))}var o=this,s,y,h,c,l,v;o._id=i.NavItem._getItemId(),s=new i.MenuDataModel,o._items=[],o.$obj=n(t).first(),f=f||{},r||(y=$Config.isLightTheme?$menu.chevronTypes.SmallDownDark:$menu.chevronTypes.SmallDownLight,h=$menu.createChevron(y,!0),e?(c='<span class="c_mlu">'+h+"  &nbsp;<\/span>",l=""):(c='<span class="c_mlu"><\/span>',l='<span class="c_chev"> '+h+"<\/span>"),v='<a href="#" class="uxfa_ml c_ml" onclick="return false">'+c+l+'<\/a><ul class="uxfa_m '+b+' t_hovl"><\/ul>',u?o.$obj.append(v):o.$obj.html(v)),o._$a=o.$obj.children("a.c_ml").first(),o._navLink=new a(o.$obj,!0),o._$mspan=o._$a.children("span.c_mlu").first(),o._$chev=o._$a.children("span.c_chev").first(),o._$ul=o.$obj.children("ul"),o._$ul.length==0&&(o._$ul=n('<ul class="uxfa_m '+b+' t_hovl"><\/ul>'),o.$obj.append(o._$ul)),o.id=o._$ul.attr("id"),o._menu=o._$ul[0].binding,tt(o),s._list=o._items,o._$a.bind("click.menu",function(n){n.preventDefault(),p(n)}),o._$a.bind("mousedown.menu",p),sutra(o._$a,"$Sutra.Shared.MenuLink",!0),sutra(o._$ul,"$Sutra.Shared.MenuList",!0),o._dataModel=s,d(o,s._list),s.list=new ObservableArray(s._list)}function lt(){var n=this;n.menu={}}function f(t,r,f){var e=this;e._id=i.NavItem._getItemId(),e._dataModel=new i.SplitMenuDataModel,e.$obj=n(t).first(),e._$a=new a(e.$obj,r),r?e._$sep=e.$obj.children(".c_ms"):(e._$a.setHtml("&nbsp;"),e._$sep=n('<span class="c_ms"> <\/span>'),e.$obj.append(e._$sep),e.$obj.addClass(v+" "+l)),e._$menu=new u(e.$obj,r,!0,{dockEl:e.$obj.get()[0]},f),e._dataModel.menu=e._$menu}function k(t){var i=this;i._isItemsHashDirty=!0,i._itemsHashTable={},i._logo=t&&t.logo||{containerWidth:"220px",imageStrip:"",text:"",title:"",url:"",hasPropertyText:!1},i._list=[],i.isLightTheme=t&&t.isLightTheme,i.getIndexById=function(n){var t,r,u;if(i._isItemsHashDirty)for(t=0;t<i._list.length;t++)r=i._list[t]._id,u=i._list[t].id,i._itemsHashTable[r]=t,i._itemsHashTable[u]=t;return i._itemsHashTable[n]},i.getItemById=function(n){var t=i.getIndexById(n);return i._list[t]},i.getItemByIndex=function(n){return this._list[n]},i._dispose=function(){n(i.logo).unbind(),n([i.list]).unbind(),n(i.list).unbind()}}function s(t,r,u){var f=this,e;f._id=i.NavItem._getItemId(),f._needsToRender=!1,f.$obj=n(t),e=new i.CommandBarDataModel(u),sutra(f.$obj,"$Sutra.Shared.CommandBarControl",!0),f._items=[],r||f.$obj.html('<div class="c_clogo"><a href="#"><h1><span class="c_clogoimg"><\/span><span class="c_clogot"><\/span><\/h1><\/a><\/div><ul class="c_cc"><\/ul><div class="c_cme">><\/div>'),f._$logo=f.$obj.children(".c_clogo"),f._$logoImage=f._$logo.find(".c_clogoimg"),f._$logoText=f._$logo.find("span.c_clogot"),f._$logoLink=f._$logo.find("a"),f._$ul=f.$obj.children("ul"),sutra(f._$ul,"$Sutra.Shared.CommandBar",!0),f._$logoImage.length==0&&(f._$logoImage=n('<span class="c_clogoimg"><\/span>'),f._$logoText.parent().prepend(f._$logoImage)),tt(f,"$Sutra.Shared.CommandItem"),e._list=f._items,e._logo.imageStrip=f._$logoImage.html(),f._dataModel=e,h(f._$logoText,e._logo,"text","innerHTML"),h(f._$logoText,e._logo,"hasPropertyText",vt,"function"),h(f._$logoLink,e._logo,"url","href"),h(f._$logoLink,e._logo,"title","title"),h(f._$logoImage,e._logo,"imageStrip",yt,"function"),h(f._$logo,e._logo,"containerWidth",$B.IE_M6?"width":"min-width","style"),d(f,e._list),e.logo=new Observable(e._logo),e.list=new ObservableArray(e._list)}function vt(n,t){t?n.hide():n.show()}function yt(n,t){n.empty(),n.append(t)}function h(t,i,r,u,f){n(i).bind("propertyChanged",function(n,i,e){r==i&&(f=="style"?t.css(u,e):f=="function"?u(t,e):t.attr(u,e))})}function d(t,i){n([i]).bind("arrayChange",function(i,r,u,f){t._needsToRender||n(t).trigger("beforeRender"),clearTimeout(t._renderTimeout),t._needsToRender=!0,t._renderTimeout=setTimeout(function(){t._needsToRender&&t.render&&t.render()},500),r=="insert"?t.add(f,u):r=="remove"&&t.remove(u,!0,f)})}function g(){p||(p=setTimeout(pt,0))}function pt(){var t,n;for(p=0,t=c.length,n=0;n<t;n++)c[n]();c.splice(0,t)}function nt(n){c.push(n)}function tt(t,i){var r=t._$ul.children("li");r.each(function(){var r=n(this);r.hasClass(v)?t._items.push(new f(r,!0)):r.hasClass(l)?r.hasClass(ot)||t._items.push(new u(r,!0)):t._items.push(new a(r,!0)),i&&sutra(this,i,!0)})}function wt(n){for(var i=n._items,t=0;t<i.length;t++)n._$ul.append(i[t].$obj)}function it(t,i,r){r||r==0||(r=t._items.length),nt(function(){var f,e,u,s,o;i.$obj&&(f=t._$ul.children(),e=f[r],f.length!=0&&e?n(e).before(i.$obj):t._$ul.append(i.$obj),u=i._$a,u.attr("role")||u.attr("role","button"),s=i._$ul,s&&(u.attr("aria-expanded","false"),u.attr("aria-haspopup","true")),o=i.$obj.css("display"),(o=="list-item"||o=="block"&&$B.IE_M7)&&i.$obj.css("display",""),i.$obj.hasClass(l)&&!i.$obj.hasClass(v)&&wt(i))}),t._items.splice(r,0,i),t._dataModel&&(t._dataModel._isItemsHashDirty=!0),g()}function rt(n,t,i){t&&!t._isDisposed&&(t.$obj&&(t.$obj.remove(),n._dataModel&&(n._dataModel.isItemsHashDirty=!0),n._$ul=n.$obj.children("ul")),i&&t.dispose())}function ut(n,t,i){var r=n._items.splice(t,1)[0];return r._isDisposed||(nt(function(){rt(n,r,i)}),g()),r}function ft(n){var i=n._items,t;if(i)for(t=0;t<i.length;t++)i[t].dispose();return n._items=[],n._$ul&&n._$ul.html(""),n}var e,w,t,o,at,r,y,c,p;window.ObservableArray=function(n){this.array=n},e=ObservableArray.prototype,e.insert=function(t,i){var r=this;t>=0&&t<=r.array.length&&n([r.array]).triggerHandler("arrayChange",["insert",t,i])},e.push=function(n){var t=this;t.insert(t.array.length,n)},e.remove=function(t){var i=this,r;t>=0&&t<i.array.length&&(r=i.array[t],n([i.array]).triggerHandler("arrayChange",["remove",t,r]))},e.clear=function(){for(var n=this;n.array.length;)n.remove(n.array.length-1)},e.length=function(){return this.array.length},window.Observable=function(n){this.obj=n},w=Observable.prototype,w.setProperty=function(t,i){var r=this,u=r.obj[t];i!=u&&(r.obj[t]=i,n(r.obj).trigger("propertyChanged",[t,i,u]))};var et=window,i=et.wLive.Controls,a=i.NavLink,b="c_m",v="c_sm",ot="c_cmore",l="c_mcp",st=0,ht=6;i.MenuDataModel=ct,i.Menu=u,t=u.prototype,t.makeSubMenu=function(){var n=this,t=$menu.chevronTypes.SmallRightDark;return $B.rtl&&(t=$menu.chevronTypes.SmallLeftDark),n._$chev.html(" "+$menu.createChevron(t,!0)),n},t.setHtml=function(n){var t=this;return t._$mspan.html(n),t},t.setId=function(n){var t=this;return t._$ul.attr("id",n),t.id=n,t},t.getDataModel=function(){return this._dataModel},t.getMenu=function(){return this._menu},t.getLink=function(){return this._navLink},t.add=t.push=function(t,i,r){var u=this;return it(u,t,i),r||t._$a.hasClass("c_ml")||n(t._$a).bind("click",$menu.closeAll),u._menu&&u._menu.update(),u},t.remove=function(t,i,r){var u=this,f=ut(u,t,i,r);return n(f._$a).unbind("onclick",$menu.closeAll),u._menu&&u._menu.update(),f},t.clear=function(){var n=this;return ft(n),n._menu&&n._menu.update(),n},t.dispose=function(){var n=this;n._$a.unbind(".menu"),n.clear(),n._menu&&n._menu.dispose()},u.defaultOptions={html:"",id:"",subMenu:!1,container:'<li class="'+l+'"><\/li>',menuParams:null,linkId:""},u.create=function(t){var i=n.extend({},u.defaultOptions,t),r=new u(i.container);return r.setHtml(i.html),r.setId(i.id),r._$a.attr("id",i.linkId),i.subMenu&&r.makeSubMenu(),r},i.SplitMenuDataModel=lt,i.SplitMenu=f,o=f.prototype,o.getDataModel=function(){return this._dataModel},o.dispose=function(){var n=this;n._$menu&&n._$menu.dispose()},o.setProperty=function(n,t){var i=this;return i.$obj.attr(n,t),i},o.getMenu=function(){return this._$menu},o.getLink=function(){return this._$a},f.defaultOptions={id:"",linkId:"",container:"<li><\/li>",useChevronAsText:!0},f.create=function(t){var i=n.extend({},f.defaultOptions,t),r=new f(i.container,!1,i.useChevronAsText);return r.setProperty("id",i.id),r._$a.setId(i.linkId),r},i.CommandBarDataModel=k,at=k.prototype,i.CommandBar=s,r=s.prototype,r.add=r.push=function(n,t){var i=this;return sutra(n.$obj,"$Sutra.Shared.CommandItem",!0),it(i,n,t),i},r.remove=function(n,t,i){return ut(this,n,t,i)},r.addLightHover=function(){this.$obj.addClass("c_clih");var n=this.$obj.parent();n.hasClass("c_hcnlto")&&(n.removeClass("c_hcnlto"),y=!0)},r.removeLightHover=function(){y?(this.$obj.parent().addClass("c_hcnlto"),y=!1):this.$obj.removeClass("c_clih")},s.defaultOptions={container:'<div class="c_c c_cbb c_ccptc"><\/div>'},s.create=function(t){var i=n.extend({},s.defaultOptions,t);return new s(i.container)},r.render=function(){var t=this;clearTimeout(t._renderTimeout),n(t).trigger("afterRender"),t._needsToRender=!1},r.getDataModel=function(){var n=this;return n._dataModel},r.dispose=function(){for(var n=this,t=0,i=n._items.length;t<i;t++)rt(n,n._items[t],!0);n._dataModel._dispose()},r.get=t.get=function(n){return this._items[n]},r.count=t.count=function(){return this._items.length},r.clear=function(){var n=this;return ft(n),n},c=[]}(window.originaljQuery||jQuery),function(n){function d(){clearTimeout(k),k=setTimeout(st,100)}function st(){s=0,n(t).trigger(f)}function g(){var i=ut-n("#c_cb0 .c_cme").outerWidth();n("#c_cb0 .c_cc").css("padding-"+y,i+"px"),n(t).trigger("resize")}function ht(){n("#c_cb0 .c_cc").css("padding-"+y,0),n(t).trigger("resize")}function nt(){var y,s,p,k,v,nt;for($Do.when("$WLXIM.SidebarCreated",0,function(){$WLXIM.isSidebarOpened()&&g(),n($WLXIM.sidebar).bind("onSidebarOpenedEvent",g),n($WLXIM.sidebar).bind("onSidebarClosedEvent",ht)}),y=$css.getCN("c_c","div",document),s=0;s<y.length;s++){var u=y[s],h=n(u),c=h.children(".c_cc")[0],e=r.getInstanceById(u.id);h.hasClass("c_ncolapse")||(p=e&&!e.getDataModel().isLightTheme,k=$B.IE_M6?"block":$B.IE_M7?"inline":"inline-block",u.collapse=new CollapsingMenu(u.m,u.i,c,k,14,0,at(u.id),p),u.r&&u.collapse.redraw(),u.DisableCommand=function(n){var t=u.getElementsByTagName("a")[n];l.d(t)},u.EnableCommand=function(n){var t=u.getElementsByTagName("a")[n].parentNode;l.e(t)},u.dispose=function(){i.unbind("unload",u.dispose)},u.updateMaxItems=function(n){u.collapse.updateMaxItems(n)},u.updateMinItems=function(n){u.collapse.updateMinItems(n)},v=window.$Config,v&&v.CommandBar&&v.CommandBar.resize&&(i.bind(f,u.collapse.redraw),e&&(w=n("#c_cb0 h1"),b=n("#c_clogoc"),et=b.siblings(".c_ms"),_$emptyLogoLink=n("#c_cb0.c_cle a.c_clogot"),ct(h),_$emptyLogoLink.length&&(_$emptyLogoLink.unbind(),_$emptyLogoLink.bind("click",function(){return!1})),n(e).bind("beforeRender",function(n){c.style.overflow=rt,u.collapse.redraw(n,!0)}),n(e).bind("afterRender",function(){u.collapse.redraw(),u.style.overflow=o,c.style.overflow=o}),e.updateMaxItems=u.updateMaxItems,e.updateMinItems=u.updateMinItems,nt=n("#c_cb0 h1 .c_clogot"),w.bind("keydown",lt)),i.bind(a,d),u.dispose=function(){if(i.unbind(a,d),i.unbind(f,u.collapse.redraw),e&&(n("a",h).unbind(),n(e).unbind(),n("#c_clogoc").unbind(),e.dispose(),t.$WLXIM&&$WLXIM.sidebar))try{n($WLXIM.sidebar).unbind()}catch(r){}i.unbind("resize.cb"),i.unbind("unload",u.dispose)},e&&e.render()),i.bind("unload",u.dispose)),c.style.overflow=o}$Do.register("WLXCommandBar")}function ct(n){n.delegate("a",{"mousedown.cb":tt,"focus.cb":tt,"blur.cb":c,"mouseup.cb":c,"mouseleave.cb":c,"dragstart.cb":$f.cancelEvent})}function lt(n){it=n.shiftKey}function tt(){$B.IE&&$B.V<=8&&(this.hideFocus=!0),n(this).addClass(v)}function c(){n(this).removeClass(v)}function at(t){return function(){var r="#"+t,e=n(r),u,i;if(e.length){if(i=s,!i){var o=n(r+" .c_cme"),h=o.outerWidth(),f=n(r+" .c_clogo").outerWidth();f>ft&&(i=n(r).outerWidth()-f-h)}i>0&&(s=i,u=n(r+" .c_cc").outerWidth()>i)}return u}}var t=window,l=t.$edh,i=n(t),u={},it,a="resize",f="wlResize",e="c_cb0",v="c_cf",rt="hidden",o="visible",ut=300,ft=50,y=$B.rtl?"left":"right",p=_ge(e),r={},w,b,et,s,h,ot,k;p?r=t.$CommandBar=u[e]=new wLive.Controls.CommandBar("#"+e,!0,p.dataModel):t.$CommandBar=r,r.showOptionsMenu=function(r,u){var s=_ge("c_copt"),c=u._ge("c_copt"),f=s||c,a=u._ge("c_hiconc"),v,y,w;if(t!=u&&(!s||!c.isCopied||!h)){s&&(n(s).remove(),f=c);var p=$header.getDummyHeader().firstChild,l=u.$f.getLocation(a,1,1),o=document.createElement("ul"),e=document.createElement("a");o.innerHTML=f.innerHTML.replace(/window\./g,"_ge($PF.fid).contentWindow."),o.className=f.className,o.id=f.id,c.isCopied=1,h=1,e.style.position="absolute",e.style.top=l.bottom+"px",e.style.left=($B.rtl?l.left:l.right)+"px",e.style.height=0,e.style.padding=0,f=o,v=e,p.appendChild(e),p.appendChild(o),t.$Config.Themes=u.$Config.Themes,y=1,t.$header.copyThemeToOuterFrame(u),i.bind("resize.cb",function(){h=0}),t.$header.reportBSIMenu(n("#c_cof"),"c_cof"),t.$header.reportBSIMenu(n("#c_coh"),"c_coh")}f.binding?f.binding.toggleState():(w=a.parentNode,$menu.create(r,1,{sourceEl:v,menuEl:f,pressedStateEl:w,bindEnterKey:!0})),($Config.Themes.ThemeService||t.$themewritecallback)&&$Do.when("$ThemeMenuInit",0,y)},r.getInstanceById=function(n){if(!u[n]){var t=_ge("#"+n);t&&(u[n]=new wLive.Controls.CommandBar("#"+n,!0,t.dataModel))}return u[n]},r.invalidateOptionsMenu=function(n){var t=n._ge("c_copt");t.isCopied=!1},ot={},r.init=nt,$Do.when("$CommandBarDomReady",0,function(){$Do.when("$WLiveLoaded",0,function(){setTimeout(nt,0)})})}(window.originaljQuery||jQuery),function(){function t(n){function f(n){for(var r=0,u=t.length-1,i=null,f=null;r<=u;)if(i=Math.floor((r+u)/2),f=t[i].key.substring(0,n.length),n>f)r=i+1;else if(n<f)u=i-1;else return i;return null}var i=this,t=[],r=n,u=!1;i.remove=function(n){t.remove(n)},i.insert=function(n,i){var r={key:n,datum:i};return t.push(r),u=!1,r},i.sort=function(){u||t.sort(function(n,t){var i=n.key,r=t.key;return i>r?1:r>i?-1:0}),u=!0},i.matchPrefix=function(n,u){var l=null,o=null,s=null,e=null,v=null,y=null,h,p,a,c;if(i.sort(),l=f(n),l==null)return[];for(o=l;o>0;o--)if(!t[o-1].key.startsWith(n))break;for(s=l+1;s<t.length;s++)if(!t[s].key.startsWith(n))break;for(e=new Array(s-o),h=0;h<e.length;h++)a=t[o+h],p=u?{key:a.key,datum:a.datum}:a.datum,e[h]=p;if(r){for(e.sort(r),v=[y=e[0]],c=0;c<e.length;c++)r(y,e[c])&&v.push(y=e[c]);return v}return e}}var n=window;n.$Trie=t}(),function(){function i(){function u(n,t){r||(r=1,$BSI.navigateTo(n,t))}function f(n,t){var r=this,i=[];r.pause=function(n){i.push(n)},r.resume=function(r){i.remove(r),i.length==0&&u(n,t)}}var i=this,n=[],r;i.add=function(t){n.push(t)},i.remove=function(t){n.remove(t)},i.doLogout=function(i){var o,h=0,a=n.length,e,s,c,l;if(r=0,!i.shiftKey&&!i.ctrlKey&&!i.altKey)for(e=i.target;e;){if(e.tagName=="A"){s=e.href,s&&(c=e.target,$f.cancelEvent(i),o=new f(s,c),setTimeout(function(){u(s,c)},1e3));break}e=e.parentNode}for(l="$logout",o.pause(l);h<a;h++)try{n[h](o)}catch(v){t.submitFromException(v)}o.resume(l)}}var n=window,t=n.$WebWatson,r=n.$Logout=new i}(),function(n){function y(){$Config.WebIM?$Do.when("wlxim",0,p):$BSI.isLoading()?($BSI.addLoadedCallback(e),o=1):e(),n(r).bind("beforeunload",i.dispose)}function p(){u=window.$WLXIM,n(u).bind("stateChange",s),s(),f=1}function l(){n(u).unbind("stateChange",s),f=0}function s(){u.hasContacts()&&e()}function e(){var n=h.DelayMs||0;setTimeout(w,n),f&&l()}function w(){if(!c){var n=h.View;c=1,n&&(t=document.createElement("iframe"),t.id=a,t.width=t.height=0,t.style.display="none",t.src="/handlers/resourcespreload.mvc?bicild=&view="+n,document.body.appendChild(t))}}var r=window,i=r.$Preload={},u,a="preload_frame",v=r.$Config,h=v.Preload||{},t,c=0,f=0,o=0;i.dispose=function(){if(i.pause(),f?l():o&&($BSI.removeLoadedCallback(e),o=0),n(r).unbind("beforeunload",i.dispose),t){try{var u=t.contentWindow;u.onunload&&(u.onunload(),u.onunload=null)}catch(s){}t.parentNode.removeChild(t),t=0}},i.resume=function(n){if(t)try{t.contentWindow.$Preload.resume(n)}catch(i){}},i.pause=function(){if(t)try{t.contentWindow.$Preload.pause()}catch(n){}},y()}(window.originaljQuery||jQuery),function(){window.$CSIPerf.lapse.push({s:"sjs",t:(new Date).getTime()})}(),function(n){function b(){$Do.when("$PF.attach",0,f.dispose),o.fs&&$BSI.addLoadedCallback(nt),v.hasClass(y)&&(r=i.height(),u.css({top:r+"px"}),$B.IE_M7&&(u.height($f.docHeight()-r),n(t).bind("resize",k))),n(document).bind("mousedown",g),$f.getDocType().indexOf("Strict")>0&&n(document.body).addClass("strict")}function k(){clearTimeout(l),l=setTimeout(d,w)}function d(){u.height($f.docHeight(!0)-(a?r:0))}function g(t){var i=t.target;for(e&&s(t,e);i;){if(p.contains(i.tagName)){e=i,$css.addHideBorder(t,i),i.tagName=="A"&&$css.addPressedState(t,i),n(i).bind("blur",s);break}i=i.parentNode}}function s(t,i){i=i||this,$css.removeHideBorder(t,i),$css.removePressedState(t,i),n(i).unbind("blur",s),e=null}function nt(){$Network.fetchCSS(o.fs,tt,undefined,"Gfx_Css_WlxFonts_Download","Gfx")}function tt(){var n=new Date;n.setDate((new Date).getDate()+1),$Cookie.setCookie("wlfonts","1",o.sd,"/",n)}var t=window,f=t.$baseMaster={},h,o=$Config,v=n("html"),i=n("#m_wh"),c=n("#c_cb0"),u=n("#c_base"),r,e,l,a=!0,y="fh",p=["A","INPUT","LABEL","BUTTON","TEXTAREA"],w=20;f.getHeaderHeight=function(){return r},f.toggleFixedHeader=function(f){a=!!f,i.show(),f?($B.IE&&$B.V<=8&&i.show(),i.css({top:"0"}),c.removeClass("c_h_hidden"),u.css({top:r+"px"}),t.$WLXIM&&$WLXIM.setSidebarToFullScreen(!1),n("a",i).attr("tabindex","")):($B.IE&&$B.V<=8&&i.hide(),u.css({top:"0"}),i.css({top:"-"+r+"px"}),c.addClass("c_h_hidden"),t.$WLXIM&&$WLXIM.setSidebarToFullScreen(!0),n("a",i).attr("tabindex","-1"))},f.dispose=function(){if(!h){var i=t.$Static,r=t.$Preload,u=t.$WLXIM,f=t.$WLXIMCL,e=t.$footer,o=t.$HeaderWebIM;i&&i.pause(1),r&&r.dispose(),u&&u.pause(),f&&f.dispose(),e&&e.dispose(),o&&o.dispose(),n(document.body).parent().removeClass("fh"),h=1}},b()}(window.originaljQuery||jQuery),function(n){function v(n){var e,r,i,u,f;try{e=_ge(t.fid).contentWindow.document.domain}catch(o){return}return r="",i=n.pfState,r=i?i.indexOf("#")==0?[t.afu,i].join(""):i:t.afu,u=t.getNormalizedUrl(r,null),setTimeout(function(){t.navigateTo(u)},1),u!=r&&(f=t.getRelativeUrl(u)),f}function y(i){t.i||(n(t).bind(u,i),e++)}function p(i){var u=this;t.i||n(t).bind(r,function(){i.call(u)})}function w(i){t.i||n(t).unbind(r,i)}function b(){i||(i=n("#"+t.lid),i.html('<div style="top:45%;width:100%;position:absolute;text-align:center">'+$f.createLoading(1,0,"60px")+"<\/div>"),f=i.find(".c_loadingDots")),i.show(),$f.showLoading(f),n("#"+t.did).hide()}function l(n){var i=n.document.getElementsByTagName("link"),t;if(i)for(t=0;t<i.length;t++)if(i[t].getAttribute("rel").indexOf("icon")>-1)return i[t];return undefined}var o=window,r="Merge",u="PreMerge",t=o.$PF,i,f,s,e=0,h=0,c,a=2e3;t&&t.f&&(t.i||($Do.when("$History.attachPF",0,v,!0),t.m&&n("form").submit(function(){var i=n(this);return i.attr("target")||(i.attr("target",t.fid),$Do.when("$PF.merge")),!0})),t.preMerge=function(i){if(t.merged){t.navigateTo(i);return}e>0?(c=i,n(t).trigger(u)):t.mergeAndNavigate(i)},t.allowMerge=function(){h++,h>=e&&t.mergeAndNavigate(c)},t.merge=function(){t.merged||(t.merged=!0,n(t).trigger(r),n(t).unbind(r),n(t).unbind(u),n("body").css("cssText",t.hbs),n("html").css("cssText",t.hhs),n("#"+t.did).show().add("[persist]").parentsUntil("body").andSelf().attr("persist",1).siblings().filter(":not([persist])").hide())},t.showLoading=function(){t.lid&&(s=setTimeout(b,a))},t.hideLoading=function(){t.lid&&(clearTimeout(s),n("#"+t.did).show(),i&&(i.hide(),$f.hideLoading(f)))},t.updateFavicon=function(n,t){var u=l(n),i=l(o),r;u&&i&&(r=i.cloneNode(!0),r.href=u.getAttribute("href"),t.document.head.appendChild(r),i.parentNode.removeChild(i))},$Do.register("$PF"),$Do.register("$PF.merge",t.merge),$Do.register("$PF.attach",p),$Do.register("$PF.detach",w),$Do.register("$PF.attachPreMerge",y))}(window.originaljQuery||jQuery),function(){var n=window;n.$Flextag=new function(){var t=this;t.load=function(){n.$Config&&$Config.flextag&&$Config.flextag.url&&setTimeout(function(){var t="flextagFrame",i=document.getElementById(t),r=$Config.flextag.url+"?v="+(new Date).getTime(),n;i?i.src=r:(n=document.createElement("IFRAME"),n.id=n.name=t,n.width=n.height=0,n.style.display="none",n.scrolling="no",n.frameBorder="0",n.allowTransparency=!0,n.src=r,document.body.appendChild(n))},2e3)}}}(),function(n){function f(t,r,u,f){return f||(n(t).removeClass("NoDisplay"),n(t).toggle(!0)),i}function t(t){return function(r){return t?(n(r).removeClass("NoDisplay"),n(r).toggle(t)):n(r).addClass("NoDisplay"),i}}function o(){return function(t,r){var u=n(t);return(r&&r.propertyName&&r.initValue&&r.finalValue)?(u.css(r.propertyName,r.finalValue),i):n.Deferred().promise()}}function s(){return function(t,r){return n(t).addClass("NoDisplay"),n(r).removeClass("NoDisplay"),n(r).toggle(!0),i}}var e=window,r=e.wLive,u,i;r.Animations={},u=r.Animations,i=null,n.Deferred&&(i=n.Deferred().resolve()),n.extend(u,{Direction:{Horizontal:0,Vertical:0},Enabled:!1,expand:t(!0),collapse:t(!1),fadeIn:t(!0),fadeOut:t(!1),addToList:t(!0),deleteFromList:t(!1),addToSearchList:t(!0),deleteFromSearchList:t(!1),deleteFromListFast:t(!1),addAndDeleteInListFast:s(),animateProperty:o(),showEdgeUI:t(!0),showPanel:t(!0),hideEdgeUI:t(!1),hidePanel:t(!1),showPopup:t(!0),hidePopup:t(!1),enterContent:f,exitContent:t(!1),enterContent2:f,exitContent2:t(!1),flyAway:function(){return i},reveal:t(!0),hide:t(!1)})}(window.originaljQuery||jQuery),function(n){function ou(){function ef(){return tt&&tt.get_status()==wt.UserStatus.signedIn}function gf(i,r){var f,u,e,o,s;t.$Sutra&&(f=i.content(),u="$Sutra.WebIM.Flyouts.{0}".format(r.sutra.flyoutName),sutra(f,u),e=i.getButton({buttonName:"action"}),e&&sutra(n(e),u+"ActionButton"),o=n(".UserTitle",f),o.length>0&&sutra(o,u+"Title"),s=n(".UserContent",f),s.length>0&&sutra(s,u+"Message"),r.sutra.applyCustomTags&&r.sutra.applyCustomTags(u,f))}function ne(n,r,u,f,e,o){function w(i){l==0&&(c&&b?t.$pwc.client.blockOrUnblockMessenger(n,u,function(){o||(k.addScenarioQoSStats(u?wi:bi,null,a,s,!1),v(s,!0)),oi(f)},function(t){te(u,n),o||(k.addScenarioQoSStats(u?wi:bi,t,a,s,!1),v(s,!1,t)),oi(e)}):(c||te(u,n),o||v(s,c,c?null:lr(i)),oi(c?f:e)))}var c=!0,l=0,b,d=n.getContacts(),s=o||it.startScenario(u?gr:nu,ut),a=(new Date).getTime(),p,y,h,g;if(!k.user){o||v(s,!1,"userNotInitialized"),oi(e);return}for(p=k.user.get_skypeAddress()?k.user.get_skypeAddress().get_address():null,y=0;y<d.length;y++)h=d[y],h.getSourceId()===wr?b=h:k.isSkypeBlockEnabled()&&p&&(h.getSourceId()===kt||h.getSourceId()===si)&&u!=h.getIsBlocked()&&t.SkyJS&&t.SkyJS.Outlook.isUserLinkStatusActive()&&(l++,g=u?t.SkyJS.Outlook.blockContact:t.SkyJS.Outlook.unblockContact,g({data:{userId:p,contactId:ie(h),reporterIp:i.ip,reportAbuse:r?1:0},success:function(n){l--,k.addScenarioQoSStats(u?yi:pi,null,a,s,!1),w(n)},error:function(n){c=!1,l--,k.addScenarioQoSStats(u?yi:pi,lr(n),a,s,!1),w(n)}}));w(null)}function te(i,r){var e=t.MsgrUI,o=i?e._getLocString("flyoutsBlockErrorMessage"):e._getLocString("flyoutsUnblockErrorMessage"),s,f;o=o.format(r.getDisplayName().encodeHtml()),s={action:e._getLocString("flyoutsBlockErrorMessageButton")},f=u.Controls.Notifications.createTopBar({content:o,dismissalMode:u.Controls.Notifications.BarDismissalMode.Explicit,buttons:s}),n(f).bind("aftershow.topBar",function(){gf(f,{sutra:{flyoutName:"BlockUnblockErrorNotification"}}),n(f).unbind("aftershow.topBar")}),f.show().then(function(){f=null})}function so(n,i,r,u,f,e){function h(n){(!r||r&&c)&&(v(o,s,s?null:lr(n)),oi(s?f:e))}var o=it.startScenario(dr,ut),l=(new Date).getTime();if(t.SkyJS&&t.SkyJS.Outlook.isUserLinkStatusActive()){var s=!0,c=!1,a=k.user.get_skypeAddress().get_address();t.SkyJS.Outlook.declineRequest({data:{userId:a,contactId:n},success:function(f){if(k.addScenarioQoSStats(vi,null,l,o,!1),r&&k.blockPerson(i,u,function(){c=!0,h(f)},function(){c=!0,s=!1,h(f)},o),u){var e=t.$pwc.getPerson(i);k.reportAbuse(e,n)}h(f)},error:function(n){k.addScenarioQoSStats(vi,lr(n),l,o,!1),s=!1,h(n)}})}else v(o,!1,"userLinkNotActive"),oi(e)}function lr(n){return n?"{0}-{1}".format(n.code||"NoCode",n.text||"NoDescription"):"NoErrorData"}function ie(n){return n.getSourceId()==kt?n.getSkypeId():n.getObjectId()}function oi(n,t){n&&n.apply(null,t||[])}function ho(){gt=!0}function co(){fe(),gt=!1,et!=null&&(t.clearInterval(et),t.setTimeout(function(){h.title=lt},200),ot=0,nr={},et=null)}function lo(i,r,u){var e=n("<div class='imToastHeader' />").text(i),o=n("<div class='imToastBody' />").append(t.Microsoft.Live.Messenger.MessengerUtility.replaceEmoticons(r)),s=ii(ar),f=t.wLive.Controls.Notifications.createToast({title:e,content:o,sourceIcon:s,options:{moreCss:"t_cbr"}});of(u),st[u]=f,f.show().then(function(n){if(n.clicked)$WLXIM.onToastClicked(u)})}function of(n){if(st[n])try{st[n].dismiss();var i=t.wLive.Controls.Notifications.getQueue();i&&i.removeNotification(st[n])}catch(u){r.logError("removeToastFromQueueError",u)}}function vu(t,i){n("#rec_conv").length!=0&&(e=t,ht=!0,ir&&or(),fu=tt.get_contacts().findByIdWithoutRoleCheck(t),ui(t,i||"other","chat"))}function re(n){yo(n,ni)&&(gi-=1)}function ao(n){ue(n,ni)&&gi++}function vo(n){ue(n,nr)&&ot++}function yo(n,t){return t[n]==1?(ni[n]=0,!0):!1}function ue(n,t){return t[n]!=1?(t[n]=1,!0):!1}function fe(){vt>0&&u.Animations.enterContent(n("#c_ofm"),{top:100,left:0}).then()}function gu(){return g?"open":"close"}function ee(i,r,u,f){if(r=r||i.get_currentAddress(),r&&r.get_network().get_isSkype()){if(t.SkyJS){f=f||n("#sidebar")[0];var e=r.get_linkedContact().get_skypePendingOutbound&&r.get_linkedContact().get_skypePendingOutbound();if(t.SkyJS.Outlook.isUserLinkStatusActive()){if(r.get_type()==20)return r.get_linkedContact().get_isBlocked()||k.showSkypeInviteFlyout(f,i.get_id(),u),!1;if(r.get_type()==8&&e)return k.showResendSkypeInviteFlyout(f,i.get_id(),u),!1}else return k.showConnectToSkypeFlyout(f,t.MsgrUI._getLocString("flyoutsConnectToSkypeSendMessageText")),!1;return!0}return!1}return!0}function oe(i,r,u){return(r=r||i.get_currentAddress(),r&&r.get_network().get_isSkype())?t.SkyJS?t.Microsoft.Live.Messenger.Services.SkyJSHelper.isCallInProgress?!1:(u=u||n("#sidebar")[0],!t.SkyJS.Outlook.isUserLinkStatusActive())?(k.showConnectToSkypeFlyout(u,t.MsgrUI._getLocString("flyoutsConnectToSkypeCallText")),!1):!0:!1:!0}function se(n,i,r){var u;u=i?i.get_network().get_id():n.get_currentAddress().get_network().get_id(),t.SkyJS.Outlook.startCall(n.get_skypeName(),n.get_cid(),r,tt.createSkypeInitializationInfo(n),u)}function po(){var t=40;return n("#m_wh").length>0?t=n("#m_wh").height():n("#HeaderContainer").length>0&&(t=n("#HeaderContainer").height()),t}function he(){var i,t;g=!1,i=ei("c_hiconm"),i!=null&&i.setAttribute("aria-pressed","false"),t=n("#sidebar"),t.is(":hidden")||(di("onSidebarClosedEvent",null),w.rtl?u.Animations.hideEdgeUI(t,{left:ft,top:0}).then(function(){t.hide(),we(),pe(),di("onSidebarCloseCompletedEvent",null),n(i).css("background-color","")}):u.Animations.hideEdgeUI(t,{left:ft,top:0}).then(function(){n(t).css("left",""),t.hide(),we(),pe(),di("onSidebarCloseCompletedEvent",null),n(i).css("background-color","")}),ct&&o&&o.sendWebimPaneStateChanged(gu())),sf(pr)}function ce(n){ht&&e?ae(n):le()}function le(){var t=n("#chat_view");t.is(":hidden")?ye():u.Animations.fadeOut(t).then(function(){t.hide(),ye()})}function ae(t){var i=n("#rec_conv");i.is(":hidden")?ve(t):u.Animations.fadeOut(i).then(function(){i.hide(),ve(t)})}function ve(t){var i=n("#chat_view");i.is(":hidden")&&(i.show(),u.Animations.fadeIn(i).then(function(){var i=n(".ModernConversationHistoryControl").get(0),r;i&&(i.scrollTop=i.scrollHeight),r=n(".ModernConversationInputControl_TextBox").get(0),r!=null&&t==!0&&r.focus(),l&&l.set_isVisible(!0),di("landingPageControlVisible",!1)})),ht=!0,e&&(re(e),of(e),sf(e))}function ye(){var t=n("#rec_conv");t.is(":hidden")&&(t.show(),u.Animations.fadeIn(t).then(function(){b&&(n(b.get_element()).show(),di("landingPageControlVisible",!0))})),sf(yr)}function pe(){n("#rec_conv").css("display","none")}function we(){n("#chat_view").css("display","none")}function di(t,i){n("#sidebar").trigger(t,i)}function sf(n){var t="cid="+i.cid+":state="+n;rt.setCookie("Webim_Sidebar_Open",t,i.sd,0,null,1)}function hf(){uu(0),tt&&tt.set_services(wt.SessionServices.notifications)}function cf(){tt&&(tt.set_services(wt.SessionServices.full),ke("Full"))}function wo(n){if(k.hasPresence()){n&&(wu=n,wu.pause("wim"));try{tt.signOut()}catch(t){r.logError("Signout Error",t)}}}function be(){yu=1,ri=i.WebIM,af(),r.logAction("WebIM_DownloadingResources"),rr(),bo()}function bo(){tr=new Date,s=it.startScenario(br,ut),a=(new Date).getTime(),y.fetchCSS(ri.c,vr,undefined,"Gfx_Css_WlxWebIMUI_Download","Gfx"),y.fetchCSS(ri.cc,vr,undefined,"Gfx_Css_WebIMCore_Download","Gfx"),y.fetchScript(ri.a,vr,"window.live.shared.globalsettings.webim","Gfx_JS_WebIMStr_Download","Gfx"),y.fetchScript(ri.cs,vr,"webimui","Gfx_JS_WebIMCombined_Download","Gfx"),window.$Config.WebIM.si==1?y.fetchScript(ri.slu+"?r="+Math.random(),ko,undefined,"Gfx_JS_Skype_LocJs","Gfx"):(r.logAction("WebIM_Skype_DisabledByConfig"),lf()),ri.pj&&y.fetchScript(ri.pj,null,undefined,"Gfx_JS_Popover_Download","Gfx"),t.wLive.Search==null&&y.fetchScript(ri.ss,null,undefined,"window.wLive.Search")}function ko(){t.SkyJS&&t.SkyJS.Live&&t.SkyJS.Live.Rollout?t.SkyJS.Live.Rollout.isEnabled(i.cid,i.mkt.toLowerCase())?(k.addScenarioQoSStats(hi,null,a,s,!1),ou=t.SkyJS.Live.Rollout.getPackageUrl(i.cid,i.mkt.toLowerCase()),ri.eso&&t.location.search.indexOf("skyjsurl=")>-1&&/^https:\/\/(az351254|az299139|az340659|az359216|az415007)\.vo\.msecnd\.net\/\d+-\d+-\d+\/assets\/javascript\/outlook-package\.min\.js$/.test(t.location.search.split("skyjsurl=")[1])&&(ou=t.location.search.split("skyjsurl=")[1]),y.fetchScript(ou,vr,undefined,"Gfx_JS_Skype_Skyjs","Gfx")):(r.logAction("WebIM_Skype_Rollout_Disabled"),lf()):(su=!0,k.addScenarioQoSStats(hi,d+"LocJs",a,s,!1),lf())}function lf(){var n=h.createElement("script");ou=n.src="",vr(n)}function vr(t){uf++,go(t),uf==bf&&(su?v(s,!1,d):v(s,!0),c.register("wlximuiouter",0,!0),pu?ns():fi(!1,d,null),n("#sidebar").length==0&&(cu(),n("#c_hiconm").removeClass("c_md"),lu(),c.when("$pwc",0,au)))}function go(n){var i=n.nodeName.toLowerCase()=="script"?n.src:n.href;switch(i){case location.protocol+"//"+location.hostname+ri.a:t.GetString!=undefined&&t.GetString("live.webim.strings.connectedto")!=""?k.addScenarioQoSStats(li,null,a,s,!1):(su=!0,k.addScenarioQoSStats(li,d+"Strings",a,s,!1));break;case ri.cs:k.ML=pf=t.Microsoft.Live,k.MLM=wt=pf.Messenger,wt?(pu=!0,k.addScenarioQoSStats(ci,null,a,s,!1)):(su=!0,k.addScenarioQoSStats(ci,d+"Core",a,s,!1));break;case ou:t.SkyJS&&t.SkyJS.Outlook?k.addScenarioQoSStats(ai,null,a,s,!1):(su=!0,k.addScenarioQoSStats(ai,d+"SkyJS",a,s,!1))}}function ns(){var t=new wt.RpsAuthIdentity(i.email,i.cid,null,null);i.BSI!=null&&i.BSI.xid!=null&&t.set_experienceId(i.BSI.xid),n(t).bind("authenticationCompleted",ts)}function ts(i,u,f){var h=t.Microsoft.Live.Messenger,s=f.get_resultCode(),e,o;s==wt.AuthenticationResultCode.failure?f.get_isUnsupportedBrowser()?(df=1,oo(-1,"Authentication Failed: unsuported browser")):oo(91,"Authentication Failed with status code: "+f.get_status()):(r.logAction("WebIM_SigningIn"),k.user=tt=new wt.User(u,new wt.Services.PeopleCache),tt.get_localEndpoint().set_name(ri.n),tt.get_services()!=wt.SessionServices.normal?(uu(tt.get_status()),ff=1):f.get_multipleEndpointsNotSupported()?(uu(0),hf()):(uu(1),tt.set_services(wt.SessionServices.full),ke("Full")),is(),tt.signIn(),!hu&&er&&er.messagingModule&&er.messagingModule.containerClassName&&(e=n("."+er.messagingModule.containerClassName),e&&(hu=new t.MsgrUI.MessagingModuleControl(tt,{containerWidth:e.width(),tabIndex:er.messagingModule.tabIndex}),e.empty().append(hu.render()),hu.activate(),o=n(hu.get_element()),e.bind("resize",function(){o.triggerHandler("resize")}))))}function ke(n){if(!ff){ff=1;var i={IMMode:n};t.$BSI.reportEvent("ClickedSelected.Messaging.IMStart",i),r.logDetails("WebIM_StartIM",i)}}function uu(n){rt.setCookie(vf,i.hcid+yf+n,i.sd,0,0,1)}function af(){var n=rt.getCookie(vf,1),t;return n&&(t=n.indexOf(yf),t!=-1&&n.substr(0,t)==i.hcid&&(n=parseInt(n.substr(t+1)),!isNaN(n)))?n:1}function is(){n(tt).bind("signInCompleted",io),n(tt).bind("signedOut",fo),n(tt).bind("propertyChanged",ro),n(tt.get_contact().get_presence()).bind("propertyChanged",uo),n(tt.get_conversations()).bind("collectionChanged",ge),n(window).bind("unload",to),n(window).bind("resize",de),n(window).bind("blur",ho),n(window).bind("focus",co)}function de(){if(f&&f.length>0&&k.isSidebarOpened()&&!k.isSidebarOverlay()){var t=n(window).width()-ft+"px";try{f.width(t)}catch(i){}}}function ge(t,i,r){var u=r.get_newItems(),f;u&&u.length>0&&(f=u[0],n(f).bind("messageReceived",no))}function no(n,i,r){if(tt.get_contacts()!=null&&tt.get_contacts().get_count()>0&&(!i.get_userInitiated||!i.get_userInitiated())){var u=i.get_buddyContact();if(u)k.onConversationUpdated(u,r.get_message(),i instanceof t.Microsoft.Live.Messenger.GroupConversation)}}function to(){var t,i;for(n(window).unbind("unload",to),n(window).bind("resize",de),n(tt).unbind("signInCompleted",io),n(tt).unbind("signedOut",fo),n(tt).unbind("propertyChanged",ro),n(tt.get_contact().get_presence()).unbind("propertyChanged",uo),t=tt.get_conversations(),n(t).unbind("collectionChanged",ge),i=0;i<t.get_count();i++)n(t).unbind("messageReceived",no);o!=null&&(n(o).unbind("StartGroupChat"),n(o).unbind("ToggleMessagingPane"))}function io(n,t,i){i.get_resultCode()==wt.SignInResultCode.success?(bu=1,k.isFull()||cf(),ti(),fi(!0,null,null)):fi(!1,null,i.get_error()),tf||rt.setSessionCookie("WebIM","1"),eo(),rr(),c.register("$WLXIM.UserSignedIn"),r.logAction("WebIM_SignedIn")}function ro(n,t,i){var r=i.get_propertyName();(r=="Services"||r=="Status")&&(ku&&tt&&tt.get_status()==wt.UserStatus.signedIn&&(ku=0,hf()),!bu&&tt&&tt.get_status()==wt.UserStatus.signedIn&&(bu=1),eu&&tt&&tt.get_status()==wt.UserStatus.signedIn&&(eu=0,cf()),tt&&tt.get_status()!=wt.UserStatus.signedIn&&bt(),rr())}function uo(n,t){var i=t.get_status();i!=wt.PresenceStatus.offline&&uu(i),tt&&tt.get_presence().get_status()==wt.PresenceStatus.offline?tt.get_status()==wt.UserStatus.signedIn&&fr():ti()}function fo(n,t,i){i.get_reason()||wu&&wu.resume("wim"),bt()}function eo(){tf||(tf=1)}function oo(n,t){kf=1,rr(),eo(),r.log({eventType:"WebIM_InitializationFailure",resultCode:n,resultDetails:{message:t}})}function rr(){for(var t=0,i=nf.clone(),u=i.length;t<u;t++)try{i[t]()}catch(f){r.logError("WebIM_InformStateChagne",f)}n(k).trigger("stateChange")}var k=this,tt,vf="pres",yf="=",ri,pf,wt,nf=[],tf,yu,rf,wf,bf=5,uf=0,pu,kf,df,ff,wu,bu,eu,ku,ou="",su,hu,er,du;k.isOff=function(){return!eu&&(!yu||af()==0)},k.isUnsupported=function(){return df},k.isError=function(){return!k.isOff()&&(kf||tt&&tt.get_status()==wt.UserStatus.signedOut)},k.isLoading=function(){return!k.isOff()&&!k.isError()&&(!tt||tt.get_status()==wt.UserStatus.signingIn||tt.get_status()==wt.UserStatus.signingOut)},k.isWaitingToReconnect=function(){return!k.isOff()&&tt&&tt.get_status()==wt.UserStatus.autoReconnectWaiting},k.hasContacts=function(){return bu},k.hasNotify=function(){return ef()},k.hasPresence=function(){return ef()&&tt.get_services()>wt.SessionServices.notifications},k.isFull=function(){return ef()&&tt.get_services()==wt.SessionServices.full},k.addScenarioQoSStats=function(n,t,i,f,e){if(f){var o={api:n,dependent:ut};typeof t!="undefined"&&t!=null&&(o.error=t),e&&(o.errorType="c"),u.ScenarioQoSStats.add(o,i,f),r.log({eventType:n,resultCode:t})}},k.addStateListener=function(n){nf.push(n)},k.removeStateListener=function(n){var t=nf.remove(n)},k.showFlyout=function(t){var i=u.Controls.Notifications.createFlyout(t),r;n(i).bind("aftershow.flyout",function(){if(gf(i,t),t.onAfterShow)t.onAfterShow(i);n(i).unbind("aftershow.flyout")}),n(i).bind("beforedismiss.flyout",function(){r=i.content(),n(i).unbind("beforedismiss.flyout")}),t.onButtonClick&&n(i).bind("buttonclick.flyout",function(){t.onButtonClick(i)}),i.show().then(function(n){if(n.buttonClicked==="action")t.performAction&&t.performAction(r);else if(t.onDismiss)t.onDismiss(r)}),r=null},k.showFirstShortCircuitFlyout=function(n,i){var f=t.MsgrUI,r=t.$pwc.getPerson(n),u;r&&(u={content:f._getLocString("firstShortCircuitFlyoutMessage").format(r.getOrderedName()),anchor:i,sutra:{flyoutName:"firstscmessageflyout"}},k.showFlyout(u))},k.isSkypeInvitesEnabled=function(){return!!window.$Config.WebIM.sv&&pu&&k.MLM.Services.SkyJSHelper.skypeEnabled},k.isSkypeBlockEnabled=function(){return!!window.$Config.WebIM.sb&&pu&&k.MLM.Services.SkyJSHelper.skypeEnabled},k.showBlockFlyout=function(i,r,u,f,e){var o=t.MsgrUI,s=t.$pwc.getPerson(r),h,c;s&&(h=e||o._getLocString("flyoutsBlockMessage").format(s.getOrderedName()),c={content:ru.format(h.encodeHtml(),o._getLocString("flyoutsReportAbuse").encodeHtml()),anchor:i,buttons:{action:o._getLocString("flyoutsBlockButton")},sutra:{flyoutName:"BlockFlyout",applyCustomTags:function(t,i){var r=n("input",i);sutra(r,t+"ReportAbuse")}},performAction:function(t){var i=n("input",t)[0].checked;k.blockPerson(r,i,function(){i&&k.reportAbuse(s,null),oi(u,[!0])},f,null)},onAfterShow:function(t){var r=n(t.content()),i=n(".wim_block_repabuse",r),u=n(t.getButton({buttonName:"action"}));i.find("label").bind("click",function(){var n=i.find(":checkbox");n.prop("checked",!n.is(":checked"))}),n(".ButtonArea",r).css("min-width",i.width()+u.width()+30)},onDismiss:function(t){n(".wim_block_repabuse",t).find("label").unbind(),oi(u,[!1])}},k.showFlyout(c))},k.showDeclineInviteFlyout=function(i,r,u,f,e){var o=t.MsgrUI,s={title:o._getLocString("flyoutsDeclineInviteTitle").encodeHtml(),content:iu.format(o._getLocString("flyoutsBlockCheckbox").encodeHtml(),o._getLocString("flyoutsReportAbuse").encodeHtml()),anchor:i,buttons:{action:o._getLocString("flyoutsDeclineButton")},sutra:{flyoutName:"DeclineInviteFlyout",applyCustomTags:function(t,i){var r=n("input",i);sutra(r[0],t+"Block"),sutra(r[1],t+"ReportAbuse")}},performAction:function(t){var i=n("input",t),o=i[0].checked,s=i[1].checked;so(u,r,o,s,function(){oi(f,[!0])},e)},onAfterShow:function(t){var i=n(t.content());i.find("label").bind("click",function(t){var i=n(t.target).parent().find(":checkbox");i.prop("checked",!i.is(":checked"))})},onDismiss:function(t){n(t).find("label").unbind(),oi(f,[!1])}};k.showFlyout(s)},k.showConnectToSkypeFlyout=function(r,u){var f=t.MsgrUI,e;u=u||f._getLocString("flyoutsConnectToSkypeAddContactText"),e={content:u.encodeHtml(),anchor:r,buttons:{action:f._getLocString("flyoutsConnectToSkypeButton")},sutra:{flyoutName:"ConnectToSkypeFlyout"},onButtonClick:function(r){n(r).unbind("buttonclick.flyout");var u=i.WebIM.sau,f=t.open(u,"_blank","scrollbars=0,resizable=1,location=0, width=720,height=520"),e=t.setInterval(function(){f.closed&&(t.clearInterval(e),t.location.reload())},500)},performAction:function(){}},k.showFlyout(e)},k.showSkypeInviteFlyout=function(n,i,r,u,f){var e=t.MsgrUI,o={content:e._getLocString("flyoutsAddToSkypeText").encodeHtml(),anchor:n,buttons:{action:e._getLocString("flyoutsAddToSkypeButton")},sutra:{flyoutName:"AddToSkypeContactsFlyout"},performAction:function(){k.sendSkypeInvite(i,r,function(){oi(u,[!0])},f)},onDismiss:function(){oi(u,[!1])}};k.showFlyout(o)},k.showResendSkypeInviteFlyout=function(n,i,r,u,f){var e=t.MsgrUI,o=t.$pwc.getPerson(i),s;o&&(s={content:e._getLocString("flyoutsResendSkypeRequestText").format(o.getDisplayName()).encodeHtml(),anchor:n,buttons:{action:e._getLocString("flyoutsResendSkypeRequestButton")},sutra:{flyoutName:"ResendSkypeRequestFlyout"},performAction:function(){k.sendSkypeInvite(i,r,u,f)},onDismiss:function(){u&&u()}},k.showFlyout(s))},k.reportAbuse=function(n,t){var u,i,r,f;if(n!=null){if(u=n.getContacts(),u.length>0&&(i=tt.get_contacts().findByIdWithoutRoleCheck(u[0].getId()),i!=null))for(r=0;r<i.get_addresses().get_count();r++)f=i.get_addresses().get_item(r),f.get_supportsReportAbuse()&&tt.reportAbuse(f,null)}else tt.reportAbuse(null,t)},k.sendSkypeInvite=function(n,i,u,f){function y(n){s==0&&(k.addScenarioQoSStats(tu,o?null:lr(n),d,p,!1),v(p,o,o?null:lr(n)),oi(o?u:f))}var s=0,o=!0,p=it.startScenario(kr,ut),d=(new Date).getTime(),w={skypeinvitesource:i},c,l,b,h,e,a;if($BSI.reportEvent("WebIM.SkypeInviteSent",w),r.logDetails("WebIM_SkypeInviteSent",w),t.SkyJS&&(c=t.$pwc.getPerson(n),c))for(l=c.getContacts(),b=k.user.get_skypeAddress().get_address(),h=0;h<l.length;h++)e=l[h],a=e.getOrderedName(),(e.getSourceId()===kt||e.getSourceId()===si&&e.getSkypePendingOutbound())&&(s++,t.SkyJS.Outlook.sendRequest({data:{userId:b,contactId:ie(e),greeting:a?t.MsgrUI._getLocString("flyoutsSendInviteGreeting").format(a):""},success:function(n){s--,y(n)},error:function(n){o=!1,s--,y(n)}}));y(null)},k.blockPerson=function(n,i,r,u,f){var e=t.$pwc.getPerson(n);e&&ne(e,i,!0,r,u,f)},k.unblockPerson=function(n,i,r){var u=t.$pwc.getPerson(n);u&&ne(u,!1,!1,i,r,null)},k.signIn=function(){tt&&tt.get_status()==wt.UserStatus.signedIn?(uu(1),cf()):(eu=1,ku=0,rr())},k.signOut=function(){tt&&tt.get_status()==wt.UserStatus.signedIn?hf():(eu=0,ku=1,rr())},k.reconnect=function(){k.isWaitingToReconnect()&&tt.signIn()},k.toggleSidebar=function(t){var u=!t||t.type=="mousedown"||t.which==13,i,r;u&&(i=n("#sidebar"),i.length>0&&(i.is(":hidden")?(k.showSidebar(!0),t&&t.which==13&&(r=i.find("a"),r.length>0&&r[0].focus())):(hr("header"),he(),di("landingPageControlVisible",!1))))},k.dismissSidebar=function(){hr("closeButton"),he()},k.getChatViewOpenedContactId=function(){return e},k.onChatViewBack=function(){le(),ht=!1,e=null},k.onConversationSelected=function(n,t,i){vu(i.buddyId,"recentConversations"),ae(!0)},k.onConversationUpdated=function(n,i,r){var u=t.MsgrUI,f=t.Microsoft.Live.Messenger,s,o,h;if(gt!=!0||i.get_reloaded()||i.get_type()!=f.MessageType.textMessage||i.get_sender().get_isUser()||(vo(n.get_id()),s=n.get_firstName()!=null?n.get_firstName():n.get_displayName(),ot==1&&r?du(u._getLocString("newGroupMessageNotification")):ot==1&&s!=null?du(u._getLocString("newMessageNotification").format(s).trim()):du(u._getLocString("newMultipleMessageNotification").format(ot).trim())),!i.get_reloaded()&&(i.get_type()==f.MessageType.textMessage||i.get_type()==f.MessageType.threadActivityMessage)&&(!g||!ht||!e||e!=n.get_id())&&n.get_id()!=null&&n.get_id()!=""){if(i.get_sender().get_isUser()){re(n.get_id());return}if(ao(n.get_id()),!i.get_isOfflineMessage()){if(i.get_type()==f.MessageType.textMessage)o=i.get_text();else if(u&&u.Utility)o=u.Utility.getActivityMessageString(i);else return;o&&(h=n.get_displayName(),lo(h,o,n.get_id()))}}},k.removeAllToasts=function(){for(var n in st)of(n)},du=function(){var n=!1,i=function(){n?(h.title=at,n=!1):h.title==at?h.title=lt:(lt=h.title,h.title=at)};return function(r){n=!0,at=r,et==null&&(lt=h.title,et=t.setInterval(i,1e3))}}(),k.updateMessagingCount=function(t){var r,i,u;t!==vt&&(vt=t,r=t>99?"99+":t>0?t:"",i=n("#c_ofm"),u=i.parent(),i.html(r),n("#c_hiconm").width(u.width()+"px"),fe(),ct&&o&&o.sendWebimUnreadCountChanged(t,gu()))},k.isSidebarOpened=function(){return g},k.isSidebarOverlay=function(){return yt&&n(window).width()<dt},k.setPaneToResize=function(n){f=n,$WLXIM.isSidebarOpened()&&ur(null,k.isSidebarOverlay())},k.resetSidebarOverlaySettings=function(){yt=!1,dt=ki},k.setSidebarOverlay=function(n){yt=n},k.setSidebarOverlayWindowWidth=function(n){yt=!0,dt=n},k.setSidebarToFullScreen=function(t){pt=t==!0?"0px":po()+"px",n("#sidebar").css("top",pt)},k.registerWacChat=function(t){function i(n,t){var i=t.groupId.toLowerCase(),r=tt.findContactByThreadId(i);r!=null?k.startConversationWithContactId(r.get_id(),"wac",!0):tt.addToStartGroupChatPendingList(i)}function r(n,t){var i=t.htmlEvent;k.toggleSidebar(i)}ct==!1&&tt&&tt.get_status()==wt.UserStatus.signedIn&&MC.GroupChatFeatures.phase!=MC.GroupChatPhase.disabled&&(ct=!0,o=t,o.sendWebimReady(vt,gu()),n(o).bind("StartGroupChat",i),n(o).bind("ToggleMessagingPane",r))},k.startConversationWithContactId=function(n,t,i){var u=tt.get_contacts().findByIdWithoutRoleCheck(n),r=tt.get_aggregatedConversations().getAggregatedConversationByContact(u);p=r!=null&&r.get_currentConversation()!=null?r.get_currentConversation().get_buddyAddress():u.get_currentAddress(),p!=null&&(vu(n,t),k.showSidebar(i))},k.startConversationWithContact=function(n,t,i,r,u){var f=$WLXIM.getConversationAddress(n,t,i);ee(n,f,u,r)&&(p=f,vu(n.get_id(),u),k.showSidebar(!0))},k.startConversationWithIMAddress=function(n,t,i,r){ee(n,t,i,r)&&(p=t,i=i||"",vu(n.get_id(),i),k.showSidebar(!0))},k.startAudioCall=function(n,t,i,r){return oe(n,i,r)?(se(n,i,!1),ui(n.get_id(),t,"voice"),!0):!1},k.startVideoCall=function(n,t,i,r){return oe(n,i,r)?(se(n,i,!0),ui(n.get_id(),t,"video"),!0):!1},k.onToastClicked=function(n){vu(n,"toast"),k.showSidebar(!0)},k.switchPresence=function(n){tt&&(tt.get_presence().set_status(n),tt.get_settings().set_userPresencePreference(n))},k.isVVWindow=function(){return ri.vv},k.showSidebar=function(t){var r,i;n("#rec_conv").length!=0&&(r=ei("c_hiconm"),r!=null&&r.setAttribute("aria-pressed","true"),i=n("#sidebar"),i.is(":hidden")?(i.show(),di("onSidebarOpenedEvent",k.isSidebarOverlay()),b&&sr(),w.rtl?i.css("left","0"):i.css("right","0"),u.Animations.showEdgeUI(i,{left:n(window).width(),top:0}).then(function(){if(ce(t),di("onSidebarOpenCompletedEvent",k.isSidebarOverlay()),w.IE_M7&&f&&f.length>0){var i=f.get(0),u=i.style.display;i.style.display="none",i.style.display=u}n(r).css("background-color",cr)})):ce(t),g=!0,ct&&o&&o.sendWebimPaneStateChanged(gu()))},k.getSidebarOpenCookieState=function(){var t=rt.getCookie("Webim_Sidebar_Open"),n;return t&&(n=t.split(":state="),n&&n.length==2&&n[0].endsWith(i.cid)&&n[1].length>0)?n[1]:null},k.init=function(n,i){er=i,uf>=bf?r.logAction("WebIM_AlreadyLoaded"):yu?r.logAction("WebIM_Alreadyoading"):rf?(r.logAction("WebIM_DownloadPaused"),wf=1):be(),t.$Logout.add(wo)},k.pause=function(){yu||(rf=1)},k.resume=function(){rf=0,wf&&be()},k.setTestFlags=function(n){ri.eso&&(nt=n)},k.getTestFlags=function(){var i,n,r;if(nt==0&&ri.eso&&t.location.search.indexOf("testflags=")>-1)for(i=t.location.search.substring(1).split("&"),n=0,r=i.length;n<r;n++)if(i[n].startsWith("testflags=")){nt=parseInt(i[n].split("=")[1]),isNaN(nt)&&(nt=0);break}return nt},k._pres=af,k._inform=rr}function su(){i.WebIM&&i.WebIM.cs&&(t.$WLXIM=new ou,c.when("$BSI",0,pu))}function ur(t,i){var r,u;f&&f.length>0&&!i&&(w.rtl&&w.Firefox&&(r=ft+f.width()-n(window).width(),f.css("left",r+"px")),u=n(window).width()-ft+"px",f.width(u))}function hu(){f&&f.length>0&&(f.width(""),w.rtl&&w.Firefox&&f.css("left","0"))}function cu(){var i=tt(k,h.body,"sidebar",null);i.setAttribute("persist","1"),$WLXIM.sidebar=i,c.register("$WLXIM.SidebarCreated"),n($WLXIM.sidebar).bind("onSidebarOpenedEvent",ur),n($WLXIM.sidebar).bind("onSidebarCloseCompletedEvent",hu),n($WLXIM.sidebar).addClass("t_sbgc"),c.register("wlxim_startconversation",$WLXIM.startConversationWithContact),c.when("NotificationControls",0,function(){u.Controls.Notifications.getQueue().start()}),n(i).css("top",pt),t.$Sutra&&t.$Sutra.WebIM&&sutra(i,"$Sutra.WebIM.WebIMSidebar")}function lu(){var i=t.MsgrUI,r=n("#sidebar").get(0),o="<div id='sidebar_close_img' onmousedown='$WLXIM.dismissSidebar();' tabindex='0' class='imCloseImg' style='background-image:url("+ii(lr)+")'/>";n(r).append(o);var u=tt(k,r,"sidebar_info",null),s=ii(vr),h="<div style='text-align:center'><img src='"+s+"' class='signin_loading_img' /> "+i._getLocString("signingInInfo")+"<\/div>";wt(u,"signing",h,""),wt(u,"reconnect","","<button class='default sidebar_button' type='button' onclick='$WLXIM.reconnect()'>"+i._getLocString("messagingPaneReconnectNow")+"<\/button>"),wt(u,"signout",i._getLocString("messagingPaneSignOut"),"<button class='default sidebar_button' type='button' onclick='$WLXIM.signIn()'>"+i._getLocString("messagingPaneSignInButton")+"<\/button>"),wt(u,"resignin",i._getLocString("messagingPaneSignOut"),"<button class='default sidebar_button' type='button' onclick='location.reload()'>"+i._getLocString("messagingPaneSignInButton")+"<\/button>");var f=tt(k,r,"rec_conv",null),c=tt(k,f,"rec_conv_body",null),e=tt(k,r,"chat_view",null),l=tt(k,e,"chat_view_body",null);bt(),t.$Sutra&&t.$Sutra.WebIM&&(sutra(r,"$Sutra.WebIM.WebIMSidebar"),sutra(f,"$Sutra.WebIM.RecentConversationsView"),sutra(c,"$Sutra.WebIM.RecentConversationsList"),sutra(e,"$Sutra.WebIM.ChatView"),sutra(l,"$Sutra.WebIM.ChatViewBody"))}function wt(t,i,r,u){var f="<table class='sidebar_info_table "+i+"'><tr style='vertical-align: bottom; height:50%'><td><div class='sidebar_info_top'>"+r+"<\/div><\/td><\/tr><tr style='vertical-align: top; height:50%'><td><div class='sidebar_info_bottom'>"+u+"<\/div><\/td><\/tr><\/table>";n(f).appendTo(t)}function bt(){var r=t.Microsoft.Live.Messenger,e=t.MsgrUI,i=n(".sidebar_info"),u,f;if(i.find("table").hide(),$WLXIM.isWaitingToReconnect())u=i.find("table.reconnect"),f=e._getLocString("messagingPaneReconnect").format($WLXIM.getReconnectingTime().min+":"+$WLXIM.getReconnectingTime().sec),u.find(".sidebar_info_top").text(f),u.show(),t.setTimeout(bt,1e3);else if($WLXIM.isLoading())i.find("table.signing").show();else if($WLXIM.user&&$WLXIM.user.get_status()==r.UserStatus.signedOut)i.find("table.resignin").show();else if($WLXIM.user&&$WLXIM.user.get_presence().get_status()==r.PresenceStatus.offline&&$WLXIM.user.get_status()==r.UserStatus.signedIn)fr();else{ti();return}er()}function fr(){var t=n(".sidebar_info");er(),t.find("table").hide(),t.find("table.signout").show(),l&&(l.dispose(),l=null,n("#chat_view_body").empty())}function ti(){var t=n(".sidebar_info");if(t.is(":hidden")){t.hide();return}u.Animations.fadeOut(t).then(function(){t.hide()}),e&&$WLXIM.startConversationWithContactId(e,rr,!0)}function er(){var t=n(".sidebar_info");t.is(":hidden")&&(t.show(),u.Animations.fadeIn(t).then(function(){}),$WLXIM.removeAllToasts())}function au(){c.when("$WLXIM.UserSignedIn",0,function(){uiQosApiStartTime=(new Date).getTime(),vu(),ir=!0,eu=!1})}function vu(){var i=null,r=t.$pwc.settings.getImHistoryEnabled();r&&(i=yu()),b=new t.MsgrUI.LandingPageControl($WLXIM.user),n("#rec_conv_body").append(b.render()),b.activate(),g&&sr(),or()}function or(){var r=t.MsgrUI,i=n("#chat_view_body");l&&(i.empty(),l.dispose()),p?(l=new r.ModernConversationControl(i[0],null,p,$WLXIM.user),p=null):e&&(l=new r.ModernConversationControl(i[0],e,null,null))}function yu(){var n=i.WebIM.mh;return"javascript:window.location='"+n+"'"}function ii(n){return i.WebIM.imgBase+n}function tt(n,t,i,r){var u=h.createElement(n);return r&&(u.innerHTML=r),i&&(u.id=i,u.className=i),t&&t.appendChild(u),u}function pu(){var r=$WLXIM,t;i.WebIM.f||r.init(),c.register("wlxim",0,!0),n(".App #BelowHeader").length>0?$WLXIM.setPaneToResize(n(".App #BelowHeader")):(t=n("#c_base"),t.length>0&&$WLXIM.setPaneToResize(t)),n("#c_header").length==0?$WLXIM.setSidebarToFullScreen(!0):$WLXIM.setSidebarToFullScreen(!1)}function v(n,t,i){n&&(it.stopScenario(n,t,i),n.id&&r.log({eventType:n.id,resultCode:t?null:i},!t))}function sr(){var n={ConversationCount:b.get_visibleItemCount()};t.$BSI.reportEvent("WebIM.RecentConversationCount",n),r.logDetails("WebIM_RecentConversationCount",n)}function ui(n,i,u){if(i!==rr&&ri.indexOf(n)<0){ri.push(n);var f={WebIMLaunchPoint:i,ConversationType:u,isOverlayMode:$WLXIM.isSidebarOverlay()};t.$BSI.reportEvent("WebIM.ConversationStarted",f),r.logDetails("WebIM_ConversationStarted",f)}}function hr(n){var i={WebIMCloseLocation:n};t.$BSI.reportEvent("WebIM.SidebarHidden",{WebIMCloseLocation:n}),r.logDetails("WebIM_SidebarHidden",i)}function fi(u,f,e){var s=t.Microsoft.Live.Messenger,o={},l,h,a,c,y,p,v;o.TimeToLogin=Math.floor((new Date-tr)/1e3),o.SignInSuccess=u,o.Culture=i.mkt,o.MessengerError=e||"-",o.WebImError=f||"-",o.EndpointId=u?$WLXIM.user.get_localEndpoint().get_id().toString():"-",o.WLContacts=0,o.SkypeContacts=0,o.ConnectContacts=0;try{for(o.IsSkypeLogin=s.Services.SkyJSHelper.skypeEnabled,o.IsSkypeLogin&&(l=s.Services.SkyJSHelper.initErrorCode,o.SkyjsErrorCode=l==""?"-":l,o.SkypeAccountType=t.SkyJS.Outlook.isUserLinkStatusActive(),o.SkypeLoginTime=$WLXIM.user.get_identity().skypeLoginTime),h=0;h<$WLXIM.user.get_contacts().get_count();h++)for(a=$WLXIM.user.get_contacts().get_item(h).get_addresses(),c=0;c<a.get_count();c++){y=a.get_item(c).get_type();switch(y){case s.IMAddressType.windowsLive:o.WLContacts++;break;case s.IMAddressType.skype:o.SkypeContacts++;break;case s.IMAddressType.connect:o.ConnectContacts++}}}catch(w){r.logError("WebIM_SkypeReportingError",w)}p={TimeToLogin:0,SkypeLoginTime:0,IsSkypeLogin:!1,SignInSuccess:!1,SkyjsErrorCode:"-",SkypeAccountType:!1,Culture:"-",MessengerError:"-",WebImError:"-",EndpointId:"-",WLContacts:0,SkypeContacts:0,ConnectContacts:0},v=n.extend({},p,o),$BSI.reportEvent("WebIM.LoginTime",v),r.logDetails("WebIM_LoginTime",v)}var t=window,u=t.wLive,w=t.$B,y=t.$Network,it=t.$ScenarioQoS,rt=t.$Cookie,i=t.$Config,c=t.$Do,r=u.People.Reporter,h=t.document,ei=t._ge,k="DIV",cr="rgba(0, 0, 0, 0.24)",lr="webim/imagestripmessaging.png",ar="webim/messaging_icon_1.png",vr="common/spinner_grey_40_transparent.gif",yr=0,pr=-1,oi="FB",wr="WL",si="SKYPE",kt="SCD",ut="WebIM",br="WebIM_CoreScriptLoad",kr="WebIM_SkypeSendRequest",dr="WebIM_SkypeDeclineRequest",gr="WebIM_BlockRequest",nu="WebIM_UnblockRequest",hi="WebIM_CoreScriptLoad_Loader",ci="WebIM_CoreScriptLoad_MessengerCore",li="WebIM_CoreScriptLoad_MessengerStrings",ai="WebIM_CoreScriptLoad_SkyJS",tu="WebIM_SkypeSendRequest_Call",vi="WebIM_SkypeDeclineRequest_Call",yi="WebIM_SkypeBlockRequest_Call",pi="WebIM_SkypeUnblockRequest_Call",wi="WebIM_MessengerBlockRequest_Call",bi="WebIM_MessengerUnblockRequest_Call",d="ScriptLoadFailure",iu='<div><div class="wim_decline_block"><input tabindex="-1" title="{0}" aria-label="{0}" type="checkbox" value="Block"><label title="{0}">{0}<\/label><\/div><div><input tabindex="-1" title="{1}" aria-label="{1}" type="checkbox" value="ReportAbuse"><label title="{1}">{1}<\/label><\/div><\/div>',ru='<div class="wim_block_message">{0}<\/div><div class="wim_block_repabuse"><input tabindex="-1" title="{1}" aria-label="{1}" type="checkbox" value="ReportAbuse"><label title="{1}">{1}<\/label><\/div>',ki=1e5,dt=ki,ft=300,uu=new Array(1),di,ri;uu[oi]="sn/PsaMedium/FBActive.png",di=new Array(1),di[oi]="Facebook";var b,l,e,p,fu,s,a,gt=!1,lt,at,et,vt=0,ot=0,gi=0,nr={},ni={},st={},yt=!1,g=!1,ht=!1,tr,f,ir,eu,pt=40,rr="resumedConversation",ct=!1,o,nt=0;ri=[],su()}(window.originaljQuery||jQuery),function(){$Do.register("$WLiveLoaded")}(),window.define)for(files=["Debug.js","Qos.js","QosOverrides.js","RegisterNamespace.js","LightObject.js","LightString.js","Dependancies.js","TruncateEllipsis.js","Utility.js","UtilityExtensions.js","Beacon.js","LightFunction.js","LightArray.js","Watson.js","do.js","Cookie.js","BSI.js","css.js","Sutra.js","Setup.js","LightEnums.js","SetTimeout.js","HelpContext.js","LightNetwork.js","ScenarioQoS.js","PageStats.js","baseutil.js","domutils.js","wLiveCss.js","wLiveImagestrip.js","wLiveMenu.js","CSIPerf.js","Reporter.js","IdleTimer.js","Names.js","MessagingAddress.js","PeopleContactDetails.js","PeopleContact.js","PersonDetails.js","Person.js","Group.js","Category.js","Service.js","Settings.js","LazyHash.js","CrossDomainProxy.js","StorageProxy.js","Store.js","ServiceProxy.js","DeltaSync.js","SyncClient.js","Client.js","NetworkID.js","SortOrder.js","Cache.js","PwcInitializer.js","ic.js","SafeLinks.js","ssl.js","header.js","header_themehover.js","MeControl.js","footer.js","leftnav.js","collapsing.js","wLiveNavLink.js","NavigationCollections.js","commandBar.js","trie.js","ICUserTileScript.inline.js","logout.js","preload.js","sharedlapsetimer.js","basemaster.js","PersistenceFramework.js","flextag.js","animationsstub.js","WebIm.js","wLiveLoaded.js"],x=0;x<files.length;x++)define(files[x],[],function(){});if(window.JSDownload_wlive=1,function(){var n=window.top,t;n.$Network&&n.$Network.Proxy._registerProxy&&n.mandrake&&(t=n.$Network.Proxy._registerProxy,n.$Network.Proxy._registerProxy=function(){var i=arguments[0];if(n.mandrake.setupMandrakeForFrame)try{n.mandrake.setupMandrakeForFrame(i)}catch(r){}t.apply(this,arguments)})}(),History={},function(n){function ut(n){t.disableBookmarking=n&&n.db,t.configState=n&&n.state||{},t.configHash=h("",t.configState),t.sessionId=t.disableBookmarking&&Math.floor(Math.random()*1e3+1)||""}function d(){u.$Do.iff("$History.detachAll"),i==u?lt():u.$Do.remove("$History",0,ft),n(i).unbind("unload",d)}function ft(){_innerWindow.History=u.History,u.History.initInstance(f),_innerWindow.$Do.register("$History",0,!0),_innerWindow.$Do.register("$History.attach",u.History.attach,!0),_innerWindow.$Do.register("$History.attachPF",u.History.attachPF,!0),_innerWindow.$Do.register("$History.navigateTo",u.History.navigateTo,!0)}function ht(i){n(t).bind(p,i),ti&&(vt(!0),a())}function ct(i){n(t).bind(g,i)}function lt(i){n(t).unbind(g,i)}function ii(i){n(t).unbind(p,i)}function at(){n(t).unbind(p)}function a(){if(!w){w=1;try{var n=b();(n!=r||s)&&it(n)}finally{w=0,s=0}}}function it(n){tt&&w&&(r!=n||s)&&wt(n);var i=v(r),t=v(n);i.pf!=t.pf?ui(t.pf,t.app):(!hi(i.app,t.app)||s)&&ri(t.app),r=b()}function ri(i){i=i?i:t.configHash,l=c(i).app,t.disableBookmarking&&l[et]!=t.sessionId&&(l=t.configState),o=1,n(t).trigger(p,l),o=0}function ui(i,r){o=1;var u=n.Event(g);u.pfState=r?[i,"#",r].join(""):i,n(t).trigger(u),u.result&&si(h(u.result,{})),o=0}function vt(n){s=!!n}function yt(n){typeof n=="string"&&(n=c(n).app);var t=c(r).pf;rt(h(t,n)),a()}function pt(n){var t=r;r=n,t!=r&&(rt(r,!0),tt&&wt(r))}function fi(n,i){var u,f,e;if(!o){typeof n=="string"&&(n=c(n).app),t.disableBookmarking&&(n[et]=t.sessionId),u=c(r),i&&(u.app={});for(f in n)u.app[f]=n[f];e=h(u.pf,u.app),pt(e)}}function ei(n){if(!o){var i=c(r).pf,t=h(n,{});pt(t)}}function oi(n,t){nt||(rt(t?ot:n),it(t?h(v(ot).pf,gt):n))}function wt(n){var i=_ge(dt).contentWindow.document;nt=1,setTimeout(function(){t.Inform=oi},0),i.open(),i.write(["<s","cript>","function _a(){",$Config.dl?"document.domain='"+$Config.d+"';":"","window['stateStr']='",escape(n),"';var ph=parent.History;if(ph&&ph.Inform){ph.Inform(unescape(window['stateStr']))}","}","<\/s","cript>","<body onload='_a()'><\/body>"].join("")),i.close(),nt=0}function b(){if(e)return i.history.state||"";var n=u.document.location.href,t=n.indexOf("#");return t==-1?"":n.substr(t+1)}function rt(n,t){e?(i.history.pushState(n,"",bt(n)),t&&(r=n)):(document.location.hash=ni+n,t&&(r=b()))}function si(n){if(e)i.history.replaceState(newHash,"",bt(newHash));else{var t=i.top.document.location;t.replace([t.protocol,"//",t.host,t.pathname,t.search,"#",n].join(""))}}function bt(n){var i="/",t=v(n);return t.pf&&(i=t.pf),t.app&&(i+="?"+t.app),i}function h(n,t){var i=y.serialize(t),r=i;return n&&(r=["!",n,i!=""?"!":"",i].join("")),r}function c(n){var t=v(n),i=t.app!=""?y.deserialize(t.app):{};return{pf:t.pf,app:i}}function v(n){var r,t,i;return n.indexOf("!")==0?(n=n.substr(1),i=n.indexOf("!"),i>-1?(r=n.substr(0,i),t=n.substr(i+1)):(r=n,t="")):t=n,{pf:r,app:t}}function hi(n,t){var i=y.deserialize(n),r=y.deserialize(t);return ci(i,r)}function ci(n,t){var i,r;for(i in n)if((n[i]||0)!==(t[i]||0))return!1;for(r in t)if((t[r]||0)!==(n[r]||0))return!1;return!0}var i=_innerWindow=window,t=History,y=$Utility,u=i,k,f,e,st;try{i.top.location.href&&(u=i.top)}catch(li){}if(k=i.$Config,f=k&&k.AjaxHistory,f&&f.xDomain&&(u=i),e=!1,window.location.search.toLowerCase().indexOf("repro899568=true")>-1)e=f&&f.nativeHistory&&!!(i.history&&i.history.pushState&&i.history.state!==undefined);else try{e=f&&f.nativeHistory&&!!(i.history&&i.history.pushState&&i.history.state!==undefined)}catch(li){e=!1}if(t.initInstance=ut,n(i).bind("unload",d),t.dispose=d,_innerWindow!=u){u.$Do.when("$History",0,ft);return}ut(f);var et="ajhs",p="NavigateEvent",g="PFEvent",kt=document.documentMode,dt=f&&f.id,l=t.configState,gt=l,ni=$B.BB_M5?"#":"",r=b(),ot=r,ti=f&&f.reportInitialState,nt,o,w,tt=$B.IE&&($B.V<8||kt<8),s=!1;t.forceNextNavigate=vt,t.attach=ht,t.attachPF=ct,t.detachPF=lt,t.detach=ii,t.detachAll=at,t.addNavigationStep=fi,t.addPFState=ei,t.navigateTo=yt,a(),e?i.onpopstate=function(n){var t=n.state||"";(t!==r||s)&&it(t)}:(st="onhashchange"in window&&!tt,st?i.onhashchange=a:setInterval(a,100)),$Do.register("$History",0,!0),$Do.register("$History.attach",ht,!0),$Do.register("$History.attachPF",ct,!0),$Do.register("$History.detachAll",at,!0),$Do.register("$History.navigateTo",yt,!0)}(window.originaljQuery||jQuery),function(){function r(n,t,i){var r=this;r.key=n,r.weight=t,r.order=i}function u(){function e(t,u,e){for(var p=[u].concat(u.split(" ")),s=new Array(t.length+2),d="(^|\\s"+(e?"|@":"")+(e?"":"|["+f.escapeRegex()+"]")+")",v,c,l,a,o=0;o<s.length;o++)s[o]=0;for(v=$B&&$B.IE&&$B.V<=8,o=0;o<p.length;o++)for(var w=p[o],b=n.accent.fold(v?t:n.japanese.map(t)).replace(new RegExp(d+"("+n.accent.fold(v?w:n.japanese.map(w)).escapeRegex()+")","ig"),"$1"+i+"$2"+r),k=0,h=0,y=0;(k=b.indexOf(i,h))!=-1;)for(h=b.indexOf(r,h+1),y+=2,c=k-y+2;c<h-y+1;c++)s[c+1]=1;for(l=[],o=1;o<s.length;o++)s[o]!=s[o-1]&&l.push(o-1);for(a=0,o=0;o<l.length;o++)a=l[o]+o,t=t.substr(0,a)+(o%2?r:i)+t.substr(a);return t}var t=this,u='<strong class="CL_Matched_Text t_elnk">',o="<\/strong>",i="",r="",f=" !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",s=new RegExp("["+f.escapeRegex()+"]","ig");t.accent=new function(){var t=this,n={a:/[\xE0-\xE4]/ig,e:/[\xE8-\xEB]/ig,i:/[\xED-\xEF]/ig,o:/[\xF3-\xF5]/ig,u:/[\xF9-\xFC]/ig,n:/\xF1/ig,y:/\xFF/ig,c:/\xE7/ig,s:/[\u015A-\u0161]/ig},i=/[\xE0-\xE4\xE8-\xEB\xED-\xEF\xF3-\xF5\xF9-\xFC\xF1\xFF\xE7\u015A-\u0161]/ig;t.fold=function(t){if(t.search(i)>=0){t=t.toLowerCase();for(var r in n)t=t.replace(n[r],r)}return t}},t.getSuffixStringsFor=function(n){var i=[],t=null,r=null;if(n)for(i.push(t=n.lTrim());(r=t.search(s))!=-1;)i.push(t=t.substring(r+1).lTrim());return i},t.isHighlighted=function(n){return n&&n.indexOf(u)-1},t.makeBold=function(t,f,s){var h=$B&&$B.IE&&$B.V<=8,c=!h&&n.korean.match(t)?n.korean.highlight(t,f):e(t,f,s);return c.encodeHtml().replace(new RegExp(i.encodeHtml(),"g"),u).replace(new RegExp(r.encodeHtml(),"g"),o)},t.japanese=new function(){function e(){var n=["(["],i;for(i in t)n.push(i);return n.push("])"),new RegExp(n.join(""),"g")}function o(){for(var t=["(["],n=0,r=i.length;n<r;n++)t.push(i[n]);return t.push("])"),new RegExp(t.join(""),"g")}var r=this,t={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z"},n={0:{val:"",regex:/^[\u304B]{1}[\u309B]{1}$/ig},1:{val:"",regex:/^[\u304D]{1}[\u309B]{1}$/ig},2:{val:"",regex:/^[\u304F]{1}[\u309B]{1}$/ig},3:{val:"",regex:/^[\u3051]{1}[\u309B]{1}$/ig},4:{val:"",regex:/^[\u3053]{1}[\u309B]{1}$/ig},5:{val:"",regex:/^[\u3055]{1}[\u309B]{1}$/ig},6:{val:"",regex:/^[\u3057]{1}[\u309B]{1}$/ig},7:{val:"",regex:/^[\u3059]{1}[\u309B]{1}$/ig},8:{val:"",regex:/^[\u305B]{1}[\u309B]{1}$/ig},9:{val:"",regex:/^[\u305D]{1}[\u309B]{1}$/ig},10:{val:"",regex:/^[\u305F]{1}[\u309B]{1}$/ig},11:{val:"",regex:/^[\u3061]{1}[\u309B]{1}$/ig},12:{val:"",regex:/^[\u3064]{1}[\u309B]{1}$/ig},13:{val:"",regex:/^[\u3066]{1}[\u309B]{1}$/ig},14:{val:"",regex:/^[\u3068]{1}[\u309B]{1}$/ig},15:{val:"",regex:/^[\u306F]{1}[\u309B]{1}$/ig},16:{val:"",regex:/^[\u3072]{1}[\u309B]{1}$/ig},17:{val:"",regex:/^[\u3075]{1}[\u309B]{1}$/ig},18:{val:"",regex:/^[\u3078]{1}[\u309B]{1}$/ig},19:{val:"",regex:/^[\u307B]{1}[\u309B]{1}$/ig},20:{val:"",regex:/^[\u306F]{1}[\u309C]{1}$/ig},21:{val:"",regex:/^[\u3072]{1}[\u309C]{1}$/ig},22:{val:"",regex:/^[\u3075]{1}[\u309C]{1}$/ig},23:{val:"",regex:/^[\u3078]{1}[\u309C]{1}$/ig},24:{val:"",regex:/^[\u307B]{1}[\u309C]{1}$/ig},25:{val:"",regex:/^[\u30AB]{1}[\u309C]{1}$/ig},26:{val:"",regex:/^[\u30AD]{1}[\u309C]{1}$/ig},27:{val:"",regex:/^[\u30AF]{1}[\u309C]{1}$/ig},28:{val:"",regex:/^[\u30B1]{1}[\u309C]{1}$/ig},29:{val:"",regex:/^[\u30B3]{1}[\u309C]{1}$/ig},30:{val:"",regex:/^[\u30B5]{1}[\u309C]{1}$/ig},31:{val:"",regex:/^[\u30B7]{1}[\u309C]{1}$/ig},32:{val:"",regex:/^[\u30B9]{1}[\u309C]{1}$/ig},33:{val:"",regex:/^[\u30BB]{1}[\u309C]{1}$/ig},34:{val:"",regex:/^[\u30BD]{1}[\u309C]{1}$/ig},35:{val:"",regex:/^[\u30BF]{1}[\u309C]{1}$/ig},36:{val:"",regex:/^[\u30C1]{1}[\u309C]{1}$/ig},37:{val:"",regex:/^[\u30C4]{1}[\u309C]{1}$/ig},38:{val:"",regex:/^[\u30C6]{1}[\u309C]{1}$/ig},39:{val:"",regex:/^[\u30C8]{1}[\u309C]{1}$/ig},40:{val:"",regex:/^[\u30CF]{1}[\u309B]{1}$/ig},41:{val:"",regex:/^[\u30D2]{1}[\u309B]{1}$/ig},42:{val:"",regex:/^[\u30D5]{1}[\u309B]{1}$/ig},43:{val:"",regex:/^[\u30D8]{1}[\u309B]{1}$/ig},44:{val:"",regex:/^[\u30DB]{1}[\u309B]{1}$/ig},45:{val:"",regex:/^[\u30CF]{1}[\u309C]{1}$/ig},50:{val:"",regex:/^[\uFF76]{1}[\uFF9E]{1}$/ig},51:{val:"",regex:/^[\uFF77]{1}[\uFF9E]{1}$/ig},52:{val:"",regex:/^[\uFF78]{1}[\uFF9E]{1}$/ig},53:{val:"",regex:/^[\uFF79]{1}[\uFF9E]{1}$/ig},54:{val:"",regex:/^[\uFF7A]{1}[\uFF9E]{1}$/ig},55:{val:"",regex:/^[\uFF7B]{1}[\uFF9E]{1}$/ig},56:{val:"",regex:/^[\uFF7C]{1}[\uFF9E]{1}$/ig},57:{val:"",regex:/^[\uFF7D]{1}[\uFF9E]{1}$/ig},58:{val:"",regex:/^[\uFF7E]{1}[\uFF9E]{1}$/ig},59:{val:"",regex:/^[\uFF7F]{1}[\uFF9E]{1}$/ig},60:{val:"",regex:/^[\uFF80]{1}[\uFF9E]{1}$/ig},61:{val:"",regex:/^[\uFF81]{1}[\uFF9E]{1}$/ig},62:{val:"",regex:/^[\uFF82]{1}[\uFF9E]{1}$/ig},63:{val:"",regex:/^[\uFF83]{1}[\uFF9E]{1}$/ig},64:{val:"",regex:/^[\uFF84]{1}[\uFF9E]{1}$/ig},65:{val:"",regex:/^[\uFF8A]{1}[\uFF9E]{1}$/ig},66:{val:"",regex:/^[\uFF8B]{1}[\uFF9E]{1}$/ig},67:{val:"",regex:/^[\uFF8C]{1}[\uFF9E]{1}$/ig},68:{val:"",regex:/^[\uFF8D]{1}[\uFF9E]{1}$/ig},69:{val:"",regex:/^[\uFF8E]{1}[\uFF9E]{1}$/ig},70:{val:"",regex:/^[\uFF8A]{1}[\uFF9F]{1}$/ig},71:{val:"",regex:/^[\uFF8B]{1}[\uFF9F]{1}$/ig},72:{val:"",regex:/^[\uFF8C]{1}[\uFF9F]{1}$/ig},73:{val:"",regex:/^[\uFF8D]{1}[\uFF9F]{1}$/ig},74:{val:"",regex:/^[\uFF8E]{1}[\uFF9F]{1}$/ig}},i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],u=e(),f=o();r.map=function(i){if(i.search(f)>=0){i=i.replace(u,function(n){return t[n]});for(var r in n)i=i.replace(n[r].regex,n[r].val)}return i}},t.korean=new function(){function u(n){return String.fromCharCode(n)}function p(){var n=["(["],t;for(t in f)n.push(t);return n.push("])"),new RegExp(n.join(""),"g")}var n=this,o=new RegExp("([\\uAC00-\\uD7AF])","g"),l=44032,s=4352,h=4449,c=4519,w=i,t=r,f={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},a=p(f),v=new RegExp("([\\u1100-\\u1112][\\u1161-\\u1175][\\u11A8-\\u11C2]{0,1})","g"),y=new RegExp("([\\u1100-\\u1112]"+t+"{0,1}[\\u1161-\\u1175]"+t+"{0,1}[\\u11A8-\\u11C2]{0,1})","g");n.expand=function(n){return n=n.replace(a,function(n){return f[n]}),n.replace(o,function(n){var t=n.charCodeAt(0)-l,i=Math.floor(t/588),f=Math.floor((t-i*588)/28),r=t%28;return u(i+s)+u(f+h)+(r?u(r+c):"")})},n.highlight=function(i,r){var f=e(n.expand(i),n.expand(r),0);return f.replace(y,function(n){return n.replace(t,"")+(n.match(t)?t:"")}).replace(v,function(n){var t=n.charCodeAt(0)-s,i=n.charCodeAt(1)-h,r=n.length>2?n.charCodeAt(2)-c:0;return u(t*588+i*28+r+44032)})},n.match=function(n){return n.match(o)}}}function f(t){function o(n){return function(t,i){for(var r=0,u=0;r<n.length&&!(u=n[r++](t,i)););return u}}function y(n,t){return r.compareParents(n.obj,t.obj)}function p(n,t){return n.bucket-t.bucket}function s(n,t){return v(n.obj,t.obj)}function w(n,t){return e(n.obj).length-e(t.obj).length}function b(n,t){return t.weight-n.weight}function k(n){for(var t=0,r;t<i.autoCompleteTokens.length;)r=h(i.autoCompleteTokens[t]),n.indexOf(r)==-1?i.autoCompleteTokens.splice(t,1):(n=n.replace(r,""),t++)}function h(n){return n}function c(n){return n=d(n),n.toLowerCase().trim().replace(a," ")}function d(n){for(var t=0;t<i.autoCompleteTokens.length;t++)n=n.replace(h(i.autoCompleteTokens[t]),"");return n}function l(t){var i=t;return $B&&$B.IE&&$B.V<=8||(i=n.korean.expand(n.japanese.map(t))),u.matchPrefix(n.accent.fold(i))}var i=this,u=null,f=[],a=/\s+/g,r=t,v=r.comparer,e=r.matchField;i.autoCompleteTokens=[],i.getMatches=function(n,t){var d,nt,f,it,st,ft;k(n);var g=c(n),h=[],v=null,u=null,i;if(g=="")return{result:[],query:n};for(v=l(g),i=0;i<v.length;i++)u=v[i],h.push({obj:u.obj,weight:e(u.obj).toLowerCase()==g?u.weight+1.5:u.weight,bucket:0});if(d=g.split(" "),d.length>1)for(i=0;i<d.length;i++)for(v=l(d[i]),nt=0;nt<v.length;nt++)u=v[nt],h.push({obj:u.obj,weight:u.weight-.1*Math.abs(i+1-u.order),bucket:i+1});if(f=[],h.length){it=r.compareParents?[y]:[],it.addRange([s,p]),h.sort(o(it));var a=null,tt=null,rt=null,ut=null,ht=d.length>1?d.length:0,et=function(n){a=n,tt=a.bucket,rt=tt==0?0:1},ot=function(){(!ut||r.isValid(ut.obj,a.obj))&&rt==ht&&f.push(ut=a)};for(et(h[0]),i=1;i<h.length;i++)u=h[i],s(a,u)?(ot(),et(u)):(a.weight=a.weight+u.weight,tt!=u.bucket&&(tt=u.bucket,rt++));ot()}for(st=r.finalSortFunction?r.finalSortFunction:w,f.sort(o([b,st])),f.length=Math.min(f.length,t),ft=new Array(f.length),i=0;i<f.length;i++)ft[i]=f[i].obj;return{result:ft,query:n}},i.normalizeTerm=function(t){return t=c(t),$B&&$B.IE&&$B.V<=8||(t=n.korean.expand(n.japanese.map(t))),n.accent.fold(t)},i.initialize=function(t,i,e){function c(){for(var w=Math.min(t.length,s+l),b,k,v,y,p,d,a=s;a<w;a++){for(b=t[a],k=r.getKeysAndWeights(b),i&&(o=[]),v=0;v<k.length;v++)y=k[v],p=y.key.toLowerCase().trim(),h||(p=n.korean.expand(n.japanese.map(p))),d=u.insert(n.accent.fold(p),{obj:t[a],weight:y.weight,order:y.order}),i&&o.push(d);i&&(f[r.getUniqueKey(b)]=o)}w<t.length?(s=w,setTimeout(c,h?0:100)):(u.sort(),e&&e())}u=u||new $Trie;var o=null,h=$B&&$B.IE&&$B.V<=8,l=e?100:t.length,s=0;c()},i.remove=function(n){var t,o,e,i,r,s;for(u=u||new $Trie,t=0,o=n.length;t<o;t++)if(e=n[t],i=f[e],i){for(r=0,s=i.length;r<s;r++)u.remove(i[r]);delete f[e]}}}var i=window,t=i.wLive,n;t.Search=t.Search||{},t.Search.RankSearchKeyWeight=r,n=t.Search.Helpers=new u,t.Search.Indexer=f,$Do.register("wlxsearchshared")}(),function(){var t=window.wLive,n=t.ContactList=t.ContactList||{};n.Controls=n.Controls||{},n.Core=n.Core||{}}(),function(){function e(u){function a(){var i,f,v,e,u,a,p,y;if(l&&(i=l.alphabet,i&&i.length>0)){for(c||(s.push(t),o[t]=-1),f=0;f<r.length;f++)for(v=r[f],e=v[0];e<=v[1];e++)o[String.fromCharCode(e)]=-1;for(u=0,a=0,p=i.length;a<p;a++)y=i[a],s.push(y),o[y]=++u;c?(s.push(t),o[t]=++u):s.push(n),o[n]=++u,h=u}}var e=this,o=[],s=[],h,c=u,l=i.$Config.ContactListV2;e.getAlphabetLetter=function(i){var r;return i?(r=i.substring(0,1).toUpperCase(),o[r]?(r>=" "&&r<="@"||r>="["&&r<="`"||r>="{"&&r<="~")&&(r=t):r=n):r=n,r},e.compareString=function(n,t,i){var r=o[e.getAlphabetLetter(n)]||h,u=o[e.getAlphabetLetter(t)]||h;return r>u?i?-1:1:r<u?i?1:-1:(n||"").localeCompare(t||"")},e.getAlphabet=function(){return s},e.getDigitsLetter=function(){return t},e.getNonAlphabetLetter=function(){return n},e.getFavoritesLetter=function(){return f},e.supportsAlphabet=function(){return s&&s.length>0},e.getLetterTitleAttr=function(t){return t!=n?t.encodeHtml():""},e.getLetterHtml=function(t){return t!==n?t.encodeHtml():'<span class="GlobeIcon cl_ImgStrip">&nbsp;<\/span>'},a()}var i=window,u=i.wLive,n="@",t="#",f="*",r=[[32,64],[91,96],[123,126]];u.ContactList.Core.AlphabetHelper=e}(),function(n){function s(n){var t=this;t._settings=n}function a(n){this._settings=n}function v(n){var t=this;t._settings=n}function y(n){var t=this;t._settings=n}var u=window,h=n,i=u.wLive=u.wLive||{},c=i.ContactList=i.ContactList||{},t=c.ViewModels=i.ContactList.ViewModels||{},p=c.Controls=i.ContactList.Controls||{},r=t.SearchablePropertyTypes={name:0,otherName:1,company:2,email:3};t.SearchableProperties=[{properties:["firstName","lastName"],type:r.name,prefixRank:[1.5,1]},{properties:["displayName","name","nickName","sortName","yomiFirstName","yomiLastName"],type:r.otherName,prefixRank:[1,.75]},{properties:["company","yomiCompanyName"],type:r.company,prefixRank:[1,.75]},{properties:["email"],type:r.email,prefixRank:[1,.75]}];var f=t.ContactType=new $Flags("Person",0,"Category",1,"Group",2,"PicwEmail",3),e=t.DisplayNameType=new $Flags("Nickname",0,"Email",1,"Phone",2),o="DisplayNameType",l;$Do.when("$pwc",0,function(){l=u.$pwc}),t.PersonFactory=s,s.prototype={createContacts:function(n){return this._getEmailContactsFromPerson(n)},_getEmailContactsFromPerson:function(n){for(var r=this._createCommonModelFromPerson(n),u=n.getContactEmails(),f=u.length,i=[],t=0;t<f;t++)i.push(this._createContactFromCommonModel(r,u[t]));return f===0&&this._settings.includePeopleWithoutEmails&&i.push(this._createContactFromCommonModel(r,"")),i},_createCommonModelFromPerson:function(n){function t(n){for(var r=[n.mobile,n.home,n.home2,n.work,n.work2],i=null,t=0,u=r.length;t<u;t++)if(i=r[t],i)break;return i}return{Id:n.getId(),Cid:n.getCid(),HexCid:n.getHexCid(),Name:n.getFullName(),Company:n.getCompanyName(),NickName:n.getNickname(),Phone:t(n.getPhones()),UserTile:n.getUserTile(),IsFavorite:n.getIsFavorite(),CategoryIds:n.getCategoryIds(),PwcObject:n}},_setDisplayAndSortNameWithFallback:function(n){var f=this._settings,t,r,u,i=n.PwcObject;if(t=n.Name){var s=l.names,h=i.getNameType(),c=i.isLastNameFirst(),k=!c&&f.sortOrder,a=!c&&f.displayOrder,v=i.getFirstName(),y=i.getLastName(),p=i.getYomiFirstName(),w=i.getYomiLastName(),b=!!(p||w),d=b?p:v,g=b?w:y;u=s.formatName(h,k?"sortNameReverse":"sortName",null,d,null,g,null),r=s.formatName(h,a?"displayNameReverse":"displayName",null,v,null,y,null),n.ReverseName=a}else(t=n.NickName)?n[o]=e.Nickname:(t=n.Company)?u=i.getYomiCompanyName():(t=n.Email)?n[o]=e.Email:!(t=n.Phone)||(n[o]=e.Phone);r=r||t,n.ListDisplayName=r,n.DisplayName=t,n.SortName=u?u.toLowerCase():r?r.toLowerCase():""},_createContactFromCommonModel:function(n,t){var r=h.extend({},n,{Email:t,Type:f.Person});return this._setDisplayAndSortNameWithFallback(r),new i.ContactList.ViewModels.Contact(r)}},t.DirectMessageFactory=a,a.prototype=h.extend({},s.prototype,{createContacts:function(n){return this._getEmailContactsFromPerson(n).concat(this._getFacebookContactsFromPerson(n))},_getFacebookContactsFromPerson:function(n){for(var r=this._createCommonModelFromPerson(n),i=n.getContacts(),u=[],t=0;t<i.length;t++)i[t].getSourceId()==="FB"&&(r.Id=i[t].getObjectId(),r.SourceId=i[t].getSourceId(),u.push(this._createContactFromCommonModel(r,GetString("live.shared.skydrive.pc.Sharing.FacebookContactEmail"))));return u}}),t.GroupFactory=v,v.prototype={createContacts:function(n){return[new i.ContactList.ViewModels.Contact(this._createModel(n))]},_createModel:function(n){var t=n.getName();return{Id:n.getId(),Cid:n.getCid(),HexCid:n.getHexCid(),Type:f.Group,DisplayName:t,ListDisplayName:t,SortName:t,PwcObject:n}}},t.CategoryFactory=y,y.prototype={createContacts:function(n){return[new i.ContactList.ViewModels.Contact(this._createModel(n))]},_createModel:function(n){var t=n.getName();return{Id:n.getId(),Type:f.Category,IsFavoriteCategory:n.getIsFavorite(),DisplayName:t,ListDisplayName:t,SortName:t,PwcObject:n}}}}(window.originaljQuery||jQuery),function(n){function e(t){function o(){i.model.PicwOrder===undefined&&(i.model.PicwOrder=r)}function u(t,r){return r===undefined?r=i.model[t]:n.observable(i.model).setProperty(t,r),r}function f(n){var t=i.pwcObject();return t&&t[n]?t[n]():null}var i=this;i.model=t,i.$model=n(i.model),i.type=function(){return u("Type")},i.isInPicw=function(){return i.picwOrder()<r},i.clientId=function(){return i.email()+":"+i.id()+":"+i.type()},i.id=function(){return u("Id")},i.cid=function(){return u("Cid")},i.hexCid=function(){return u("HexCid")},i.displayName=function(){return u("DisplayName")},i.listDisplayName=function(){return u("ListDisplayName")},i.name=function(){return u("Name")},i.company=function(){return u("Company")},i.yomiCompanyName=function(){return f("getYomiCompanyName")},i.nickName=function(){return u("NickName")},i.sortName=function(){return u("SortName")},i.firstName=function(){return f("getFirstName")},i.lastName=function(){return f("getLastName")},i.nameType=function(){return f("getNameType")},i.reverseName=function(){return!!u("ReverseName")},i.yomiFirstName=function(){return f("getYomiFirstName")},i.yomiLastName=function(){return f("getYomiLastName")},i.picwOrder=function(n){return u("PicwOrder",n)},i.email=function(){return u("Email")},i.sourceId=function(){return u("SourceId")},i.userTile=function(n){return u("UserTile",n)},i.isFavorite=function(){return u("IsFavorite")},i.isFavoriteCategory=function(){return u("IsFavoriteCategory")},i.categoryIds=function(){return u("CategoryIds")||[]},i.isSelected=function(n){return u("IsSelected",n)},i.pwcObject=function(){return u("PwcObject")},i.bindPropertyChange=function(n){i.$model.bind("propertyChange",n)},i.unbindPropertyChange=function(n){i.$model.unbind("propertyChange",n)},i.equals=function(n){return n instanceof e&&n.id()===i.id()},i.dispose=function(){i.$model.unbind()},o()}function c(){function t(n){return n.displayName()}function e(n){return i.Search.Helpers.getSuffixStringsFor(n)}function o(n,t,i,r){for(var o=e(t),h=i.length-1,f=0,s=o.length;f<s;f++)n.push(new u(o[f],i[Math.min(f,h)],r)),r++;return r}function s(n,t,i,r){n.push(new u(t,i||.75,1));var f="",e=t.split("@");e.length>0&&(f=e[e.length-1]),f&&n.push(new u(f,r||.5,1))}var n=this;n.matchField=function(n){return n.displayName()},n.getKeysAndWeights=function(n){for(var l=[],y=1,p=r-n.picwOrder()+100,u,d,e,g,c,t=0,w=f.length;t<w;t++){var i=f[t],tt=i.names||[],b=i.properties||[],nt=i.type,k=i.prefixRank,a=[p-(5-k[0]),p-(5-k[1])],v=[];for(u=0,d=b.length;u<d;u++)v.push(n[b[u]]());for(e=0,g=v.length;e<g;e++)c=v[e],c&&(nt===h.email?s(l,c,a[0],a[1]):y=o(l,c,a,y))}return l},n.autoComplete=function(n){return t(n)},n.isValid=function(){return!0},n.compareParents=null,n.comparer=function(n,t){var r=n.clientId(),u=t.clientId(),i=0;return r>u?i=1:r<u&&(i=-1),i}}var o=window,l=n,i=o.wLive,s=i.ContactList,t=s.ViewModels,r=1e6,h=t.SearchablePropertyTypes,f=t.SearchableProperties,a=t.ContactTypeToSchemaMap,u=i.Search.RankSearchKeyWeight;t.Contact=e,t.ContactsHelper=c}(window.originaljQuery||jQuery),function(n){function h(h){function y(){if(p){var n=st();a=n.contacts.sort(u.alphabeticalComparer),k=n.emailHash,it=n.idHash,rt=n.personsEmails,g=t.syncKey,ct(),c.$.triggerHandler(f.initialize)}else ot()}function ot(){p||w||(w=!0,ut=new l.personFactory(l),ft=new l.groupFactory(l),et=new l.categoryFactory(l),$Do.when("$pwc",0,function(){t=e.$pwc,t.callWhenReady(function(){p=!0,w=!1,y()})}))}function st(){var i={contacts:[],emailHash:{},idHash:{},personsEmails:{}},s=t.persons,f=t.groups,e=t.categories,h=l.personFilterFn,c=l.groupFilterFn,a=l.categoryFilterFn,n,o,r,u;if(l.includePeople)for(o=s.length;o--;)n=s[o],n.isHidden()||!l.includeMeContact&&n.isMe()||h&&!h(n)||d(n,i,ut);if(l.includeGroups)for(r=f.length;r--;)(!c||c(f[r]))&&d(f[r],i,ft);if(l.includeCategories)for(u=e.length;u--;)(!a||a(e[u]))&&d(e[u],i,et);return i}function d(n,t,i){for(var u=i.createContacts(n),u=r.isArray(u)?u:[u],f=0;f<u.length;f++)u[f].sortName()&&ht(u[f],t)}function ht(n,t){var u=t.emailHash,r=t.personsEmails,i=n.email();t.contacts.push(n),t.idHash[n.clientId()]=n,i&&(i=i.toLowerCase(),u[i]||(u[i]=n),r[n.id()]||(r[n.id()]=[]),r[n.id()].push(i))}function ct(){for(var t=[],o=a.clone(),s=v||[],f,r,e,n=0;n<s.length;n++)f=s[n].toLowerCase(),r=k[f],r?(r.picwOrder(n),(b===0||t.length<b)&&t.push(r)):l.createContactsFromUnmatchedPicwEmails&&(e=new i.ViewModels.Contact({Id:n,Type:i.ViewModels.ContactType.PicwEmail,DisplayName:"",Email:f,SortName:"",PicwOrder:n}),(b===0||t.length<b)&&t.push(e),o.push(e));nt=t,tt=o.sort(u.picwAlphaComparer)}var c=this;c.$=r(c);var l=r.extend({},s,h),g=null,a=[],nt=[],tt=[],v=l.picwEmails,it={},k={},rt={},p=!1,w=!1,ut,ft,et,b=l.maxPicwEntries;c.doWhenInitialized=function(n){if(p)n();else{var t=function(){c.$.unbind(f.initialize,t),n()};c.$.bind(f.initialize,t)}},c.dispose=function(){c.$.unbind()},c.reinitializeIfStale=function(){w||t.syncKey===g||y()},c.setPicwEmails=function(n){n.join(";")!==v.join(";")&&c.doWhenInitialized(function(){v=n,y()})},c.removePicwContact=function(n){var t=null,i;return n.isInPicw()&&(i=n.picwOrder(),t=v[i],t&&(v.splice(i,1),y())),t},c.getAlphabetHelper=function(){return o},c.getContactsByCategory=function(n){var t=[],i={};return r.each(a,function(u,f){var e=f.id();i[e]||r.inArray(n,f.categoryIds())===-1||(t.push(f),i[e]=!0)}),t},c.getContactByClientId=function(n){return it[n]},c.getContactByEmail=function(n){if(n)return k[n.toLowerCase()]},c.getContactByName=function(n){var t,i,r,u;if(n&&n!=="")for(n=n.toLowerCase(),t=0,i=a.length;t<i;t++)if(r=a[t].name()||"",u=a[t].displayName()||"",n===r.toLowerCase()||n===u.toLowerCase())return a[t]},c.getEmailsOfPerson=function(n){return rt[n]},c.getContacts=function(){return a.clone()},c.getPicwContacts=function(t,i){var r=nt.clone(),e,f,o,u;if(n.isArray(i)){for(e={},f=0;f<i.length;f++)e[i[f].clientId()]=i;for(o=[],u=0;u<r.length;u++)e[r[u].clientId()]||o.push(r[u]);r=o}return t&&t>0&&r.length>t&&(r=r.splice(0,t)),r},c.getMergedContacts=function(){return tt.clone()},y()}var e=window,r=n,c=e.wLive,o=new wLive.ContactList.Core.AlphabetHelper,t=null,i=c.ContactList,u=i.ViewModels.SortHelpers={alphabeticalComparer:function(n,t){return o.compareString(n.sortName(),t.sortName(),!1)},picwComparer:function(n,t){return n.picwOrder()-t.picwOrder()},picwAlphaComparer:function(n,t){var i=u.picwComparer(n,t);return i!==0?i:u.alphabeticalComparer(n,t)}},f,s;i.ViewModels.FlatContactsDataModel=h,f=h.Events={initialize:"initialize"},s={sortOrder:null,displayOrder:null,picwEmails:[],createContactsFromUnmatchedPicwEmails:!0,maxPicwEntries:0,includeMeContact:!0,includePeople:!0,includeGroups:!0,includeCategories:!0,includePeopleWithoutEmails:!1,personFilterFn:null,groupFilterFn:null,categoryFilterFn:null,personFactory:i.ViewModels.PersonFactory,groupFactory:i.ViewModels.GroupFactory,categoryFactory:i.ViewModels.CategoryFactory}}(window.originaljQuery||jQuery),function(n){function w(i,f,c,w,b,k){function oi(){ri=g.containerHeight||nt.innerHeight(),ui=g.containerWidth||nt.innerWidth(),ft=g.maxColumns!==0?g.maxColumns:Math.round(Math.floor(ui/vi)),ti=Math.round(Math.ceil(ri/ut)),yt=ti*ft,lt=yt*g.renderPages,fi=ti*g.renderPages*ut}function wi(){kt=!0}function bi(){kt=!1,gt(),d.render()}function ki(n,t){if(!ii){var i=t.change;if(i==="insert")it.processInsertedItems(t.index,t.items);else if(i==="remove")it.processRemovedItems(t.index,t.items);else if(i==="move")throw new Error("Move is not supported");else i==="refresh"&&di();kt||(gt(),d.render())}}function di(){for(var n=0,t=tt.length;n<t;n++)tt[n].remove();tt=[],vt=[],it.init(wt,tt,vt),gt(),d.render()}function dt(t){var i=n(t.target);return d.getItemForEvent(i)}function si(n){var t=dt(n);t.mouseover&&t.mouseover(n)}function hi(n){var t=dt(n);t.mouseout&&t.mouseout(n)}function ci(n){var t=dt(n);t.mousedown&&t.mousedown(n)}function li(n){var t=dt(n);t.click&&t.click(n)}function gt(){var t=st.innerHeight(),n=Math.ceil(tt.length/ft)*ut;t!=n&&nt.css({height:n+"px"})}function gi(){d.render()}function ai(){var r=rt.scrollTop()-bt,i=Math.floor(r/ut)*ft,e=Math.ceil(r/ut)*ft,n,t,f,u;return i===at||at===-1?(n=i,t=n+lt):i>at?(n=i,t=n+lt):i<at&&(t=i+yt,n=t-lt),t>tt.length&&(u=t-tt.length,t-=u,n-=u),n<0&&(n=0),at=i,pt&&(f=pt>r?-1:pt<r?1:0),pt=r,{startIndex:n,endIndex:t,firstVisibleIndex:e,scrollTop:r,dir:f}}var d=this,et,nt,rt,ni,st,ct;d.$=n(this),u++,et=l+u,nt=i,rt=k?k:i.parent(),ni=document.createElement("ul"),nt.append(ni),nt.css("overflow","hidden"),st=n(ni),st.attr("role","listbox").prop("id",et.replace(/\W/g,"_")),sutra(st,b||"$Sutra.Shared.ContactsList");var g=n.extend({height:51,width:100,padding:{top:0,right:0,bottom:0,left:0},renderPages:3,maxColumns:1,itemClass:"",alphabetHelper:null,fadeBackground:!0},w||{}),ut=g.height+g.padding.top+g.padding.bottom,vi=g.width+g.padding.left+g.padding.right,ri,ui,ft,ti,yt,lt,fi,yi=-1,at=-1,pt,ii=!1,wt=f,ot="."+g.itemClass,pi="li"+ot,bt=-1,ht,tt=new Array(wt.length),vt=[],ei=c,it,kt=!1;oi(),it=g.letterHeader&&g.alphabetHelper?new t.ContactList.Controls.LetterHeaderGridLayout(d,rt,ei,g.alphabetHelper,g.fadeBackground):new t.ContactList.Controls.ListGridLayout(d,ei),it.init(wt,tt,vt),gt(),rt.bind(a+et,gi),ct=n([wt]),ct.bind(v+et,ki),ct.bind(y+et,wi),ct.bind(p+et,bi),g.supportsHover&&(nt.delegate(ot,o,si),nt.delegate(ot,s,hi)),nt.delegate(ot,e,ci),nt.delegate(ot,h,li),d.isVisible=function(n){if(kt)return!1;ht=ht||ai();var t=Math.floor(ht.startIndex/ft)*ut;return n>=t&&n<=t+fi},d.hide=function(){nt.hide()},d.closeLetterPicker=function(){it&&it.closeLetterPicker&&it.closeLetterPicker()},d.show=function(){nt.show()},d.setVisibility=function(n){rt.css("overflow",n?"auto":"hidden"),nt.css("visibility",n?"visible":"hidden")},d.createTile=function(t,i,u,f,e,o){var s=[],c,a,l,h;if(s.push('<li id="'),s.push((et+t).replace(/\W/g,"_").encodeHtmlAttribute()),s.push('" role="option" class="'),s.push(g.itemClass),e)for(c=0,a=e.length;c<a;c++)s.push(" "),s.push(e[c]);if(s.push('" style="top:'),s.push(i),s.push("px; left:"),s.push(u),s.push("px"),o)for(l in o)l&&(s.push(";"),s.push(l),s.push(":"),s.push(o[l]));return s.push('" data-'),s.push(r),s.push('="'),s.push(t.encodeHtmlAttribute()),s.push('">'),s.push(f),s.push("<\/li>"),h=n(s.join("")),h.data(r,t),sutra(h,"$Sutra.Shared.ContactsListItem"),st.append(h),h},d.getTileCount=function(){return tt.length},d.getTileCountPerPage=function(){return yt},d.getTile=function(n){return n<tt.length?tt[n]:null},d.getTileIndex=function(n){for(var t=tt.length-1;t>=0;t-=1)if(tt[t]===n)return t;return-1},d.getAriaListId=function(){return st.prop("id")},d.resize=function(){oi(),d.render(),it.resize()},d.getScrollData=function(){return ht},d.render=function(){var u;bt<0&&(bt=nt.offset().top-rt.offset().top),ht=ai();var n=ht.startIndex,i=0,r=Math.floor(n/ft)*ut,t=n,f,e=tt.length,o=ht.scrollTop;if(it.onRender)it.onRender(n,r,i);for(u=0;u<lt;u++)t<e&&(f=t%ft,t!=n&&(f==0?(r+=ut,i=0):i+=g.width),tt[t++].render(t,r,i,o));yi=n},d.scrollTo=function(n){var t=Math.floor(n/ft)*ut;rt.scrollTop(t)},d.isItemVisible=function(n){var t=Math.floor(n/ft)*ut,i=rt.scrollTop()-bt;return i<=t&&t+ut<=i+rt.height()},d.getItemForEvent=function(n){var t=n.closest(pi),i=t.data(r);return vt[i]},d.dispose=function(){ii||(ii=!0,d.closeLetterPicker(),it.dispose(),rt.unbind(et),g.supportsHover&&(nt.undelegate(ot,o,si),nt.undelegate(ot,s,hi)),nt.undelegate(ot,e,ci),nt.undelegate(ot,h,li),nt.empty(),ct.unbind(et),d.$.unbind(),vt=tt=nt=rt=st=it=ct=d=d.$=null)}}function b(n,r,u,e,o){function y(n){return e.getAlphabetLetter(n.sortName())}function d(){l.setVisibility(!0)}function g(n,t){l.setVisibility(!0),l.scrollTo(s.indexOf(h[i(t.letter)])),setTimeout(function(){l.$.triggerHandler("clickLetter",t)},0)}function b(n){var r=new t.ContactList.Controls.LetterGridTile(i(n),n,l,c,e);return h[r.uniqueId]=r,r}function k(n,i){for(var u=-1,r=n,f=s.length;r<f;r++)if(!(s[r]instanceof t.ContactList.Controls.LetterGridTile)&&s[r].itemEquals(i)){u=r;break}return u}var c=this,l=n,a,s,h,p,w=u,v=new t.ContactList.Controls.LetterPicker(r,e,o);v.$.bind("letterClick",g),v.$.bind("close",d),c.showLetterPicker=function(){var t,r,n,u;for(l.setVisibility(!1),t=e.getAlphabet(),r=[],n=0,u=t.length;n<u;n++)h[i(t[n])]&&r.push(t[n]);v.show(r)},c.closeLetterPicker=function(){v.close()},c.init=function(n,t,i){var r,k,u,f;if(a=n,s=t,h=i,p=n.length,a.length>0){var e=-1,o,c=0,v=0;for(r=0,k=a.length;r<k;r++)u=y(a[r]),e!=u&&(e=u,o=s[c++]=b(u,v),v+=2),f=w.createTile(l,a[r]),s[c++]=f,h[f.uniqueId]=f,o.itemsCount++}},c.onRender=function(){},c.processInsertedItems=function(n,t){var o=[],g="",v,r,u,nt,e,d,c;for(v=a.length>0&&n<p-1?n===0?0:k(n,a[n-1])+1:s.length,u=0,nt=t.length;u<nt;u++)e=y(t[u]),e!=g&&(r=h[i(e)],g=e,r?(d=s.indexOf(r),d>=v&&(o.push(r),s.splice(d,1))):(r=b(e,0),o.push(r))),c=w.createTile(l,t[u]),o.push(c),h[c.uniqueId]=c,r.itemsCount++;f.apply(s,[v,0].concat(o))},c.processRemovedItems=function(n,t){for(var o,f,c,u,r=0,e=t.length;r<e;r++)o=k(n,t[r]),f=s.splice(o,1),f[0].remove(),delete h[f.uniqueId],c=y(t[r]),u=h[i(c)],--u.itemsCount==0&&(u.remove(),s.splice(s.indexOf(u,n),1),delete h[u.uniqueId])},c.resize=function(){v.resize()},c.dispose=function(){v.dispose()}}function i(n){return n}function k(n,t){var r=this,o=n,e,i,u;r.init=function(n,r,f){var s,c,h;for(e=n,i=r,u=f,s=0,c=e.length;s<c;s++)h=t.createTile(o,e[s]),i[s]=h,u[h.uniqueId]=h},r.processInsertedItems=function(n,r){for(var h=[],s,e=0,c=r.length;e<c;e++)s=t.createTile(o,r[e]),h.push(s),u[s.uniqueId]=s;f.apply(i,[n,0].concat(h))},r.processRemovedItems=function(n,t){for(var f=i.splice(n,t.length),r=0,e=f.length;r<e;r++)delete u[f[r].uniqueId],f[r].remove()},r.resize=function(){},r.dispose=function(){var t,n;if(i&&(t=i.length))for(n=0;n<t;n++)delete u[i[n].uniqueId],i[n].remove(),i[n]=null}}var c=window,t=c.wLive,l=".VirtualizedGrid",u=0,r="unique-id",f=[].splice,e="mousedown",o="mouseover",s="mouseout",h="click",a="scroll",v="arrayChange",y="beginBatchUpdate",p="endBatchUpdate";t.ContactList.Controls.VirtualizedGrid=w,t.ContactList.Controls.LetterHeaderGridLayout=b,t.ContactList.Controls.ListGridLayout=k}(window.originaljQuery||jQuery),function(n){function e(f,e,o){function y(){o&&h.addClass(i),c.addClass(i)}function p(){s.close()}function k(i){for(var r=[],f,u=0,o=a.length;u<o;u++)f=a[u],r.push('<div class="Letter '),i.indexOf(f)!==-1?r.push("Enabled t_bci"):r.push("Disabled"),r.push('" title="'+f.encodeHtml()+'">'),r.push(e.getLetterHtml(f)),r.push("<\/div>");l.html(r.join("")),t.$Sutra&&n(".Letter",l).each(function(){sutra(n(this),"$Sutra.Shared.ContactsLetterPickerLetter")})}function w(t){y();var i=n(t.target).closest(".Letter").attr("title");s.$.triggerHandler("letterClick",{letter:i})}function b(){var n=f.offset();return{top:n.top,left:n.left,width:f.innerWidth(),height:f.innerHeight()}}var s=this,a,v,h,c,l;s.$=n(s),a=e.getAlphabet(),v=n("body"),o&&(h=n(u).addClass(i).addClass("UI_Dialog_BG").css({position:"absolute",width:n(t).width(),height:n(t).height()}).appendTo(v)),c=n(u).addClass(i).addClass("LetterPickerContainer").css(n.extend({overflow:"auto",position:"absolute"},b())).appendTo(v),l=n(u).addClass("LetterPicker"),sutra(c,"$Sutra.Shared.ContactsLetterPicker"),c.append(l),l.delegate(".Enabled",r,w),o&&h.bind(r,p),s.show=function(n){k(n),s.resize(),o&&h.removeClass(i),c.removeClass(i)},s.close=function(){y(),s.$.triggerHandler("close",null)},s.resize=function(){o&&h.css({width:n(t).width(),height:n(t).height()}),c.css(b())},s.dispose=function(){s.$.unbind(),l.undelegate(".Enabled",r,w),o&&(h.unbind(r,p),h.remove()),c.remove()}}var t=window,f=t.wLive,i="Hidden",u="<div>",r="click";f.ContactList.Controls.LetterPicker=e}(window.originaljQuery||jQuery),function(n){function i(n,t,i,r,u){var f=this;f._letter=t,f._grid=i,f.uniqueId=n,f._layout=r,f._alphabetHelper=u}var t=window,r=t.wLive;r.ContactList.Controls.LetterGridTile=i,i.prototype={uniqueId:null,_grid:null,_$container:null,_layout:null,_top:-1,_left:-1,_letter:"",itemsCount:0,render:function(n,i,r){var u=this;u._$container?((i!==u._top||r!==u._left)&&(u._$container.css({top:i+"px",left:r+"px"}),u._top=i,u._left=r),u._renderUpdates()):(u._onBeforeRender(),u._$container=u._grid.createTile(u.uniqueId,i,r,u._getHtml(),u._getCssClasses(),u._getStyles()),u._top=i,u._left=r,t.$Sutra&&u._setupSutraTags())},_onBeforeRender:n.noop,_renderUpdates:n.noop,_getHtml:function(){var n=this;return'<div class="Letter t_bci">'+n._alphabetHelper.getLetterHtml(n._letter)+"<\/div>"},_setupSutraTags:function(){var t=this;sutra(n(".Letter",t._$container),"$Sutra.Shared.ContactsListLetterTile")},_getCssClasses:n.noop,_getStyles:n.noop,click:function(){var n=this;n._layout.showLetterPicker()},remove:function(){var n=this;n._$container&&(n._$container.empty(),n._$container=null),n.dispose()},dispose:n.noop}}(window.originaljQuery||jQuery),function(){var t=window,i=t.wLive,n={};i.cpThrottle=function(t,i,r){n[t]&&clearTimeout(n[t]),n[t]=setTimeout(function(){r(),delete n[t]},i)}}(),$Do.register("WLXContactListV2"),window.define)for(files=["SearchShared.js","Namespaces.js","AlphabetHelper.js","Factory.js","Contact.js","FlatContactsDataModel.js","VirtualizedGrid.js","LetterPicker.js","LetterGridTile.js","ContactListThrottle.js","ContactListRegister.js"],x=0;x<files.length;x++)define(files[x],[],function(){});window.JSDownload_contactlistv2=1,function(n){registerNamespace("$UI"),window.$UI.Dialog=function(t,i,r,u,f,e){function d(){if(v){var t=v.style,n=$B.IE&&$B.V==7?tt.offsetLeft/100:1;n==0&&(n=1),$B.IE&&$B.V==6&&(t.width=nt.scrollWidth-3+"px",t.pixelTop=Math.max(0,nt.scrollTop/n)),t.pixelHeight=p.clientHeight/n,t.pixelWidth=p.clientWidth/n}}function et(n){var t;t=n.target==b?$UI.Dialog.findFocusableElement(o,k,!1):$UI.Dialog.findFocusableElement(o,b,!0),t&&setTimeout(function(){try{t.focus()}catch(n){}},0)}function st(){n(window).bind({"resize.ext":ut,"scroll.ext":ut})}function ut(){n(window).unbind(".ext",ut),s.recalc(!1),st()}function ht(){var i,n,r,t;if($B.IE&&$B.V<7)for(h=a.getElementsByTagName("select"),i=o.getElementsByTagName("select"),n=0;n<h.length;n++){for(r=!1,t=0;t<i.length;t++)if(h[n]==i[t]){r=!0;break}r||(h[n].wlppHide=h[n].style.visibility,h[n].style.visibility="hidden")}}var ft=window;f&&(ft=f);var a=ft.document||ft.ownerDocument,g=a.body,p=a.documentElement,nt=$B.RE_WebKit?g:a.documentElement,ot=g.className.indexOf("rtl")>-1,v,tt,s=this,c=n(),y=n(),o=null,w=null,b,k,h,rt,it=null,l=null;this.dock=new $UI.Dialog.Rect(0,0,0,0),i&&i<5&&(i=5),u=u?" "+u:"",this.dispose=function(){rt=!0,it&&(n(window).unbind("resize",it),it=null),l&&(n(window).unbind("focus",l),l=null),c.remove(),c=n(),y.remove(),y=n(),h=null,v=null,tt=null,b=null,k=null,n(window).unbind(".ext",ut)},this.setContents=function(i){var l,f,r,s,h,v;return c.remove(),c=n(),o=i,l=o.parentNode,(null==l||null==l.tagName)&&(g.appendChild(o),c=c.add(n(o))),f={"aria-hidden":"true"},r=null,$B.RE_WebKit?r="input":(r="a",f.href="#"),b=a.createElement(r),k=a.createElement(r),s=n(b).attr(f).css("position","absolute"),h=n(k).attr(f).css("position","absolute"),(e===undefined||e)&&(s.bind("focus",et),h.bind("focus",et)),c=c.add(s),c=c.add(h),n(o).prepend(s).append(h),$B.RE_WebKit&&(v="-10000px",ot?k.style.right=b.style.right=v:k.style.left=b.style.left=v),o.style.position="absolute",o.className+=u,!t&&$B.IE&&$B.V<7&&(w=new $UI.FramePopup),st(),o},this.recalc=function(t){var e,u,l,h,c,f;o&&(d(),e=n(o),r||(u=$UI.Dialog.getLocation(o),(!u||u.isEmpty())&&(l={visibility:e.css("visibility")||"visible",display:e.css("display")||"auto"},e.css({visibility:"hidden",display:"block"}),u=$UI.Dialog.getLocation(o),e.css(l)),s.dock||(s.dock=new $UI.Dialog.Rect(0,0,0,0)),h=p.clientWidth/2-u.width/2,ot?(s.dock.x=Math.min(h,-25-(u.width-p.clientWidth)),$B.RE_WebKit&&(s.dock.x+=nt.scrollWidth-p.clientWidth)):s.dock.x=Math.max(h,25),t&&(c=p.clientHeight-u.height-3,s.dock.y=nt.scrollTop+Math.min(Math.max(c>200?c:(p.clientHeight-u.height)/2,0),100)),s.dock.height=u.height,s.dock.width=u.width),f=null,s.dock.y!==null&&(f={top:s.dock.y}),s.dock.x!==null&&(f=f||{},f.left=s.dock.x),f&&e.css(f),w&&w.positionAt(s.dock,i?1e3:i-2))},this.show=function(r,f,h){function b(){try{(r?r:$UI.Dialog.findFocusableElement(o)).focus()}catch(n){}}var p,w,c;s.recalc(!0),p=n(o),p.show(),i&&p.css("z-index",i),t&&(v=a.createElement("div"),ht(),tt=a.createElement("div"),w=n(tt).addClass("UI_Dialog_ZoomTest"+u),l=function(n){return n.stopImmediatePropagation(),!1},c=n(v).attr("id","UI_Dialog_BG").addClass("UI_Dialog_BG"+u).bind({click:l,mousedown:l,keydown:l,keypress:l,dblclick:l}),(e===undefined||e)&&c.bind("focus",et),i&&c.css("z-index",i-1),g.appendChild(v),g.appendChild(tt),it=function(){setTimeout(d,0)},n(window).bind({resize:it,focus:l}),y=y.add(c),y=y.add(w),d()),f||(h=h||n.when(),h.then(function(){setTimeout(b,10)}))},this.hide=function(){if(y.remove(),y=n(),$B.IE&&$B.V<7&&h){for(var t=0;t<h.length;t++)typeof h[t].wlppHide!="undefined"&&(h[t].style.visibility=h[t].wlppHide);h=null}},this.minimize=function(){if(w&&w.minimize(),o.style.visibility="hidden",t){if(v.style.display="none",h)for(var n=0;n<h.length;n++)h[n].style.visibility=h[n].wlppHide;d()}d()},this.restore=function(){o.style.visibility="visible",w&&w.restore(),s.recalc(!0),t&&(v.style.display="block",ht(),d())}},window.$UI.Dialog.Rect=function(n,t,i,r){return new function(){var u=this;this.x=n,this.y=t,this.width=i,this.height=r,this.isEmpty=function(){return u.width<=0||u.height<=0}}},window.$UI.Dialog.findFocusableElement=function(t,i,r){function o(t){var i=n(t),u=i.attr("tabindex"),r;return u==="-1"?!1:i.is(".CloseX")&&i.is(":visible")&&i.parents(":hidden").length===0?!0:(r="|BUTTON|TEXTAREA|FIELDSET|IFRAME|SELECT|",t.tagName&&!t.disabled&&(r.indexOf("|"+t.tagName+"|")>-1||t.tagName=="A"&&t.href&&t.className.indexOf("CloseX")==-1||t.tagName=="INPUT"&&t.type.toLowerCase()!="hidden"&&(!$B.Firefox||t.type.toLowerCase()!="file"))&&n(t).is(":visible"))}function u(n){if(!n)return null;for(var t=r?n.nextSibling:n.previousSibling;t&&t.nodeType!=1;)t=r?t.nextSibling:t.previousSibling;return t?t:u(n.parentNode)}function f(t,i){var f=i;if(f&&(f==t||n.contains(t,f)))while(f!=null){if(o(f))return f;f=r&&f.firstChild?f.firstChild:!r&&f.lastChild?f.lastChild:u(f)}return null}i=i?u(i):t;var e=f(t,i);return!e&&i&&i!=t?f(t,t):e},window.$UI.Dialog.getLocation=function(n){if(!n)return new $UI.Dialog.Rect(0,0,0,0);for(var i=0,r=0,t=n;t;)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return new $UI.Dialog.Rect(i,r,n.offsetWidth,n.offsetHeight)},window.$UI.Popover=function(){function nt(){try{d.focus()}catch(n){}}function g(){var i=t.modal?$B.IE?n("body"):n(window):n(u);$B.IE?i.bind("keypress.showhide",a):i.bind("keydown.showhide",a),p=p.add(i)}function tt(){var i=t.modal?$B.IE?n("body"):n(window):n(u);i.unbind(".showhide",a)}function it(t,i,r,u){var e,f;n("<span />").text(" ").appendTo(n(v)),e=_ce("div"),n(e).html('<button id="popover_btn_{0}" type="{1}" />'.format(t,r?"submit":"button")),f=n(e.firstChild).toggleClass("Default",r).html("<nobr>"+i+"<\/nobr>").bind("click",function(n){w(t),n.stopPropagation()}),y=y.add(n(f)),!r&&u&&(o=t),s[t]=f,n(f).appendTo(n(v))}function a(n){switch(n.which){case 27:w(o?o:"$cancel"),n.stopPropagation()}}function w(n){var i=!0;k&&(i=k(t,n)),i&&t.hide()}function rt(){function i(t,i){if(t){var r=n(i);typeof t=="string"?r.html(t):r.html("").append(t)}}if(n(h).toggle(t.showHeader),n(l).toggle(t.showFooter),n(e).toggle(t.showCloseX).bind("click",function(){return w(o?o:"$cancel"),!1}),t.showCloseX){var r=GetString("live.shared.skydrive.pc.Sharing.Close");n(e).append(wLive.Core.ImageStrip.getImage("close",r,r))}t.bodyPadding||n(c).css("padding","0px"),i(t.header,b),i(t.body,c)}this.header=null,this.body=null,this.footerText=null,this.width=300,this.bodyPadding=!0,this.showHeader=!0,this.showFooter=!0,this.modal=!1,this.showCloseX=!1,this.zIndex=null,this.dispose=function(){i&&(i.dispose(),i=null)},this.addButton=function(n,t,i,r){f.push({name:n,value:t,isDefault:i,isCancel:r})},this.show=function(a,y,p,w){var ft,tt,ut,nt;if(!r){if(k=a,d=y,!i){for(i=new $UI.Dialog(t.modal,t.zIndex),u=_ce("div"),ft=n(u).hide().html('<a href="#"><\/a><div><h3><\/h3><\/div><div><\/div><div><nobr><\/nobr><\/div>'),i.setContents(u),g(),ft.addClass("UI_Popover"),tt=u.childNodes,e=tt[1],h=tt[2],c=tt[3],l=tt[4],b=h.firstChild,v=l.firstChild,n(e).addClass("CloseX"),n(h).addClass("Header"),n(c).addClass("Body"),n(l).addClass("Footer"),t.width!=null&&(ut=t.width,ft.css("width",parseInt(ut,10)==ut?ut+"px":ut)),o=null,s=[],nt=0;nt<f.length;nt++)it(f[nt].name,f[nt].value,f[nt].isDefault,f[nt].isCancel);f.length==0&&(t.showFooter=!1),rt()}i.show(p?s[p]:null,w),r=!0}},this.hide=function(){if(r){d&&setTimeout(nt,10);try{n(e).unbind("click"),p.unbind(".showhide",a),p=n(),y.remove(),y=n(),i.hide(),this.dispose()}catch(t){}r=!1,u=e=h=l=c=b=v=s=null}},this.enableButton=function(t){n(s[t]).attr("disabled",!1)},this.disableButton=function(t){n(s[t]).attr("disabled",!0)},this.recalc=function(){r&&i&&i.recalc(!1)},this.minimize=function(){i&&r&&(i.minimize(),tt())},this.restore=function(){i&&r&&(i.restore(),g())};var r=!1,i,t=this,h,c,l,e,b,v,o,s,y=n(),p=n(),u,f=[],k=null,d=null}}(window.originaljQuery||jQuery),$UI.MsgBoxEx=function(n,t,i,r,u,f,e,o,s){var a="ok",v="cancel",h=new $UI.Popover,p=_ce("div"),w=function(n,t){var i=!0;return t==a?u({Popover:n})==!1&&(i=!1):t!=v||!f||f(),i&&(h=null),i},c,y,l;if(e)for(c=temp=e,y=0;y<10&&temp;y++){if(l=temp.tagName&&temp.tagName.toLowerCase(),l=="a"||l=="button"||l=="input"){c=temp;break}if(temp=temp.parentElement,!temp){c=null;break}}return t&&(p.innerHTML='<div style="margin-bottom:10px">'+t+"<\/div>"),h.width=o?o:"416px",h.header=n,h.body=p,h.modal=!0,i!=!1&&h.addButton(a,i,!0,!1),r!=!1&&h.addButton(v,r,!1,!0),h.show(w,c,s?v:a),h},$UI.MsgBox=function(n,t,i,r,u,f){$UI.MsgBoxEx(n,t,i,r,f,null,u,null,!1)},function(n,t){"use strict";var i=t;t.simpleCallbacks=function(){var n=[];return{fire:function(){for(var i=n,t=0;t<i.length;t++)i[t].apply(this,arguments)},add:function(t){n=n.slice(0),n.push(t)},remove:function(t){n=i.grep(n,function(n){return n!==t})},empty:function(){n=[]}}}}(this,window.originaljQuery||window.jQuery);
/*! jsObservable: http://github.com/BorisMoore/jsviews */
(function(n,t,i){"use strict";function v(n,r,u,e){var s,o,h,c;n=f(n)?n[0]:n;var v=u?{eventType:r,namespace:u}:ht(r),l=v.eventType,p=v.namespace,w=tt[l],a=n[y.expando];if(a&&(s=a.events,s&&(o=s[l],o&&o.length))){for(h=o.length-1;h>=0;--h)c=o[h],(p===i||bt(p,c.namespaceParts))&&(e===i||e===c.handler)&&(w.remove.call(n,c),o.splice(h,1));o.length||(delete s[l],t.isEmptyObject(s)&&delete a.events)}}function wt(n,t,r){v(n,t,i,r)}function bt(n,t){var u,i,r;if(!t)return!1;for(u=n.split("."),i=!0,r=0;i&&r<u.length;r++)u[r]&&(i=i&&t[u[r]]);return i}function ht(n){var i=n,r="",t=n.indexOf(".");return t>-1&&(i=n.substr(0,t),r=n.substr(t+1)),{eventType:i,namespace:r}}function kt(n,t,r){rt(n,t,i,i,r)}function rt(n,t,i,r,u){var o;n=f(n)?n[0]:n;var s=n[y.expando]=n[y.expando]||{},h=s.events=s.events||{},c=ht(t),e=c.eventType,l=c.namespace,p=h[e]=h[e]||[],a={},v=l.split(".");for(o=0;o<v.length;o++)a[v[o]]=!0;p.push({namespace:l,namespaceParts:a,data:r,handler:u,type:e,origType:e,selector:i})}function k(n,t,i){var o,s,r,u,e;if(n=f(n)?n[0]:n,o=n[y.expando],o&&(s=o.events,s&&(r=s[t],r)))for(u=0;u<r.length;u++)e=r[u],e.handler.call(n,{data:e.data,type:t,handleObj:e,target:n},i)}function u(n){return f(n)?new ft(n):new ut(n)}function ut(n){return this._data=n,this}function ft(n){return this._data=n,this}function c(n){return f(n)?[n]:n}function d(n){if(typeof n!="number")throw"Invalid index.";}function ct(n,t){n=f(n)?n:[n];for(var i,u=t,o=u,h=n.length,r=[],s=0;s<h;s++){if(i=n[s],e(i)){p.apply(r,[r.length,1].concat(ct(i.call(t,t),t)));continue}else if(""+i!==i){t=o=i,o!==u&&r.push(u=o);continue}o!==u&&r.push(u=o),r.push(i)}return r}function lt(n,t){var r,i;for(r in n){i=!0;break}i||delete b[t]}function dt(n,t){if(!(n.data&&n.data.off)){var r=t.oldValue,i=n.data;n.type===a?i.cb.array(n,t):(i.prop==="*"||i.prop===t.path)&&(typeof r===w&&nt(c(r),i.path,i.cb),typeof(r=t.value)===w&&o(c(r),i.path,i.cb),i.cb(n,t))}}function gt(n,t,i,r,u,f,e){return n._ob=e(n,i),function(){var s=n._ob,h=t.length;typeof s===w&&(g(s,r,u,f,!0),h&&nt(c(s),t,r,e,i)),s=n._ob=e(n,i),typeof s===w&&(g(s,r,u,f),h&&o(c(s),t,r,e,i))}}function g(n,t,r,u,e){t&&t.array&&f(n)&&et(a+".observe.obs"+t._bnd,i,n,t,r,u,!0,e)}function et(n,i,r,u,f,e,o,s){var w=st(r),b=c(r),h,p,y;if(s)w&&v(b,n);else{if(h=w&&t._data(r))for(h=h&&h.events,h=h&&h[o?a:l],p=h&&h.length;p--;)if((y=h[p].data)&&y.cb===u){if(o)return;i==="*"&&y.prop!==i&&v(r,n+"."+y.prop)}rt(b,n,null,o?{cb:u}:{path:i,prop:f,cb:u},dt),e&&(e[t.data(r,"obId")||t.data(r,"obId",yt++)]=r)}}function o(){var d,l,n,u,tt,r,s,f,it,vt,rt,a,ut,yt,ft,ht,bt,kt=1,wt=ot,h=at.apply([],arguments),y=h.pop(),w=h[0],nt=""+w!==w?h.shift():i,k=h.length;for(w=nt,e(y)?f=y:(y===!0?s=y:y&&(w=y,kt=0),y=h[k-1],(k&&y===i||e(y))&&(f=h.pop(),k--)),e(h[k-1])&&(ut=f,f=h.pop(),k--),wt+=s?f?".obs"+f._bnd:"":".obs"+(it=f._bnd=f._bnd||pt++),s&&k===0&&nt&&v(nt,ot),s||(ft=b[it]=b[it]||{}),ht=0,d=0;d<k;d++){if(u=h[d],g(r,f,n,s),r=nt,""+u===u){if(l=u.split("^"),l[1]&&(ht=l[0].split(".").length,u=l.join("."),ht=u.split(".").length-ht),ut&&(yt=ut(u,nt))){k+=yt.length-1,p.apply(h,[d--,1].concat(yt));continue}l=u.split(".")}else kt&&!e(u)&&(u._jsvOb&&(s||(u._cb=bt=gt(u,h.slice(d+1),w,f,n,ft,ut),u._rt=w,bt._bnd=f._bnd),o(u._rt,h.slice(0,d),u._cb,ut,s),u=u._ob),r=u),nt=u,l=[nt];while(r&&typeof r=="object"&&(n=l.shift())!==i){if(""+n===n){if(n==="")continue;if(l.length<ht+1&&!r.nodeType){if(!s&&(a=st(r)&&t._data(r))){for(a=a.events,a=a&&a.propertyChange,vt=a&&a.length;vt--;)if(rt=a[vt].data,rt&&rt.cb===f&&(rt.prop===n&&rt.path===l.join(".")||rt.prop==="*"))break;if(vt>-1){r=r[n];continue}}if(n==="*"){e(r)?(tt=r.depends)&&o(tt,f,s||w):et(wt,n,r,f,n,ft,i,s);break}else!n||e(tt=r[n])&&tt.depends||et(wt+"."+n,l.join("."),r,f,n,ft,i,s)}n=n?r[n]:r}if(e(n)){(tt=n.depends)&&o(r,ct(tt,r),f,ut,s||c(w));break}r=n}}return g(r,f,n,s),it&&lt(ft,it),{cbId:it,bnd:ft,leaf:r}}function nt(){return[].push.call(arguments,!0),o.apply(this,arguments)}var y=t;if(!t)throw"requires jQuery or JsRender";if(!t.observable){var s,r,tt=t.event.special,h=t.views?t.views.sub:{},p=[].splice,at=[].concat,f=function(n){return n instanceof Array},vt=t.expando,w="object",l=h.propChng=h.propChng||"propertyChange",a=h.arrChng=h.arrChng||"arrayChange",b=h._cbBnds=h._cbBnds||{},ot=l+".observe",e=function(n){return typeof n=="function"},yt=1,pt=1,st=t.hasData,it=it||{assert:function(){}};t.observable=u,u.Object=ut,u.Array=ft,u.observe=o,u.unobserve=nt,u.on=rt,u.simpleOn=kt,u.simpleOff=wt,u.off=v,u.trigger=k,u.onObservableTrigger=t.simpleCallbacks(),ut.prototype={_data:null,data:function(){return this._data},observe:function(n,t){return o(this._data,n,t)},unobserve:function(n,t){return nt(this._data,n,t)},setProperty:function(n,t,r){var u,h,s,e=this,o=e._data;if(n=n||"",o)if(f(n))for(u=n.length;u--;)h=n[u],e.setProperty(h.name,h.value,r===i||r);else if(""+n!==n)for(u in n)e.setProperty(u,n[u],t);else if(n.indexOf(vt)<0){for(s=n.split(".");o&&s.length>1;)o=o[s.shift()];e._setProperty(o,s.join("."),t,r)}return e},_setProperty:function(n,t,i,r){var f,o,u=t?n[t]:n;e(u)&&u.set&&(o=u,f=u.set===!0?u:u.set,u=u.call(n)),(u!==i||r&&u!=i)&&(!(u instanceof Date)||u>i||u<i)&&(f?(f.call(n,i),i=o.call(n)):n[t]=i,this._trigger(n,{path:t,value:i,oldValue:u}))},_trigger:function(n,i){t.observable.onObservableTrigger.fire(),k(n,l,i)}},ft.prototype={_data:null,data:function(){return this._data},insert:function(n,t){return d(n),arguments.length>1&&(t=f(t)?t:[t],t.length&&this._insert(n,t)),this},_insert:function(n,t){r=this._data,s=r.length,p.apply(r,[n,0].concat(t)),this._trigger({change:"insert",index:n,items:t})},remove:function(n,t){if(d(n),t=t===i||t===null?1:t,t&&n>-1){var r=this._data.slice(n,n+t);t=r.length,t&&this._remove(n,t,r)}return this},_remove:function(n,t,i){r=this._data,s=r.length,r.splice(n,t),this._trigger({change:"remove",index:n,items:i})},move:function(n,t,r){if(d(n),d(t),r=r===i||r===null?1:r,r){var u=this._data.slice(n,n+r);this._move(n,t,r,u)}return this},_move:function(n,t,i,u){r=this._data,s=r.length,r.splice(n,i),r.splice.apply(r,[t,0].concat(u)),this._trigger({change:"move",oldIndex:n,index:t,items:u})},refresh:function(n){var t=this._data.slice(0);return this._refresh(t,n),this},_refresh:function(n,t){r=this._data,s=r.length,p.apply(r,[0,r.length].concat(t)),this._trigger({change:"refresh",oldItems:n})},_trigger:function(n){var i=r.length;t.observable.onObservableTrigger.fire(),k([r],a,n),i!==s&&k([r],l,{path:"length",value:i,oldValue:s})}},tt[l]=tt[a]={remove:function(n){if((n=n.data)&&(n.off=1,n=n.cb)){var r=n._bnd,i=b[r];i&&(delete i[t.data(this,"obId")],lt(i,r))}}}}})(this,window.originaljQuery||window.jQuery||this.jsviews);
/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
(function(n,t,i){"use strict";function tt(n,t){t&&t.onError&&t.onError(n)===!1||(this.name="JsRender Error",this.message=n||"JsRender error")}function it(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function lt(n,t,i){return(!b.rTag||arguments.length)&&(l=n?n.charAt(0):l,a=n?n.charAt(1):a,f=t?t.charAt(0):f,s=t?t.charAt(1):s,p=i||p,n="\\"+l+"(\\"+p+")?\\"+a,t="\\"+f+"\\"+s,c="(?:(?:(\\w+(?=[\\/\\s\\"+f+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+f+"]|\\"+f+"(?!\\"+s+"))*?)",b.rTag=c+")",c=new RegExp(n+c+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),ot=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[l,a,f,s,p]}function oi(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function at(){var n=this.get("item");return n?n.index:i}function si(n){var u,r=this,t=(r.ctx||{})[n];return t=t===i?r.getRsc("helpers",n):t,t&&typeof t=="function"&&(u=function(){return t.apply(r,arguments)}),u||t}function hi(n,t,u){var c,f,s,e=+u===u&&u,o=t.linkCtx;return e&&(u=(e=t.tmpl.bnds[e-1])(t.data,t,r)),s=u.args[0],(n||e)&&(f=o&&o.tag||{_:{inline:!o},tagName:n+":",flow:!0,_is:"tag"},f._.bnd=e,o&&(o.tag=f,f.linkCtx=o,u.ctx=h(u.ctx,o.view.ctx)),f.tagCtx=u,u.view=t,f.ctx=u.ctx||{},delete u.ctx,t._.tag=f,n=n!=="true"&&n,n&&((c=t.getRsc("converters",n))||y("Unknown converter: {{"+n+":"))&&(f.depends=c.depends,s=c.apply(f,u.args)),s=e&&t._.onRender?t._.onRender(s,t,e):s,t._.tag=i),s}function ci(n,t){for(var e=this,u=r[n],f=u&&u[t];f===i&&e;)u=e.tmpl[n],f=u&&u[t],e=e.parent;return f}function li(n,t,u,f){var ut,o,ft,g,b,c,nt,tt,s,k,v,et,a,it,p="",d=+f===f&&f,l=t.linkCtx||0,w=t.ctx,ot=u||t.tmpl,st=t._;for(n._is==="tag"&&(o=n,n=o.tagName),d&&(f=(et=ot.bnds[d-1])(t.data,t,r)),nt=f.length,o=o||l.tag,c=0;c<nt;c++)s=f[c],v=s.tmpl,v=s.content=v&&ot.tmpls[v-1],u=s.props.tmpl,c||u&&o||(a=t.getRsc("tags",n)||y("Unknown tag: {{"+n+"}}")),u=u||(o?o._def:a).template||v,u=""+u===u?t.getRsc("templates",u)||e(u):u,s.tmpl=u,s.render=rt,s.index=c,s.view=t,s.ctx=h(s.ctx,w),o||(a._ctr?(o=new a._ctr,it=!!o.init,o.attr=o.attr||a.attr||i):o={render:a.render},o._={inline:!l},l&&(l.attr=o.attr=l.attr||o.attr,l.tag=o,o.linkCtx=l),(o._.bnd=et||l)&&(o._.arrVws={}),o.tagName=n,o.parent=b=w&&w.tag,o._is="tag",o._def=a),st.tag=o,s.tag=o,o.tagCtxs=f,o.flow||(k=s.ctx=s.ctx||{},ft=o.parents=k.parentTags=w&&h(k.parentTags,w.parentTags)||{},b&&(ft[b.tagName]=b),k.tag=o),o.rendering={};for(c=0;c<nt;c++)s=o.tagCtx=f[c],o.ctx=s.ctx,!c&&it&&(o.init(s,l,o.ctx),it=i),(ut=o.render)&&(tt=ut.apply(o,s.args)),p+=tt!==i?tt:s.tmpl?s.render():"";return delete o.rendering,o.tagCtx=o.tagCtxs[0],o.ctx=o.tagCtx.ctx,o._.inline&&(g=o.attr)&&g!=="html"&&(p=g==="text"?wt.html(p):""),d&&t._.onRender?t._.onRender(p,t,d):p}function w(n,t,r,u,f,e,o,s){var c,l,a,y=t==="array",v={key:0,useKey:y?0:1,id:""+ei++,onRender:s,bnds:{}},h={data:u,tmpl:f,content:o,views:y?[]:{},parent:r,ctx:n,type:t,get:oi,getIndex:at,getRsc:ci,hlp:si,_:v,_is:"view"};return r&&(c=r.views,l=r._,l.useKey?(c[v.key="_"+l.useKey++]=h,a=l.tag,v.bnd=y&&(!a||!!a._.bnd&&a)):c.splice(v.key=h.index=e!==i?e:c.length,0,h),h.ctx=n||r.ctx),h}function ai(n){var t,i,r,u,f;for(t in v)if(u=v[t],(f=u.compile)&&(i=n[t+"s"]))for(r in i)i[r]=f(r,i[r],n,t,u)}function vi(n,t,i){var u,r;return typeof t=="function"?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?e[r]||e(r):r),t.init!==!1&&(u=t._ctr=function(){},(u.prototype=t).constructor=u)),i&&(t._parentTmpl=i),t}function vt(r,u,f,o,s,c){function v(i){if(""+i===i||i.nodeType>0){try{a=i.nodeType>0?i:!ot.test(i)&&t&&t(n.document).find(i)[0]}catch(u){}return a&&(i=a.getAttribute(ct),r=r||i,i=e[i],i||(r=r||"_"+fi++,a.setAttribute(ct,r),i=e[r]=vt(r,a.innerHTML,f,o,s,c))),i}}var l,a;return u=u||"",l=v(u),c=c||(u.markup?u:{}),c.tmplName=r,f&&(c._parentTmpl=f),!l&&u.markup&&(l=v(u.markup))&&l.fn&&(l.debug!==u.debug||l.allowCode!==u.allowCode)&&(l=l.markup),l!==i?(r&&!f&&(nt[r]=function(){return u.render.apply(u,arguments)}),l.fn||u.fn?l.fn&&(u=r&&r!==l.tmplName?h(c,l):l):(u=yt(l,c),ut(l,u)),ai(c),u):void 0}function yt(n,t){var i,f=k.wrapMap||{},r=it({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:rt},t);return t.htmlTag||(i=ri.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=f[r.htmlTag],i&&i!==f.div&&(r.markup=u.trim(r.markup),r._elCnt=!0),r}function yi(n,t){function u(e,o,s){var l,h,a,c;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(a in e)u(a,e[a],o);return r}return o===i&&(o=e,e=i),e&&""+e!==e&&(s=o,o=e,e=i),c=s?s[f]=s[f]||{}:u,h=t.compile,(l=b.onBeforeStoreItem)&&(h=l(c,e,o,h)||h),e?o===null?delete c[e]:c[e]=h?o=h(e,o,s,n,t):o:o=h(i,o),o&&(o._is=n),(l=b.onStoreItem)&&l(c,e,o,h),o}var f=n+"s";r[f]=u,v[n]=t}function rt(n,t,f,o,s,c){var b,ut,nt,v,tt,it,rt,k,p,ft,d,et,a,l=this,ot=!l.attr||l.attr==="html",g="";if(o===!0&&(rt=!0,o=0),l.tag?(k=l,l=l.tag,ft=l._,et=l.tagName,a=k.tmpl,t=h(t,l.ctx),p=k.content,k.props.link===!1&&(t=t||{},t.link=!1),f=f||k.view,n=n===i?f:n):a=l.jquery&&(l[0]||y('Unknown template: "'+l.selector+'"'))||l,a&&(!f&&n&&n._is==="view"&&(f=n),f&&(p=p||f.content,c=c||f._.onRender,n===f&&(n=f.data,s=!0),t=h(t,f.ctx)),f&&f.data!==i||((t=t||{}).root=n),a.fn||(a=e[a]||e(a)),a)){if(c=(t&&t.link)!==!1&&ot&&c,d=c,c===!0&&(d=i,c=f._.onRender),u.isArray(n)&&!s)for(v=rt?f:o!==i&&f||w(t,"array",f,n,a,o,p,c),b=0,ut=n.length;b<ut;b++)nt=n[b],tt=w(t,"item",v,nt,a,(o||0)+b,p,c),it=a.fn(nt,tt,r),g+=v._.onRender?v._.onRender(it,tt):it;else v=rt?f:w(t,et||"data",f,n,a,o,p,c),ft&&!l.flow&&(v.tag=l),g+=a.fn(n,v,r);return d?d(g,v):g}return""}function y(n){throw new r.sub.Error(n);}function o(n){y("Syntax error\n"+n)}function ut(n,t,i,r){function v(t){t-=f,t&&h.push(n.substr(f,t).replace(g,"\\n"))}function l(t){t&&o('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function y(e,c,y,w,b,k,d,nt,tt,it,rt,ut){k&&(b=":",w="html"),it=it||i;var at,st,ht=c&&[],ot="",et="",ct="",lt=!it&&!b&&!d;y=y||b,v(ut),f=ut+e.length,nt?p&&h.push(["*","\n"+tt.replace(gt,"$1")+"\n"]):y?(y==="else"&&(ii.test(tt)&&o('for "{{else if expr}}" use "{{else expr}}"'),ht=u[6],u[7]=n.substring(u[7],ut),u=s.pop(),h=u[3],lt=!0),tt&&(tt=tt.replace(g," "),ot=ft(tt,ht,t).replace(ti,function(n,t,i){return t?ct+=i+",":et+=i+",",""})),et=et.slice(0,-1),ot=ot.slice(0,-1),at=et&&et.indexOf("noerror:true")+1&&et||"",a=[y,w||!!r||"",ot,lt&&[],'params:"'+tt+'",props:{'+et+"}"+(ct?",ctx:{"+ct.slice(0,-1)+"}":""),at,ht||0],h.push(a),lt&&(s.push(u),u=a,u[7]=f)):rt&&(st=u[0],l(rt!==st&&st!=="else"&&rt),u[7]=n.substring(u[7],ut),u=s.pop()),l(!u&&rt),h=u[3]}var a,p=t&&t.allowCode,e=[],f=0,s=[],h=e,u=[,,,e];return n=n.replace(ni,"\\$1"),l(s[0]&&s[0][3].pop()[0]),n.replace(c,y),v(n.length),(f=e[e.length-1])&&l(""+f!==f&&+f[7]===f[7]&&f[0]),pt(e,i?n:t,i)}function pt(n,i,r){var c,f,e,l,a,y,st,ht,ct,lt,ft,p,s,bt,et,v,tt,w,kt,it,at,b,vt,wt,ot,rt,d,h=0,u="",nt="",ut={},dt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(g," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",(kt=i.allowCode)&&(ut.allowCode=!0),i.debug&&(ut.debug=!0),p=i.bnds,et=i.tmpls),c=0;c<dt;c++)if(f=n[c],""+f===f)u+='\nret+="'+f+'";';else if(e=f[0],e==="*")u+=""+f[1];else{if(l=f[1],a=f[2],it=f[3],y=f[4],nt=f[5],at=f[7],(wt=e==="else")||(h=0,p&&(s=f[6])&&(h=p.push(s))),(ot=e===":")?(l&&(e=l==="html"?">":l+e),nt&&(rt="prm"+c,nt="try{var "+rt+"=["+a+"][0];}catch(e){"+rt+'="";}\n',a=rt)):(it&&(tt=yt(at,ut),tt.tmplName=v+"/"+e,pt(it,tt),et.push(tt)),wt||(w=e,vt=u,u="",bt=c),b=n[c+1],b=b&&b[0]==="else"),y+=",args:["+a+"]}",ot&&s||l&&e!==">"){if(d=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+nt+"return {"+y+";"),d.paths=s,d._ctxs=e,r)return d;ft=1}if(u+=ot?"\n"+(s?"":nt)+(r?"return ":"ret+=")+(ft?(ft=0,lt=!0,'c("'+l+'",view,'+(s?(p[h-1]=d,h):"{"+y)+");"):e===">"?(ht=!0,"h("+a+");"):(ct=!0,"(v="+a+")!="+(r?"=":"")+'u?v:"";')):(st=!0,"{tmpl:"+(it?et.length:"0")+","+y+","),w&&!b){if(u="["+u.slice(0,-1)+"]",(r||s)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+w+"\nreturn "+u+";"),s&&((p[h-1]=u).paths=s),u._ctxs=e,r))return u;u=vt+'\nret+=t("'+w+'",view,this,'+(h||u)+");",s=0,w=0}}u="// "+v+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(ct?",v":"")+(st?",t=j._tag":"")+(lt?",c=j._cnvt":"")+(ht?",h=j.converters.html":"")+(r?";\n":',ret="";\n')+(k.tryCatch?"try{\n":"")+(ut.debug?"debugger;":"")+u+(r?"\n":"\nreturn ret;\n")+(k.tryCatch?"\n}catch(e){return j._err(e);}":"");try{u=new Function("data,view,j,u",u)}catch(gt){o("Compiled template code:\n\n"+u,gt)}return i&&(i.fn=u),u}function ft(n,t,i){function w(w,b,k,d,g,nt,tt,it,rt,et,ot,st,ht,ct,lt,at,vt,yt,pt){function bt(n,i,r,u,f,e,o){if(i&&(t&&!v&&t.push(d),i!==".")){var s=(r?'view.hlp("'+r+'")':u?"view":"data")+(o?(f?"."+f:r?"":u?"":"."+i)+(e||""):(o=r?"":u?f||"":i,""));return s=s+(o?"."+o:""),s.slice(0,9)==="view.data"?s.slice(5):s}return n}var wt;if(g=g||"",k=k||b||ot,d=d||it,rt=rt||at||"",nt)o(n);else return t&&lt&&(wt=y[r],pt.length-2>yt-wt&&(wt=pt.slice(wt,yt+1),lt=a+":"+wt+f,lt=p[lt]=p[lt]||ut(l+lt+s,i,!0),lt.paths||ft(wt,lt.paths=[],i),t.push({_jsvOb:lt}))),h?(h=!st,h?w:'"'):e?(e=!ht,e?w:'"'):(k?(r++,y[r]=yt++,k):"")+(vt?r?"":c?(c=v=!1,"\b"):",":tt?(r&&o(n),c=d,v=d.charAt(0)==="~","\b"+d+":"):d?d.split("^").join(".").replace(kt,bt)+(rt?(u[++r]=!0,d.charAt(0)!=="."&&(y[r]=yt),rt):g):g?g:ct?(u[r--]=!1,ct)+(rt?(u[++r]=!0,rt):""):et?(u[r]||o(n),","):b?"":(h=st,e=ht,'"'))}var c,v,p=i.links,u={},y={0:-1},r=0,e=!1,h=!1;return(n+" ").replace(dt,w)}function et(){}function h(n,t){return t&&(et.prototype=t),n&&n!==t?t?it(new et,n):n:t&&new et}function bt(n){return ht[n]||(ht[n]="&#"+n.charCodeAt(0)+";")}if((!t||!t.views)&&!n.jsviews){var u,d,c,ot,l="{",a="{",f="}",s="}",p="^",kt=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,dt=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^)|[)\]])([([]?))|(\s+)/g,g=/\s*\n/g,gt=/\\(['"])/g,ni=/\\?(['"\\])/g,ti=/\x08(~)?([^\x08]+)\x08/g,ii=/^if\s/,ri=/<(\w+)[>\s]/,st=/[\x00`><"'&]/g,ui=st,fi=0,ei=0,ht={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},ct="data-jsv-tmpl",wi=[].slice,nt={},v={template:{compile:vt},tag:{compile:vi},helper:{},converter:{}},r={jsviews:"v1.0pre",render:nt,settings:{delimiters:lt,debugMode:!0,tryCatch:!0},sub:{View:w,Error:tt,tmplFn:ut,parse:ft,extend:it,error:y,syntaxError:o},_cnvt:hi,_tag:li,_err:function(n){return k.debugMode?"Error: "+(n.message||n)+". ":""}};(tt.prototype=new Error).constructor=tt,at.depends=function(){return[this.get("item"),"index"]};for(d in v)yi(d,v[d]);var e=r.templates,wt=r.converters,bi=r.helpers,pi=r.tags,b=r.sub,k=r.settings;t?(u=t,u.fn.render=rt):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}),u.render=nt,u.views=r,u.templates=e=r.templates,pi({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var t=this,f=t.tagCtx,e=!arguments.length,r="",o=e||0;return t.rendering.done||(e?r=i:n!==i&&(r+=f.render(n),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=f.index)),r},onUpdate:function(){},onArrayChange:function(n,t){var i,u=this,r=t.change;if(this.tagCtxs[1]&&(r==="insert"&&n.target.length===t.items.length||r==="remove"&&!n.target.length||r==="refresh"&&!t.oldItems.length!=!n.target.length))this.refresh();else for(i in u._.arrVws)i=u._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},flow:!0},include:{flow:!0},"*":{render:function(n){return n},flow:!0}}),wt({html:function(n){return n!=i?String(n).replace(ui,bt):""},attr:function(n){return n!=i?String(n).replace(st,bt):n===null?null:""},url:function(n){return n!=i?encodeURI(String(n)):n===null?null:""}}),lt()}})(this,window.originaljQuery||window.jQuery);
/*! JsViews v1.0pre: http://github.com/BorisMoore/jsviews */
if(function(n,t,i){"use strict";function gi(n){var y,nt,s,a,o,f,c,e,p,l,w,b,k,v=n.target,d,g,r=v._jsvBnd;if(r)for(b=r.slice(1).split("&"),k=b.length;k--;)(w=h[b[k]])&&(a=w.linkCtx,l=a.view,(r=w.to)&&(p=t(v),d=l.hlp(vt),g=l.hlp(yt),s=dt(v),y=yi[s],o=tt(s)?s(v):y?p[y]():p.attr(s),d&&(nt=d.call(l,n)===!1)||o===i||(c=r[1],r=r[0],e=r[0],e=e._jsvOb?e._ob:e,r=r[2]||r[1],tt(c)?f=c:(f=l.tmpl.converters,f=f&&f[c]||u.converters[c]),f&&(o=f.call(a.tag,o)),o!==i&&e&&(it(e).setProperty(r,o),g&&g.call(a,n))),nt&&n.stopImmediatePropagation()))}function fu(n,r,f){var o,b,k,e,nt,s,it,rt,y,ut,h=this,p=h.data,c=h.elem,a=h.cvt,w="attr",ft=c.parentNode,et=ft,v=t(c),l=h.view,d=l.hlp(vt);if(ft&&(!d||!(r&&d.call(h,n,r)===!1))&&(!r||n.data.prop==="*"||n.data.prop===r.path)){if(y=l.linkCtx,l.linkCtx=h,r&&(h.eventArgs=r),!n||r||h._initVal){if(delete h._initVal,e=f.call(l.tmpl,p,l,u),o=h.attr||dt(c,!0,a!==i),s=h.tag){if(r&&s.onUpdate&&s.onUpdate(n,r,e)===!1||o==="none"){gt(h,p,c,f),l.linkCtx=y;return}e=s.tagName.slice(-1)===":"?u._cnvt(s.tagName.slice(0,-1),l,e):u._tag(s.tagName,l,l.tmpl,e)}else f._ctxs&&(a=a===""?"true":a,e=a?u._cnvt(a,l,e):u._tag(f._ctxs,l,l.tmpl,e),s=l._.tag,o=h.attr||o);if(s&&(s.parentElem=h.expr||s._elCnt?c:c.parentNode,it=s._prv,rt=s._nxt,s.refresh=hr),tt(e)&&g(h.expr+": missing parens"),o==="visible"&&(o="css-display",e=e?eu(c):"none"),nt=o.lastIndexOf("css-",0)===0&&o.substr(4))(k=t.style(c,nt)!==e)&&t.style(c,nt,e);else if(o!=="link"){if(o==="value")c.type==="checkbox"&&(e=e&&e!=="false",w="prop",o="checked");else if(o==="radio")if(c.value===""+e)e=!0,w="prop",o="checked";else{gt(h,p,c,f),l.linkCtx=y;return}else(o==="selected"||o==="disabled"||o==="multiple"||o==="readlonly")&&(e=e&&e!=="false"?o:null);if(b=yi[o],b){if(k=s||v[b]()!==e)if(o==="html")if(s){if(ut=s._.inline,s.refresh(e),!ut&&s._.inline){l.linkCtx=y;return}}else v.empty(),et=c,l.link(p,et,it,rt,e,s&&{tag:s._tgId});else o!=="text"||c.children[0]?v[b](e):c.textContent!==i?c.textContent=e:c.innerText=e===null?"":e}else(k=v[w](o)!=e)&&(e==null?v[w==="attr"?"removeAttr":"removeProp"](o):v[w](o,e))}r&&k&&(d=l.hlp(yt))&&d.call(h,n,r)}gt(h,p,c,f),l.linkCtx=y}}function nr(n,t){var i=this,r=i.hlp(vt),u=i.hlp(yt);if(!r||r.call(n,t)!==!1){if(t){var o=t.change,f=t.index,e=t.items;switch(o){case"insert":i.addViews(f,e);break;case"remove":i.removeViews(f,e.length);break;case"move":i.refresh();break;case"refresh":i.refresh()}}u&&u.call(this,n,t)}}function eu(t){var i,u,e=n.getComputedStyle,r=(t.currentStyle||e.call(n,t,"")).display;return r!=="none"||(r=bi[u=t.nodeName])||(i=f.createElement(u),f.body.appendChild(i),r=(e?e.call(n,i,""):i.currentStyle).display,bi[u]=r,f.body.removeChild(i)),r}function kt(n){var f,e,u=n.data,r=n._.bnd;if(!n._.useKey&&r)if((e=n._.bndArr)&&(t.observable.off([e[1]],at,i,e[0]),n._.bndArr=i),r===!!r||r.linkCtx){if(u){f=function(t){t.data&&t.data.off||nr.apply(n,arguments)};t.observable.on([u],at,null,null,f);n._.bndArr=[f,u]}}else u?r._.arrVws[n._.id]=n:delete r._.arrVws[n._.id]}function dt(n,t,i){var u=n.nodeName.toLowerCase(),r=e.merge[u];return r?t?u==="input"&&n.type==="radio"?"radio":r.to.toAttr:r.from.fromAttr:t?i?"text":"html":""}function tr(n,r,u,f,e,o,s){var p,c,v,w,b,l=n.parentElem,h=n._prv,a=n._nxt,y=n._elCnt;if(h&&h.parentNode!==l&&g("Missing parentNode"),s){w=n.nodes(),y&&h&&h!==a&&ui(h,a,l,n._.id,"_",!0),n.removeViews(i,i,!0),c=a,y&&(h=h?h.previousSibling:a?a.previousSibling:l.lastChild),t(w).remove();for(b in n._.bnds)st(b)}else{if(r){if(v=f[r-1],!v)return!1;h=v._nxt}y?(c=h,h=c?c.previousSibling:l.lastChild):c=h.nextSibling}p=u.render(e,o,n,s||r,n._.useKey&&s,!0),n.link(e,l,h,c,p,v)}function ut(n,t,r){var u,f,e;return r?(e="^`",f=t._.tag||{_:{inline:!0,bnd:r},tagCtx:{view:t},flow:!0},u=f._tgId,f.refresh=hr,u||(h[u=ki++]=f,f._tgId=""+u)):(e="_`",l[u=t._.id]=t),"#"+u+e+(n===i?"":n)+"/"+u+e}function gt(n,r,u){var l,o,s,e,c,v,f=[],a=n._bndId||""+ki++,y=n._hdlr;if(delete n._bndId,(l=n.tag)&&(f=l.depends||f,f=tt(f)?l.depends(l):f,s=l.onChange),s=s||n._cvtBk,(!n._depends||""+n._depends!=""+f)&&(n._depends&&hi(r,n._depends,y,!0),o=hi(t.isArray(r)?[r]:r,e=n.fn.paths||n.fn,f,y,n._ctxCb),o.elem=u,o.linkCtx=n,o._tgId=a,u._jsvBnd=u._jsvBnd||"",u._jsvBnd+="&"+a,n._depends=f,n.view._.bnds[a]=a,h[a]=o,s!==i)){for(v=e.length;""+(c=e[--v])!==c;);c=e[v]=c.split("^").join("."),o.to=c.charAt(0)==="."?[[e[v-1],c.slice(1)],s]:[n._ctxCb(e[0])||[r,e[0]],s]}}function ir(n,t,i,r,u,f){return ni(this,n,t,i,r,u,f)}function ni(n,r,u,e,o,s,h,a){if(n&&r){if(r=r.jquery?r:t(r),!y){y=f.body;t(y).on(li,gi)}for(var b,g,nt,d,w,k,v,tt=ut,rt=e&&e.target==="replace",it=r.length;it--;)if(v=r[it],typeof n=="string")ft(n,v,p(v),u,e);else{if(o=o||p(v),n.markup!==i)o.link===!1&&(e=e||{},e.link=tt=!1),rt&&(k=v.parentNode),nt=n.render(u,e,o,i,i,tt),k?(s=v.previousSibling,h=v.nextSibling,t.cleanData([v],!0),k.removeChild(v),v=k):(s=h=i,t(v).empty());else if(n!==!0)break;if(v._dfr&&!h){for(d=c(v._dfr,!0,di),b=0,g=d.length;b<g;b++)w=d[b],(w=l[w.id])&&w.data!==i&&w.parent.removeViews(w._.key,i,!0);v._dfr=""}o.link(u,v,s,h,nt,a)}}return r}function ou(n,u,a,y,w,b){function su(n,t,i,r,u,f,e,s,h,c,l,a){var v="";return k=s||h||"",r=r||i||c||a,r&&(si&&(i||a)&&!dr[vt]&&wr("'<"+vt+"... />' in:\n"+w),di=ot,vt=yr.shift(),ot=bt[vt],di&&(at+=yt,yt="",ot?at+="-":(v=(c||"")+vi+"@"+at+ai+(l||""),at=eu.shift()))),ot?(f?yt+=f:t=c||a||"",k&&(t+=k,yt&&(t+=" "+o+'="'+yt+'"',yt=""))):t=f?t+v+u+vi+f+ai+e+k:v||n,k&&(yr.unshift(vt),vt=k.slice(1),yr[0]===kr[vt]&&g('"'+vt+'" has incorrect parent tag'),(ot=bt[vt])&&!di&&(eu.unshift(at),at=""),di=ot,at&&ot&&(at+="+")),t}function oi(n,t){var o,a,r,e,f,v,s,c=[];if(n){for(gt=n.length,n.tokens.charAt(0)==="@"&&(t=tt.previousSibling,tt.parentNode.removeChild(tt),tt=null),gt=n.length;gt--;){if(ht=n[gt],r=ht.ch,o=ht.path)for(st=o.length-1;a=o.charAt(st--);)a==="+"?o.charAt(st)==="-"?(st--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;r==="^"?(k=h[f=ht.id])&&(s=t&&(!tt||tt.parentNode!==t),(!tt||s)&&(k.parentElem=t),ht.elCnt&&s&&(ht.open?t&&(t._dfr="#"+f+r+(t._dfr||"")):t._dfr="/"+f+r+(t._dfr||"")),c.push([s?null:tt,ht])):(it=l[f=ht.id])&&(it.link||(it.parentElem=t||tt&&tt.parentNode||u,d(it,ct),it._.onRender=ut,it._.onArrayChange=nr,kt(it)),e=it.parentElem,ht.open?(it._elCnt=ht.elCnt,t?t._dfr="#"+f+r+(t._dfr||""):(it._prv||(e._dfr=et(e._dfr,"#"+f+r)),it._prv=tt)):(t&&(!tt||tt.parentNode!==t)?(t._dfr="/"+f+r+(t._dfr||""),it._nxt=i):tt&&(it._nxt||(e._dfr=et(e._dfr,"/"+f+r)),it._nxt=tt),pr=it.linkCtx,(v=lu||it.ctx&&it.ctx.onAfterCreate)&&v.call(pr,it)))}for(gt=c.length;gt--;)tr.push(c[gt])}return!n||n.elCnt}function hu(n){var t,i;if(gt=n&&n.length)for(st=0;st<gt;st++)if(ht=n[st],pt.id)pt.id=pt.id!==ht.id&&pt.id;else if(i=k=h[ht.id].linkCtx.tag,!k.flow){if(!cr){for(t=1;i=i.parent;)t++;pi=pi||t}(cr||t===pi)&&(!lr||k.tagName===lr)&&hr.push(k)}}function hi(){if(dt){if(dt.state()==="resolved")return;var f=nt.shift()}for(ir=wt?u.querySelectorAll(rt):t(rt,u).get(),ii=ir.length,a&&(ci=wt?a.querySelectorAll(rt):t(rt,a).get(),a=ci.length?ci[ci.length-1]:a),pi=0,ni=0;ni<ii;ni++)if(tt=ir[ni],a&&!iu)iu=tt===a;else if(y&&tt===y)break;else tt.parentNode&&ou(c(tt,i,hr&&ru))&&tt.getAttribute(v)&&tr.push([tt]);if(ur(a,ot),ur(y,ot),pt){dt&&dt.resolve();return}for(ot&&at+yt&&(tt=y,at&&(y?oi(c(at+"+",!0),y):oi(c(at,!0),u)),oi(c(yt,!0),u),y&&(lt=y.getAttribute(o),(ii=lt.indexOf(gi)+1)&&(lt=lt.slice(ii+gi.length-1)),y.setAttribute(o,yt+lt))),ii=tr.length,ni=0;ni<ii;ni++)tt=tr[ni],ti=tt[1],tt=tt[0],ti?(k=h[ti.id],k=k.linkCtx?k.linkCtx.tag:k,ti.open?(tt&&(k.parentElem=tt.parentNode,k._prv=tt),k._elCnt=ti.elCnt,!k||k.onBeforeLink&&k.onBeforeLink()===!1||k._.bound||(k._.bound=!0,it=k.tagCtx.view,ft(i,k._prv,it,it.data||n,ti.id)),k._.linking=!0):(k._nxt=tt,k._.linking&&(it=k.tagCtx.view,k.contents=er,k.nodes=or,k.childTags=sr,delete k._.linking,k&&k.onAfterLink&&k.onAfterLink(),k._.bound||(k._.bound=!0,ft(i,k._prv,it,it.data||n,ti.id))))):(it=p(tt),ft(tt.getAttribute(v),tt,it,it.data||n));dt&&(dt.resolve(),r.onAfterLazyLink.fire(nt.length))}var pr,k,ni,ii,st,gt,ir,tt,it,ht,ti,ci,li,rr,yi,ri,hr,cr,lr,pi,pt,gr,bi,tu,fi,vt,ei,ki,lt,ot,di,ui,yt,gi,iu,dt,uu,cu=e.noDomLevel0,ar=this,fu=ar._.id+"_",at="",tr=[],yr=[],eu=[],lu=ar.hlp(vr),ou=oi;if(b&&(dt=b.lazyLink&&t.Deferred(),b.tmpl?rr="/"+b._.id+"_":(pt=b.get,b.tag&&(fu=b.tag+"^",b=!0)),b=b===!0),pt&&(ou=hu,hr=pt.tags,cr=pt.deep,lr=pt.name),u=u?typeof u=="string"?t(u)[0]:u.jquery?u[0]:u:ar.parentElem||f.body,vt=u.tagName.toLowerCase(),ot=!!bt[vt],a=a&&fr(a,ot),y=y&&fr(y,ot)||null,w!==i){if(ki=f.createElement("div"),ei=ki,gi=yt="",ui=u.namespaceURI==="http://www.w3.org/2000/svg"?"svg":(fi=br.exec(w))&&fi[1]||"",cu&&fi&&fi[2]&&g("Unsupported: "+fi[2]),ot){for(ri=y;ri&&!(yi=c(ri));)ri=ri.nextSibling;(lt=yi?yi.tokens:u._dfr)&&(li=rr||"",(b||!rr)&&(li+="#"+fu),st=lt.indexOf(li),st+1&&(st+=li.length,gi=yt=lt.slice(0,st),lt=lt.slice(st),yi?ri.setAttribute(o,lt):u._dfr=lt))}for(w=(""+w).replace(nu,su),wi.appendChild(ki),ui=s[ui]||s.div,gr=ui[0],ei.innerHTML=ui[1]+w+ui[2];gr--;)ei=ei.lastChild;for(wi.removeChild(ki),bi=f.createDocumentFragment();tu=ei.firstChild;)bi.appendChild(tu);r.onBeforeInsert.fire(bi),u.insertBefore(bi,y)}return dt?(uu=setTimeout(hi,0),nt.push({id:uu,fn:hi}),r.onBeforeLazyLink.fire()):hi(),dt&&dt.promise()}function ft(n,t,u,f,e){var y,l,p,s,w,d,a,v,c,o,g;if(e)o=h[e],o=o.linkCtx?o.linkCtx.tag:o,c=o.linkCtx||{data:f,elem:o._elCnt?o.parentElem:t,view:u,attr:"html",fn:o._.bnd,tag:o,_bndId:e},rr(c,c.fn);else if(n&&t)for(y=u.tmpl,n=hu(n,t),b.lastIndex=0;l=b.exec(n);)g=b.lastIndex,p=e?"html":l[1],a=l[3],w=l[10],s=i,c={data:f,elem:o&&o._elCnt?o.parentElem:t,view:u,attr:p,_initVal:!l[2]},l[6]&&(!p&&(s=/:([\w$]*)$/.exec(w))&&(s=s[1],s!==i&&(d=-s.length-1,a=a.slice(0,d-1)+k,w=w.slice(0,d))),s===null&&(s=i),c.cvt=l[5]||""),c.expr=p+a,v=y.links[a],v||(y.links[a]=v=r.tmplFn(fi+a+ei,y,!0,s),r.parse(w,v.paths=[],y)),c.fn=v,p||s===i||(c._cvtBk=s),rr(c,v),b.lastIndex=g}function rr(n,t){function i(i,r){fu.call(n,i,r,t)}n._ctxCb=cu(n.view),n._hdlr=i,n.tag&&n.tag.onArrayChange&&(i.array=function(t,i){n.tag.onArrayChange(t,i)}),i(!0)}function et(n,t){var i;return n?(i=n.indexOf(t),i+1?n.slice(0,i)+n.slice(i+t.length):n):""}function ti(n){return n&&(typeof n=="string"?n:n.tagName==="SCRIPT"?n.type.slice(3):n.nodeType===1&&n.getAttribute(o)||"")}function su(n,t,i,r,u,f){w.push({elCnt:ii,id:r,ch:u,open:t,close:i,path:f,token:n})}function c(n,t,r){var u;return ii=i,w=[],(u=t?n:ti(n))?(w.elCnt=!n.type,ii=u.charAt(0)==="@"||w.elCnt,w.tokens=u,u.replace(r||uu,su),w):void 0}function ur(n,t){n&&(n.type==="jsv"?n.parentNode.removeChild(n):t&&n.getAttribute(v)===""&&n.removeAttribute(v))}function fr(n,t){for(var i=n;t&&i&&i.nodeType!==1;)i=i.previousSibling;return i&&(i.nodeType!==1?(i=f.createElement("SCRIPT"),i.type="jsv",n.parentNode.insertBefore(i,n)):ti(i)||i.getAttribute(v)||i.setAttribute(v,"")),i}function hu(n,i){return n=t.trim(n),n.slice(-1)!==k?n=lt+":"+n+(dt(i)?":":"")+k:n}function er(n,i){var u,r=t(this.nodes());return r[0]&&(u=n?r.filter(n):r,r=i&&n?u.add(r.find(n)):u),r}function or(n,t,i){var r,u=this,f=u._elCnt,o=!t&&f,e=[];for(t=t||u._prv,i=i||u._nxt,r=o?t===u._nxt?u.parentElem.lastSibling:t:u._.inline===!1?t||u.linkCtx.elem.firstChild:t&&t.nextSibling;r&&(!i||r!==i);)(n||f||!ti(r))&&e.push(r),r=r.nextSibling;return e}function sr(n,t){n!==!!n&&(t=n,n=i);var r=this,o=r.link?r:r.tagCtx.view,u=r._prv,f=r._elCnt,e=[];return u&&o.link(i,r.parentElem,f?u.previousSibling:u,r._nxt,i,{get:{tags:e,deep:n,name:t,id:f&&r._tgId}}),e}function hr(n){var c,l,s,r=this,h=r.parentElem,f=r.tagCtx.view,e=r._prv,o=r._nxt,y=r._elCnt,a=r._.inline,v=r.tagCtx.props;return r.disposed&&g("Removed tag"),n===i&&(n=r._.bnd.call(f.tmpl,f.data,f,u),a&&(n=u._tag(r,f,f.tmpl,n))),(r.flow||r.render||r.template)&&(a?(l=r.nodes(!0),y&&(e&&e!==o&&ui(e,o,h,r._tgId,"^",!0),e=e?e.previousSibling:o?o.previousSibling:h.lastChild),t(l).remove()):(!r.flow&&v.inline&&(f._.tag=r,n=ut(n,f,!0),f._.tag=i,c=r._.inline=!0),t(h).empty())),!c&&r.onBeforeLink&&r.onBeforeLink(),s=f.link(f.data,h,e,o,n,r&&{tag:r._tgId,lazyLink:v.lazyLink}),!c&&r.onAfterLink&&(s?s.then(function(){r.onAfterLink()}):r.onAfterLink()),s||r}function cr(){for(var n;n=nt[0];)clearTimeout(n.id),n.fn()}function ot(n){var e,s,a,t,h,r,u,v=[],y=n.length,f=y,p;for(cr();f--;)v.push(n[f]);for(f=y;f--;)if(t=v[f],t.parentNode){if(u=t._jsvBnd)for(u=u.slice(1).split("&"),t._jsvBnd="",s=u.length;s--;)st(u[s],!0);if(p=t&&(typeof t=="string"?t:t.tagName==="SCRIPT"?t.type.slice(3):t.nodeType===1&&t.getAttribute(o)||""),h=c(p+(t._dfr||""),!0,tu))for(e=0,a=h.length;e<a;e++)r=h[e],r.ch==="_"?(r=l[r.id])&&r.data!==i&&r.parent.removeViews(r._.key,i,!0):st(r.id,!0)}}function st(n,i){var s,c,u,e,o,f=h[n];if(f){for(s in f.bnd)e=f.bnd[s],o=".obs"+f.cbId,t.isArray(e)?(t.observable.off([e],at,o),t.observable.off([e],ci,o)):t.observable.off(e,ci,o),delete f.bnd[s];c=f.linkCtx,(u=c.tag)&&(u.onDispose&&u.onDispose(),i||u._elCnt||(u._prv.parentNode.removeChild(u._prv),u._nxt.parentNode.removeChild(u._nxt)),u.disposed=!0),delete c.view._.bnds[n],delete h[n],delete r._cbBnds[f.cbId]}}function ri(n,r){return arguments.length?r&&(r=r.jquery?r:t(r),n===!0?t.each(r,function(){for(var n;(n=p(this,!0))&&n.parent;)n.parent.removeViews(n._.key,i,!0);ot(this.getElementsByTagName("*"))}):n===i&&ot(r)):(y&&(t(y).off(li,gi),y=i),n=!0,a.removeViews(),ot(f.body.getElementsByTagName("*"))),r}function lr(n,t){return ri(this,n,t)}function cu(n){return n=n||t.view(),function(t,i){var f,r,e=[i];if(n&&t){if(t._jsvOb)return t._jsvOb.call(n.tmpl,i,n,u);if(t.charAt(0)==="~")return t.slice(0,4)==="~tag"&&(r=n.ctx,t.charAt(4)==="."&&(f=t.slice(5).split("."),r=r.tag),f)?r?[r,f.join("."),i]:[]:(t=t.slice(1).split("."),(i=n.hlp(t.shift()))&&(t.length&&e.unshift(t.join(".")),e.unshift(i)),i?e:[]);if(t.charAt(0)==="#")return t==="#data"?[]:[n,t.replace(gr,""),i]}}}function lu(n){return n.type==="checkbox"?n.checked:n.value}function ui(n,t,i,r,u,f){var y,a,p,e,k,v,s,w=0,d=n===t,b;if(n){for(p=c(n)||[],y=0,a=p.length;y<a;y++){if(e=p[y],v=e.id,v===r&&e.ch===u)if(f)a=0;else break;d||(b=e.ch==="_"?l[v]:h[v],b&&(k=e.ch==="_"?b:b.linkCtx.tag,e.open?k._prv=t:e.close&&(k._nxt=t))),w+=v.length+2}w&&n.setAttribute(o,n.getAttribute(o).slice(w)),s=t?t.getAttribute(o):i._dfr,(a=s.indexOf("/"+r+u)+1)&&(s=p.tokens.slice(0,w)+s.slice(a+(f?-1:r.length+1))),s&&(t?t.setAttribute(o,s):i._dfr=s)}else i._dfr=et(i._dfr,"#"+r+u),f||t||(i._dfr=et(i._dfr,"/"+r+u))}var ht=t,ii,w;if(!t)throw"requires jQuery";if(!t.views)throw"requires JsRender";if(!t.observable)throw"requires jquery.observable";if(!t.link){var ct,y,p,b,fi,lt,k,ei,oi,si,f=n.document,u=t.views,r=u.sub,e=u.settings,d=r.extend,a=r.View(i,"top"),tt=function(n){return typeof n=="function"},ar=u.templates,it=t.observable,hi=it.observe,o="data-jsv",v=e.linkAttr||"data-link",au=t.event.special,ci=e.propChng=e.propChng||"propertyChange",at=r.arrChng=r.arrChng||"arrayChange",vu=r._cbBnds=r._cbBnds||{},li="change.jsv",vt="onBeforeChange",yt="onAfterChange",vr="onAfterCreate",ai='"><\/script>',vi='<script type="jsv',pt="script,["+o+"]",rt=pt+",["+v+"]",yi={value:"val",input:"val",html:"html",text:"text"},pi={from:{fromAttr:"value"},to:{toAttr:"value"}},yr=t.cleanData,pr=e.delimiters,g=r.error,wr=r.syntaxError,br=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,wi=f.createDocumentFragment(),wt=f.querySelector,bt={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1},kr={tr:"table"},s=e.wrapMap={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],svg:[1,"<svg>","<\/svg>"],div:[1,"x<div>","<\/div>"]},dr={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},bi={},l={0:a},h={},nt=[],ki=1,gr=/^#(view\.?)?/,nu=/(^|(\/>)|(<\/\w+>)|>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|(<\/\w+>)(\s*)|(\/>)\s*)/g,di=/(#)()(\d+)(_)/g,tu=/(#)()(\d+)([_^])/g,iu=/(?:(#)|(\/))(\d+)(_)/g,ru=/(#)()(\d+)(\^)/g,uu=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;s.optgroup=s.option,s.tbody=s.tfoot=s.colgroup=s.caption=s.thead,s.th=s.td,r.onBeforeInsert=ht.simpleCallbacks(),r.onBeforeLazyLink=ht.simpleCallbacks(),r.onAfterLazyLink=ht.simpleCallbacks(),t.observable.onObservableTrigger.add(cr),r.onStoreItem=function(n,i,r){r&&n===ar&&(r.link=ir,r.unlink=lr,i&&(t.link[i]=function(){return ir.apply(r,arguments)},t.unlink[i]=function(){return lr.apply(r,arguments)}))},(e.delimiters=function(){var n=pr.apply(u,arguments);return fi=n[0],lt=n[1],k=n[2],ei=n[3],oi=n[4],b=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+oi+")?(\\"+lt+r.rTag+"\\"+k+")","g"),this})(),r.viewInfos=c,ct={addViews:function(n,t,i){var u,o,r=this,f=t.length,e=r.views;if(!r._.useKey&&f&&(i=r.tmpl)&&(o=e.length+f,tr(r,n,i,e,t,r.ctx)!==!1))for(u=n+f;u<o;u++)it(e[u]).setProperty("index",u);return r},removeViews:function(n,r,u){function o(n){var h,c,e,o,s,a,r=f[n];if(r&&r.link){h=r._.id,u||(a=r.nodes()),r.removeViews(i,i,!0),r.data=i,o=r._prv,s=r._nxt,e=r.parentElem,u||(r._elCnt&&ui(o,s,e,h,"_"),t(a).remove(),r._elCnt||(o.parentNode&&e.removeChild(o),s.parentNode&&e.removeChild(s))),kt(r);for(c in r._.bnds)st(c,u);delete l[h]}}var e,a,s,h=this,c=!h._.useKey,f=h.views;if(c&&(s=f.length),n===i)if(c){for(e=s;e--;)o(e);h.views=[]}else{for(a in f)o(a);h.views={}}else if(r===i&&(c?r=1:(o(n),delete f[n])),c&&r){for(e=n+r;e-->n;)o(e);if(f.splice(n,r),s=f.length)while(n<s)it(f[n]).setProperty("index",n++)}return this},refresh:function(n){var t=this,i=t.parent;return i&&(tr(t,t.index,t.tmpl,i.views,t.data,n,!0),kt(t)),t},nodes:or,contents:er,childTags:sr,link:ou},e.merge={input:{from:{fromAttr:lu},to:{toAttr:"value"}},textarea:pi,select:pi,optgroup:{from:{fromAttr:"label"},to:{toAttr:"label"}}},e.debugMode&&(si=!e.noValidate,n._jsv={views:l,bindings:h}),d(t,{view:u.view=p=function(n,r,u){r!==!!r&&(u=r,r=i);var e,o,h,v,w,s,b,y,p=0,k=f.body;if(n&&n!==k&&a._.useKey>1&&(n=typeof n=="string"?t(n)[0]:n.jquery?n[0]:n,n))if(r){for(y=wt?n.querySelectorAll(pt):t(pt,n).get(),s=y.length,h=0;h<s;h++)for(b=y[h],o=c(b,i,di),v=0,w=o.length;v<w;v++)if(e=o[v],(e=l[e.id])&&(e=e&&u?e.get(!0,u):e,e))return e}else while(n){if(o=c(n,i,iu))for(s=o.length;s--;)if(e=o[s],e.open){if(p<1)return e=l[e.id],e&&u?e.get(u):e||a;p--}else p++;n=n.previousSibling||n.parentNode}return r?i:a},link:u.link=ni,unlink:u.unlink=ri,cleanData:function(n){n.length&&(ot(n),yr.call(t,n))}}),d(t.fn,{link:function(n,t,i,r,u,f,e){return ni(n,this,t,i,r,u,f,e)},unlink:function(n){return ri(n,this)},view:function(n){return p(this[0],n)}}),d(a,{tmpl:{links:{},tags:{}}}),d(a,ct),a._.onRender=ut}}(this,window.originaljQuery||window.jQuery),function(n){"use strict";var i=wLive.Controls.Notifications=wLive.Controls.Notifications||{},t=new function(){var t=this,i={},r=[];t.showDelay=600,t.start=function(){var t,i,n;if(r)for(t=r,i=t.length,r=null,n=0;n<i;n++)t[n]()},t.addNotification=function(n,u,f){if(r)r.push(function(){t.addNotification(n,u,f),t.showNextNotification(f.queueGroup)});else{var s=f.queueGroup||"default",c=f.queueMode||"fifo",l=f.queueTrumpLowPriOnScreen||{},h=!!f.queueIsPriorityHigh,o=i[s]=i[s]||{current:null,items:[]},e=o.items.length;if(e!==0&&h)for(e=0;e<o.items.length&&o.items[e].queueIsPriorityHigh;e++);o.items.splice(e,0,{mode:c,notification:n,queueTrumpLowPriOnScreen:l,queueIsPriorityHigh:h,callback:u})}},t.showNextNotification=function(n){var r=i[n],t,u,f=function(n){for(var f=n.length,i={mode:null,item:null},r,u,t=0;t<f;t++)if(r=n[t],u=i.mode=r.mode,i.item=r,u==="fifo")break;return i.item};r&&r.items.length>0&&(t=r.current,u=r.items,t&&t.mode==="filo"&&u.length>1&&t.queueTrumpLowPriOnScreen&&(t.notification.hide(),t=null),t||(t=r.current=f(u),t.callback()))},t.removeNotification=function(r){n.each(i,function(n,i){for(var f=i.items,e=!1,u=f.length-1;u>=0;u--)if(f[u].notification===r){f[u]===i.current&&(i.current=null),f.splice(u,1),e=!0;break}e&&setTimeout(function(){t.showNextNotification(n)},t.showDelay)})},t.reset=function(){n.each(i,function(n,t){for(var r=t.items,u,i=r.length-1;i>=0;i--)u=r[i],u===t.current?u.notification.dismiss():r.splice(i,1)})},t.registerSearchApi=function(r,u){t[r]=function(t){var h=[],e,c,o,s,l,r,f;for(t=t||function(){return!0},e=u&&u.length!==0?n.map(u,function(n){return i[n]}):i,c=e.length,r=0;r<c;r++)for(s=e[r].items,l=s.length,f=0;f<l;f++)o=s[f].notification,t(o)&&h.push(o);return h}}};i.getQueue=function(){return t},i.dispose=function(){t&&(t.reset(),t=null)}}(window.originaljQuery||jQuery),function(){"use strict";var n=wLive.Controls.Notifications,t=n.AutomationOptions=new function(){var i=this,n,t;i.setModeAndLabels=function(i,r){n=i,t=r},i.getLabelAttribute=function(){return n},i.getLabelValue=function(i){var r;return n&&n!==""&&t&&(r=t[i]),r},i.getLabel=function(i,r){var f="",u,e=function(n){return(r?r[n]:null)||t[n]};return n&&n!==""&&t&&(u=e(i))&&u!==""&&(f=" "+n+'="'+u+'" '),f}}}(window.originaljQuery||jQuery),function(n){"use strict";var c=27,v=13,y=9,p=wLive.Animations,r=wLive.Controls.Notifications,w=n(r),i=r.InternalTools=r.InternalTools||{},f=r.AutomationOptions,l=n(window),t=n("BODY"),u=t[0],b={fadein:"fadeIn",fadeout:"fadeOut",slidein:"showEdgeUI",slideout:"hideEdgeUI",slidefadein:"enterContent",slidefadeout:"exitContent",slidefadein2:"enterContent2",slidefadeout2:"exitContent2"},e=i.Toolkit={isEmptyString:function(n){return typeof n=="undefined"||n==null||n==""},checkEmptyArgument:function(n,t){if(e.isEmptyString(n))throw new Error(t);},getExtraDimensions:function(n){var i={},t=function(n){return parseInt(n)||0};return i.left=t(n.css("marginLeft"))+t(n.css("borderLeftWidth"))+t(n.css("paddingLeft")),i.right=t(n.css("marginRight"))+t(n.css("borderRightWidth"))+t(n.css("paddingRight")),i.width=i.left+i.right,i.top=t(n.css("marginTop"))+t(n.css("borderTopWidth"))+t(n.css("paddingTop")),i.bottom=t(n.css("marginBottom"))+t(n.css("borderBottomWidth"))+t(n.css("paddingBottom")),i.height=i.top+i.bottom,i},sanitizeOptions:function(t,i){var u=null,r;return t&&(r={},n.each(t,function(t,u){n.inArray(t,i)>=0&&(r[t]=u)}),u=r),u},registerChangeUserOptionsApi:function(t,i,u){var f=function(t){n.extend(i,e.sanitizeOptions(t,u))};r["set"+t+"DefaultOptions"]=f},isLtr:function(){return n("BODY").css("direction")==="ltr"}},o=i.ButtonHelper=function(t,i){var f=this,r=[],e=n.extend({action:!1,close:!1,alternate:!1},i&&i.excludes?i.excludes:{}),u=i&&i.renderOrder?i.renderOrder.split(","):o.buttonNames;(function(){var i,n,f,o;if(t)for(o=u.length,f=0;f<o;f++)i=u[f],n=t[i],!e[i]&&n&&typeof n=="string"&&n!==""&&r.push({name:i,title:n})})(),f.getNamesAndTitles=function(){return r}},h,a,s;o.buttonNames=["action","close","alternate"],o.automationKeys={},n.each(o.buttonNames,function(n,t){o.automationKeys[t]=t.charAt(0).toUpperCase()+t.substr(1)+"Button"}),i.DeferredManager=function(t,i){function e(){r=i?i():{}}var f=this,r=null,u=null;e(),f.getDeferred=function(){return u=u||n.Deferred()},f.updateState=function(t){t&&typeof t=="object"&&(r=n.extend({},r,t))},f.resolve=function(){u&&(u.resolveWith(t,[r]),u=null),e()}},h=i.TemplateHelper={basicContainer:'<div><div tabindex="-1" class="OuterContainer" {{if backgroundColor}}style="background-color: {{attr:backgroundColor}};"{{/if}}><div class="InnerContainer"><div class="Content {{attr:contentCssClassnames}}">{0}<\/div><\/div><\/div><\/div>',defaultPartialTemplate:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}',registerTemplate:function(t){var i=t.html||h.defaultPartialTemplate;i=h.basicContainer.format(i),n.templates(t.id,{markup:i})},render:function(t,r,u,o,s){var a=t.options.automationOptions,c=n.extend({contentCssClassnames:"",renderTitle:!0,showNotificationArea:!1,shouldRenderButtonArea:function(){return this.showNotificationArea&&o||this.buttons.length>0},prepareForAutomation:function(n){return f.getLabel(n,a)},buttons:n.map(s.getNamesAndTitles(),function(t){return n.extend({getButtonLabel:function(){return f.getLabel(i.ButtonHelper.automationKeys[this.name],a)}},t)})},t.options),l,v,y,h;return e.isEmptyString(r)&&c.renderTitle&&(c.renderTitle=!1),l=n.views,v=l.activeViews,l.activeViews=!1,y=n.templates[t.id].render(c),l.activeViews=v,h=n(y),h.find(".UserTitle").append(r),h.find(".UserContent").append(u),c.showNotificationArea&&!e.isEmptyString(o)&&h.find(".NotificationArea").append(o),h}},n.templates("Notifications.ButtonSubTemplate",{markup:'{{if shouldRenderButtonArea()}}<div class="ButtonArea">{{if showNotificationArea}}<div class="NotificationArea" {{:prepareForAutomation("NotificationArea")}}><\/div>{{/if}}{{for buttons}}<button name="{{attr:name}}" type="button" {{if name=="action"}}class="default c_nobdr"{{/if}} {{:getButtonLabel()}}>{{>title}}<\/button>{{/for}}<\/div>{{/if}}'}),n.templates("Notifications.UserAreaSubTemplate",{markup:'<div class="UserArea"><div class="Clipper">{{if renderTitle}}<div class="UserTitle{{if titleCssClassnames}} {{attr:titleCssClassnames}}{{/if}}" {{:prepareForAutomation("Title")}}><\/div>{{/if}}<div class="UserContent" {{:prepareForAutomation("Contents")}}><\/div><\/div><\/div>'}),a=i.TimerHelper=function(n,t,i){var e=this,r,f,u,o=function(){r=null,t()},h=function(){u||(u=new Date,clearTimeout(r),r=null)},c=function(){if(u&&f){var t=n-(u-f);u=null,f=new Date,r=setTimeout(o,t)}},s={mouseenter:h,mouseleave:c};e.start=function(){n&&(n=parseInt(n))>0&&i&&i.length>0&&(i.bind(s),f=new Date,r=setTimeout(o,n))},e.stop=function(){r&&(i.unbind(s),clearTimeout(r),r=null)}},s=i.NotificationBase=function(o){function nr(){var t=n.extend({},k.ariaOptions);k.tabIndex===null||isNaN(k.tabIndex)||(t.tabindex=k.tabIndex),d.attr(t)}function ei(n){var t=n?"show":"hide";d&&(d[t](),d.attr("aria-hidden",!n),ft!=null&&ft[t]())}function st(n,t,i){return i=i||[tt],w.triggerHandler(n+o.name+t,i)}function ot(n,t){return t=t||[tt],gi.triggerHandler(n,t)}function vt(n,t,i){var r=n?n[t]:null;r&&typeof r=="function"&&r.apply({},i||[])}function tr(){var t=f.getLabelValue(k.automationKey);t&&n(it).attr(f.getLabelAttribute(),t)}function oi(){var n,t,i,r;d&&(n=f.getLabelAttribute(),n&&(t="automationtemp",i=d.attr(t),i&&i!==""?(d.attr(n,i),d.attr(t,"")):(r=d.attr(n),r&&r!==""&&(d.attr(t,r),d.attr(n,"")))))}function ir(){at.timeoutInMsecs&&(ht=new a(at.timeoutInMsecs,at.callback,at.getElements()),ht.start())}function rr(){ht&&(ht.stop(),ht=null)}function kt(){if(nt&&it&&!ut&&o.positioner){o.positioner(nt.dock,it,k.anchorElement,k,rt);var t=nt.dock,n=null;t.y!==null&&(n={top:t.y}),t.x!==null&&(n=n||{},n.left=t.x),n&&d.css(n)}}function si(t){var i=k.animation||{},s=i.type||"none",c=i.entranceType||s+"in",l=i.exitType||s+"out",f,r,e,o,h=[it],u;return ft&&ft.length>0&&h.push(ft[0]),t?(f=c,i.entranceArguments&&(r=n.isArray(i.entranceArguments)?n.extend(!0,[],i.entranceArguments):n.extend(!0,{},i.entranceArguments))):(f=l,i.exitArguments&&(r=n.isArray(i.exitArguments)?n.extend(!0,[],i.exitArguments):n.extend(!0,{},i.exitArguments))),e=b[f],e?(u=[h],typeof r!="undefined"&&u.push(r),u.push(!1),o=p[e].apply({},u)):o=n.Deferred().resolve(),o}function hi(){var n=$UI.Dialog.findFocusableElement(it,it,!0);n&&setTimeout(function(){try{n.focus()}catch(t){}},0)}function ci(n){bt||!n||ni(n,it)||hi(),bt=!1}function yt(n){var t=n.which,i;d==null||ut||(k.dismissOnEsc&&t===c||!dt&&k.dismissOnEnter&&t===v?(i=t===c?"close":"action",g.changeAnimation(!1,"none"),n.stopImmediatePropagation(),d.find(".ButtonArea button[name="+i+"]").length>0&&(ct.updateState({buttonClicked:i}),ot("buttonclick",[tt,i])),setTimeout(function(){tt.dismiss()},0)):t===y?(ci(n.srcElement),fi||(d.find("BUTTON.default.c_nobdr").removeClass("c_nobdr"),fi=!0)):bt=!0),dt=!0}function li(n){ci(n.srcElement)}function ur(){d&&((k.dismissOnEsc||k.dismissOnEnter)&&d.keydown(yt),k.isModal&&(t.keydown(yt),t.focusin(li)))}function fr(){d&&((k.dismissOnEsc||k.dismissOnEnter)&&d.unbind("keydown",yt),k.isModal&&(t.unbind("keydown",yt),t.unbind("focusin",li)))}function ai(t){var i=t&&t.srcElement&&t.srcElement.name||n(this).attr("name"),r;g.changeAnimation(!1,"none"),t.stopPropagation(),ct.updateState({buttonClicked:i}),r=n(tt).triggerHandler("buttonclick",[tt,i]),r!==!1&&rt.dismissOnButtonClick&&tt.dismiss()}function er(){d&&d.find(".ButtonArea button").bind("click.notification",ai)}function or(){d&&d.find(".ButtonArea button").unbind("click.notification",ai)}function vi(){l.bind({"resize.nbwindowchanged":gt,"scroll.nbwindowchanged":gt})}function yi(){l.unbind(".nbwindowchanged",gt)}function gt(){ut||(yi(),kt(),vi())}function pi(){return _ge("UI_Dialog_BG")||u}function sr(){if(k.dismissOnOutsideClick){var t=pi(),r=n(t),i=function(){t.addEventListener?t.addEventListener("click",pt,!0):(t.attachEvent("onclick",pt),!_ge("UI_Dialog_BG")&&u.setCapture&&(u._capturingClicks=!0,u.attachEvent("onlosecapture",wi),ti())),lt=null};k.delayOutsideClickDetectionByMsecs<=0?i():lt=setTimeout(i,k.delayOutsideClickDetectionByMsecs)}}function hr(){var t=pi(),i=n(t);k.dismissOnOutsideClick&&(lt!=null&&(clearTimeout(lt),lt=null),t.removeEventListener?t.removeEventListener("click",pt,!0):(t.detachEvent("onclick",pt),!_ge("UI_Dialog_BG")&&t.releaseCapture&&(t._capturingClicks=!1,t.detachEvent("onlosecapture",wi),t.releaseCapture())))}function ni(n,t){for(var i=!1;n;)n===t?(n=null,i=!0):n=n.parentElement;return i}function pt(n){ut||n._alreadyCaptured||(ni(n.srcElement||n.target,it)||tt.dismiss(),!u.addEventListener&&u.setCapture&&(n._alreadyCaptured=!0,n.srcElement.click(),u._capturingClicks&&ti()),n._alreadyCaptured&&(n._alreadyCaptured=!1))}function wi(){if(t){var n=t[0];n.attachEvent("onmousemove",bi),ri=!1}}function ti(){t&&(t[0].setCapture(!0),ri=!0)}function bi(){t&&(ti(),t[0].detachEvent("onmousemove",bi))}function ki(){hi()}function cr(){k.insideClickFocus&&d&&d.click(ki)}function lr(){k.insideClickFocus&&d&&d.unbind("click",ki)}function di(n){n.stopImmediatePropagation(),n.preventDefault(),k.dismissOnOutsideClick&&ii(n)}function ii(n){n&&n.srcElement&&!ni(n.srcElement,it)&&tt.dismiss()}function ar(){ft&&k.isModal&&ft.bind("contextmenu",di),t&&k.dismissOnOutsideClick&&t.bind("contextmenu",ii)}function vr(){ft&&k.isModal&&ft.unbind("contextmenu",di),t&&k.dismissOnOutsideClick&&t.unbind("contextmenu",ii)}var g=this,yr=n(g),wt=!1,ut=!1,nt=null,it=null,d=null,ft=null,ri=!1,tt=o.instance,gi=n(tt),rt=n.extend({},s.defaultUserOptions,o.userOptions),k=n.extend({},s.defaultControlOptions,o.controlOptions),et=o.render=o.render||{},at=o.timer=o.timer||{},ht=null,ct=new i.DeferredManager(tt),ui=new i.ButtonHelper(et.buttons,et.buttonOptions),lt=null,fi=!1,bt=!1,dt;et.template=et.template||{},et.template.options=et.template.options||{},et.template.options.automationOptions=e.sanitizeOptions(rt.automation,["ActionButton","CloseButton","AlternateButton","Title","Contents"]),g.changeAnimation=function(n,t,i){if(k.changeAnimationOnUserInteraction){var r=n?"entrance":"exit";k.animation[r+"Type"]=t,typeof i!="undefined"&&(k.animation[r+"Arguments"]=i)}},g.popoverElement=function(){return it},g.isCurrentlyShown=function(){return wt&&!ut},g.isHidden=function(){return ut},g.getButton=function(n){var t=null,i;if(!n||(i=n.buttonName+"")=="")throw new Error("buttonName was not supplied.");return d&&(t=d.find(".ButtonArea BUTTON[name="+i+"]")),t},g.getDeferredManager=function(){return ct},g.reposition=function(){nt&&(kt(),nt.recalc())},g.hide=function(){nt&&!ut&&(st("before","hide"),ot("beforehide"),ut=!0,nt.minimize(),oi(),st("after","hide"),ot("afterhide"))},g.dismiss=function(n){var t,i=function(){r.getQueue().removeNotification(tt),k.anchorElement=k.focusElement=null};if(nt){if(t=st("before","dismiss"),t===!1)return;if(t=ot("beforedismiss"),t===!1)return;vt(n,"beforeDismiss"),fr(),or(),lr(),hr(),yi(),vr(),rr(),si(!1).then(function(){if(nt){if(nt.hide(),t=st("after","dismissanimation"),t===!1)return;if(t=ot("afterdismissanimation"),t===!1)return;if(d.remove(),it=null,d=null,nt.dispose(),nt=null,ft=null,t=st("after","dismiss"),t===!1)return;if(t=ot("afterdismiss"),t===!1)return;ct.resolve(),i(),wt=!1;var n;rt.returnFocusTo&&(n=rt.returnFocusTo.focus)&&typeof n=="function"&&rt.returnFocusTo.focus()}})}else i()},g.show=function(t){var u=r.getQueue(),e=ct.getDeferred(),i,f=!1;return nt?ut&&nt.restore():(u.addNotification(tt,function(){var r,u;nt&&ut?(oi(),nt.restore(),ut=!1):nt||(i=st("before","render"),i!==!1&&(i=ot("beforerender"),i!==!1&&(r=h.render(et.template,et.title,et.content,et.notificationArea,ui),k.focusElement=rt.focusFirstButton&&ui.getNamesAndTitles().length>0?r.find(".ButtonArea BUTTON").first()[0]:rt.focusElement?rt.focusElement:r.find(".OuterContainer").get(0),vt(t,"afterRendering",[r]),k.anchorElement=k.anchorElement||window,rt.moreCss=rt.moreCss||"",nt=new $UI.Dialog(!!k.isModal,k.dialogZindex,!!o.positioner,"NotificationBase "+k.controlCss+" "+rt.moreCss,k.anchorElement,k.trapTab),r.appendTo(rt.notificationContainer||"#notificationContainer"),it=nt.setContents(r[0]),d=n(it),isNaN(k.tabIndex)||d.attr("tabindex",k.tabIndex),nr(),kt(),vt(t,"beforeShow"),i=st("before","show"),i!==!1&&(i=ot("beforeshow"),i!==!1&&(ur(),er(),ir(),tr(),u=n.Deferred(),nt.show(k.focusElement,!k.setFocus,u),!k.isModal||(ft=n("#UI_Dialog_BG")),ei(!1),si(!0).then(function(){f||(f=!0,u.resolve(),ei(!0),vt(t,"afterShow"),setTimeout(function(){nt&&(sr(),vi(),cr(),ar())},0),ot("aftershow"),i=st("after","show"),wt=!0)}))))))},k),u.showNextNotification(k.queueGroup)),e.promise()},tt.content=g.popoverElement,tt.isCurrentlyShown=g.isCurrentlyShown,tt.isHidden=g.isHidden,tt.getButton=g.getButton,tt.show=function(){return g.show()},tt.dismiss=function(){g.dismiss()},tt.hide=g.hide,tt.reposition=g.reposition,dt=!1},s.defaultControlOptions={anchorElement:null,ariaOptions:{role:"alert","aria-hidden":"false"},automationKey:null,changeAnimationOnUserInteraction:!0,controlCss:null,dismissOnEnter:!1,dismissOnEsc:!0,dismissOnOutsideClick:!1,delayOutsideClickDetectionByMsecs:0,focusElement:null,insideClickFocus:!1,isModal:!1,returnFocusTo:null,setFocus:!1,trapTab:!0,tabIndex:null,queueGroup:null,queueMode:"fifo",queueTrumpLowPriOnScreen:!1},s.defaultUserOptions={dismissOnButtonClick:!0,focusFirstButton:!1,moreCss:null}}(window.originaljQuery||jQuery),function(n){"use strict";var c=window.wLive,i=c.Controls.Notifications,l=i.AutomationOptions,u=i.InternalTools,f=u.Toolkit,s="Notifications.DropDown";u.TemplateHelper.registerTemplate({id:s});var h=50,r=1,e=2,o=4,t=function(i,c,l,a,v){function g(t,i,u,e,o){for(var h=f.isLtr()?o.position:o.position^r,y,a=ut(u),s=n(i),w=s.find(".OuterContainer"),c=p(s),v=n(u),l,b=3;b-->0;)if(k(t,c,e),l=o.offset||p(v),h=nt(t,c,a,l,o.anchorPadding,h,s,e),!ft(t,s,c,l,!!o.offset,v,w))break;y=rt(h,e),et(t,y,a)}function nt(t,i,r,u,f,e,o,s){var h=e,c=2;do e!==h&&(n.extend(i,p(o)),k(t,i,s)),e=h,tt(t,e,u,f),h=it(t,e,r);while(h!=e&&c-->0);return e}function tt(n,t,i,u){var h=n.width,a=n.height,c=i.top,f=i.left,l=i.width,v=i.height,y=t&r,s=t&e,p=t&o;p?(n.x=y?s?f+l-h:f+l+u:s?f:f-h-u,n.y=s?c-a-u:c+v-a):(n.x=y?s?f+l+u:f+l-h:s?f-h-u:f,n.y=s?c:c+v+u)}function it(n,t,i){var u=t&r,f=t&e;return(n.y+n.height>i.height||n.y<0)&&(t=t^e,t=t^o),(n.x+n.width>i.width||n.x<0)&&(t=t^r),t}function rt(n,t){var r=n&o?1:-1,i=t.animation.entranceArguments[0];return i.left=0,i.top=h*r,i}function ut(n){var i=null,t=null,r=0,u=0;return n&&(i=n.document||n.ownerDocument)&&(t=i.documentElement,r=t.clientWidth,u=t.clientHeight),{width:r,height:u}}function p(n){var t=n.offset();return t.width=n.outerWidth(),t.height=n.outerHeight(),t}function k(n,t,i){n.width=Math.max(Math.min(t.width,i.maxWidth),i.minWidth),n.height=Math.max(Math.min(t.height,i.maxHeight),i.minHeight)}function ft(t,i,r,u,f,e,o){var l=!0,a=t.width,v=t.height,k=u.top,d=u.left,y=o.outerWidth(),p=o.outerHeight(),s={top:t.y,left:t.x},h,c,w,b;return a!=r.width&&(s.width=a),v!=r.height&&(s.height=v),i.css(s),h=o.outerWidth(),c=o.outerHeight(),f||n.extend(u,e.offset()),y!==h||p!==c?(w=c-p,b=h-y,r.width+=b,r.height+=w):k===u.top&&d===u.left&&(l=!1),l}function et(n,t,i){var r=n.y+n.height-i.height;r>0&&(t.top!==0&&(r+=h,t.top-=r),n.y-=r),n.y=Math.max(0,n.y)}if(f.checkEmptyArgument(c,"No content was supplied"),l==null)throw new Error("No anchor was supplied.");var w=this,d=n.extend({},t.defaultUserOptions,v),y=n.extend({anchorElement:l},t.defaultControlOptions),b=new u.NotificationBase({name:"dropdown",instance:w,controlOptions:y,userOptions:d,positioner:g,render:{title:i,content:c,buttons:a,buttonOptions:{excludes:{dismiss:!0}},template:{id:s}}});w.show=function(){return b.show({beforeShow:function(){y.width&&n(b.popoverElement()).find(".UserContent").css({width:y.width})}})}};t.defaultUserOptions={anchorPadding:0,focusFirstButton:!0,position:0},t.defaultControlOptions={animation:{entranceType:"slidein",entranceArguments:[{left:0,top:0}],exitType:"fadeout"},automationKey:"DropDown",changeAnimationOnUserInteraction:!1,controlCss:"DropDown",dismissOnOutsideClick:!0,isModal:!0,maxHeight:758,maxWidth:510,minHeight:54,minWidth:70,queueGroup:"DropDown",setFocus:!0,trapTab:!1,width:null},i.createDropDown=function(n){if(!n)throw new Error("No parameters were supplied.");return new t(n.title,n.content,n.anchor,n.buttons,n.options)},f.registerChangeUserOptionsApi("DropDown",t.defaultUserOptions,["moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getDropDowns",[t.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var v=window.wLive,i=v.Controls.Notifications,p=n(i),w=i.AutomationOptions,o=i.InternalTools,t=o.Toolkit,c="Notifications.Bar",u,h;o.TemplateHelper.registerTemplate({id:c,html:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}<div class="Expand" {{:prepareForAutomation("ToggleExpansion")}}><\/div>'});var y="#c_header",s=860,l=120,a=function(i,r,u,f,e,o){var ot=n("HTML"),st=n("BODY"),it=n(r),p=it.find(".InnerContainer"),h=p.find(".Content"),ht=t.isLtr(),rt=Math.max(p.outerWidth(),s),a=h.find(".UserArea"),ct=t.getExtraDimensions(a),w=ct.width,ut=a.find(".Clipper"),y=a.find(".UserContent"),lt=h.find(".ButtonArea"),v=lt.outerWidth()||0,b=h.find(".Expand"),g,nt,ft,tt,et;h.width("").addClass("ForMeasure").removeClass("MinWidth NormalWidth WideWidth"),a.width("").addClass("ForMeasure"),b.removeClass("ShowImage").hide(),ut.removeClass("ShowEllipsis"),y.addClass("ForMeasure").width("");var at=h.outerWidth()||0,k=y.outerWidth()||0,c=rt-w-v,d=k+w+v;d<s?(c=s-w-v,a.width(c),h.addClass("MinWidth")):(g=rt-d>l,nt=!g&&k>=c,g?(h.width(d),h.addClass("WideWidth")):(c-=l,nt=k>=c,h.addClass("NormalWidth")),nt&&(ft="margin"+(ht?"Right":"Left"),b.css(ft,v).addClass("ShowImage").show(),ut.addClass("ShowEllipsis"),c-=b.outerWidth(),y.width(c)),a.width(c)),v===0&&h.addClass("NoButton"),p.css("left",-(ot.scrollLeft()+st.scrollLeft())),o?(tt=n(e.topBarOffsetJquerySelector),tt.length>0&&(et=$UI.Dialog.getLocation(tt[0]),i.y=et.height)):(it.css("bottom","0"),i.y=""),y.removeClass("ForMeasure"),a.removeClass("ForMeasure"),h.removeClass("ForMeasure")},f={Top:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:-50}],exitType:"slideout",exitArguments:[{left:0,top:-50}]},automationKey:"TopBar",controlCss:"NotificationBar TopBar",insideClickFocus:!0,queueGroup:"TopBar"},positioner:function(n,t,i,r,u){a(n,t,i,r,u,!0)}},Bottom:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:50}],exitType:"slideout",exitArguments:[{left:0,top:50}]},automationKey:"BottomBar",controlCss:"NotificationBar BottomBar",insideClickFocus:!0,queueGroup:"BottomBar"},positioner:a}},r=i.BarDismissalMode={Explicit:"Explicit",Implicit:"Implicit",Timeout:"Timeout"},e={};e[r.Explicit]={controlOptions:{queueMode:"filo"}},e[r.Implicit]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}},e[r.Timeout]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}},u=function(i,s,h,l,a){function it(){n(v.popoverElement()).find(".Expand").click(nt)}function rt(){n(v.popoverElement()).find(".Expand").unbind("click",nt)}function nt(){var t=n(v.popoverElement()).find(".Content"),r=t.hasClass("Collapsed"),i=t.find(".Clipper"),u=t.find(".UserContent");return i.toggleClass("ShowEllipsis"),r?(i.css("height",u.css("height")),t.removeClass("Collapsed")):(i.css("height",""),t.addClass("Collapsed")),v.reposition(),!1}function ut(){var t=n(v.popoverElement()),i=t.find(".UserArea"),r=i.find(".Clipper"),f=i.find(".UserContent"),u=t.find(".Expand"),e=r.innerHeight(),o=f.innerHeight();o>e?(u.addClass("ShowImage"),r.addClass("ShowEllipsis")):u.attr("sutra","")}var b,g,w,k,v;t.checkEmptyArgument(s,"Dismissal mode was not supplied.");var p=this,tt=n(p),d=e[s];if(t.checkEmptyArgument(d,"Dismissal mode was supplied but is invalid."),t.checkEmptyArgument(i,"Mode was not supplied."),b=f[i],t.checkEmptyArgument(b,"Mode was supplied but is invalid."),b===f.Top&&s===r.Implicit)throw new Error("Top bars cannot be dismissed implictly.");else if(s===r.Explicit&&t.isEmptyString(l.action)&&t.isEmptyString(l.close)&&t.isEmptyString(l.alternate))throw new Error("An explict dismissable bar should contain at least one button.");g=n.extend({trapTab:!1},d.controlOptions,b.controlOptions,u.defaultControlOptions),w=n.extend({},u.defaultUserOptions,a),t.isEmptyString(w.topBarOffsetJquerySelector)&&(w.topBarOffsetJquerySelector=y),k={name:"bar",instance:p,controlOptions:g,userOptions:w,positioner:b.positioner,render:{content:h,buttons:l,buttonOptions:{renderOrder:"action,alternate,close"},template:{id:c,options:{contentCssClassnames:w.autoHeight?"":"Collapsed",backgroundColor:w.backgroundColor,renderTitle:!1}}}},s===r.Timeout&&(k.timer={timeoutInMsecs:7e3,callback:function(){v.getDeferredManager().updateState({timedOut:!0}),tt.triggerHandler("timedout",[p]),v.changeAnimation(!1,"fadeout"),p.dismiss()},getElements:function(){var t=n(v.popoverElement());return n().add(t).add(t.children()).add(t.find(".UserContent").children()).add(t.find(".ButtonArea BUTTON")).add(t.find(".Expand"))}}),v=new o.NotificationBase(k),p.barType=function(){return i},p.dismissalMode=function(){return s},p.show=function(){return v.show({beforeShow:function(){var t=n(v.popoverElement());i==="Bottom"&&s!==r.Timeout&&t.find(".InnerContainer").addClass("WithMinWidth"),t.find(".Clipper").addClass("transitionOnHeightChange"),ut(),it()}})},p.dismiss=function(){v.dismiss({beforeDismiss:function(){rt()}})}},u.defaultUserOptions={autoHeight:!1,focusFirstButton:!1,topBarOffsetJquerySelector:null},u.defaultControlOptions={queueTrumpLowPriOnScreen:!0,tabIndex:0},h=function(n,t){if(!t)throw new Error("No parameters were supplied.");return new u(n,t.dismissalMode,t.content,t.buttons,t.options)},i.createTopBar=function(n){return h("Top",n)},i.createBottomBar=function(n){return h("Bottom",n)},t.registerChangeUserOptionsApi("Bar",u.defaultUserOptions,["autoHeight","topBarOffsetJquerySelector","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getNotificationBars",[f.Top.controlOptions.queueGroup,f.Bottom.controlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var l=window.wLive,e=l.Controls.Notifications,a=e.AutomationOptions,h=e.InternalTools,o=h.Toolkit,c="Notifications.Flyout";h.TemplateHelper.registerTemplate({id:c});var r=50,u=1,f=2,t=4,s=25,i=function(e,l,a,v,y){function et(t,i,r,u,f){for(var c=tt(r),o=n(i),a=o.find(".OuterContainer"),s=w(o),h=n(r),e,v=3,l;v-->0;)if(g(t,s,u),e=f.offset||w(h),st(t,s,e,c),!it(t,o,s,e,!!f.offset,h,a))break;l=ot(t,u,f,e,h),rt(t,l,c)}function ot(n,t,i,u,f){var c=i.offset?u.width:f.outerWidth(!0),l=i.offset?u.height:f.outerHeight(!0),a=parseInt(c/2+u.left),v=parseInt(l/2+u.top),y=parseInt(n.width/2+n.x),p=parseInt(n.height/2+n.y),s=0,h=0,e;return h=ut(p,v,r),s=ut(y,a,o.isLtr()?r:-r),e=t.animation.entranceArguments[0],e.override||(e.left=s,e.top=h),e}function st(n,t,i,r){var f=n.width,o=n.height,s=o/2,u=i.top,e=i.left,h=i.height,c=i.width,l=h/2;n.x=e+c/2-f/2,n.y=u-o,n.y<0&&(n.y=u+h),n.x<0?(n.x=e+c,n.y=u+l-s):n.x+f>r.width&&(n.x=e-f,n.y=u+l-s)}function ht(t,i,r,f,e){var s=o.isLtr()?f.position:f.position^u,b;var v=tt(r),h=n(i),c=h.find(".OuterContainer"),y;e.bubble!==null&&(c.addClass("Bubble{0}".format(s)),y=n("<div/>",{"class":"BubbleBeak"}).appendTo(h));for(var l=w(h),p=n(r),a,k=3;k-->0;)if(g(t,l,f),a=e.offset||w(p),s=ct(t,l,v,a,s,c,h,f,e.bubble!==null),!it(t,h,l,a,!!e.offset,p,c))break;e.bubble!==null&&y.addClass("Beak{0}".format(s)),b=vt(s,f),rt(t,b,v)}function ct(t,i,r,u,f,e,o,s,h){var c=f,l=2;do f!==c&&(h&&e.removeClass("Bubble{0}".format(f)).addClass("Bubble{0}".format(c)),n.extend(i,w(o)),g(t,i,s)),f=c,lt(t,f,u),c=at(t,f,r);while(c!=f&&l-->0);return f}function lt(n,i,r){var h=n.width,c=n.height,e=r.top,o=r.left,l=r.width,a=r.height,v=a/2,y=l/2,p=i&u,w=i&f;i&t?(n.x=p?o-h+y+s:o+y-s,n.y=w?e-c:e+a):(n.x=p?o-h:o+l,n.y=w?e-c+v+s:e+v-s)}function at(n,i,r){var o=i&u,s=i&f,e=i&t;return n.y<0?i=s?i^f:e?i:i^t:n.y+n.height>r.height&&(i=s?e?i:i^t:i^f),n.x<0?i=o?i^u:e?i^t:i:n.x+n.width>r.width&&(i=o?e?i^t:i:i^u),i}function vt(n,i){var o=(n&t)?n&f?-1:1:0,s=n&t?0:n&u?-1:1,e=i.animation.entranceArguments[0];return e.override||(e.left=r*s,e.top=r*o),e}function tt(n){var i=null,t=null,r=0,u=0;return n&&(i=n.document||n.ownerDocument)&&(t=i.documentElement,r=t.clientWidth,u=t.clientHeight),{width:r,height:u}}function w(n){var t=n.offset();return t.width=n.outerWidth(),t.height=n.outerHeight(),t}function g(n,t,i){n.width=Math.max(Math.min(t.width,i.maxWidth),i.minWidth),n.height=Math.max(Math.min(t.height,i.maxHeight),i.minHeight)}function it(t,i,r,u,f,e,o){var l=!0,a=t.width,v=t.height,k=u.top,d=u.left,y=o.outerWidth(),p=o.outerHeight(),s={top:t.y,left:t.x},h,c,w,b;return a!=r.width&&(s.width=a),v!=r.height&&(s.height=v),i.css(s),h=o.outerWidth(),c=o.outerHeight(),f||n.extend(u,e.offset()),y!==h||p!==c?(w=c-p,b=h-y,r.width+=b,r.height+=w):k===u.top&&d===u.left&&(l=!1),l}function rt(n,t,i){var u=n.y+n.height-i.height;u>0&&(t.top!==0&&(u+=r,t.top-=u),n.y-=u),n.y=Math.max(0,n.y)}function yt(n,t,i){var r=0,u=n-t,f=Math.abs(u)>i;return f&&(r=u>0?1:-1),r}function ut(n,t,i){var r=0,u=yt(n,t,5);return u>0?r=-i:u<0&&(r=i),r}var d;if(o.checkEmptyArgument(l,"No content was supplied"),a==null)throw new Error("No anchor was supplied.");var nt=this,b=n.extend({},i.defaultUserOptions,y),p=n.extend({anchorElement:a},i.defaultControlOptions,y),k=b.positionMode,ft=b.bubble!==null;ft&&(p.controlCss+=" Bubble",k=b.bubble),p.position=k,d=new h.NotificationBase({name:"flyout",instance:nt,controlOptions:p,userOptions:b,positioner:k!==-1?ht:et,render:{title:e,content:l,buttons:v,buttonOptions:{excludes:{dismiss:!0}},template:{id:c}}}),nt.show=function(){return d.show({beforeShow:function(){p.width&&n(d.popoverElement()).find(".UserContent").css({width:p.width})}})}};i.defaultUserOptions={bubble:null,positionMode:-1},i.defaultControlOptions={animation:{entranceType:"slidefadein",entranceArguments:[{left:0,top:0}],exitType:"fadeout"},ariaOptions:{role:"alertdialog"},automationKey:"Flyout",changeAnimationOnUserInteraction:!1,controlCss:"Flyout",dismissOnEnter:!0,dismissOnOutsideClick:!0,isModal:!0,maxHeight:758,maxWidth:510,minHeight:54,minWidth:70,position:-1,queueGroup:"Flyout",setFocus:!0,trapTab:!1,width:null},e.createFlyout=function(n){if(!n)throw new Error("No parameters were supplied.");return new i(n.title,n.content,n.anchor,n.buttons,n.options)},o.registerChangeUserOptionsApi("Flyout",i.defaultUserOptions,["moreCss","notificationContainer"]),e.getQueue().registerSearchApi("getFlyouts",[i.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var e=window.wLive,i=e.Controls.Notifications,o=i.AutomationOptions,u=i.InternalTools,r=u.Toolkit,f="Notifications.ModalDialog",t;u.TemplateHelper.registerTemplate({id:f}),t=function(i,e,o,s,h){var l;r.checkEmptyArgument(e,"No content was supplied");var c=this,a=null,v=n.extend({},t.defaultUserOptions,h),y=t.defaultControlOptions;y.dismissOnEsc=v.dismissOnEsc,l=new u.NotificationBase({name:"dialog",instance:c,controlOptions:y,userOptions:v,positioner:function(t,i){var h=n("HTML"),c=n("BODY"),u=n(i),l=u.find(".InnerContainer"),a=n(window).innerHeight(),v=u.height(),y=(a-v)/2,f,e,o,s;t.y=y,f=u.find(".NotificationArea"),f.contents().length!==0?(e=u.find(".ButtonArea"),o=0,e.find("BUTTON").each(function(){var t=n(this);o+=r.getExtraDimensions(t).width+t.outerWidth(!0)}),s=r.getExtraDimensions(f),u.find(".NotificationArea").width(e.width()-s.width-o),f.show()):f.hide(),l.css("left",-(h.scrollLeft()+c.scrollLeft()))},render:{title:i,content:e,notificationArea:o,buttons:s,template:{id:f,options:{showNotificationArea:!0}}}}),c.show=function(){return l.show({beforeShow:function(){a=n(l.popoverElement()).find(".NotificationArea")}})},c.dismiss=function(){l.dismiss({beforeDismiss:function(){a=null}})},c.notificationArea=function(){return a}},t.defaultUserOptions={dismissOnEsc:!0,focusFirstButton:!0},t.defaultControlOptions={animation:{type:"fade"},ariaOptions:{role:"alertdialog"},automationKey:"ModalDialog",changeAnimationOnUserInteraction:!1,controlCss:"ModalDialog",isModal:!0,setFocus:!0,queueGroup:"ModalDialog"},i.createModalDialog=function(n){return new t(n.title,n.content,n.notificationArea,n.buttons,n.options)},r.registerChangeUserOptionsApi("ModalDialog",t.defaultUserOptions,["dismissOnEsc","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getModalDialogs",[t.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var s=window.wLive,i=s.Controls.Notifications,h=i.AutomationOptions,u=i.InternalTools,r=u.Toolkit,f="Notifications.Toast";u.TemplateHelper.registerTemplate({id:f,html:'{{if contentImage}}<div class="ContentImage" {{:prepareForAutomation("ContentImage")}}><img src="{{attr:contentImage}}"><\/div>{{/if}}{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{if sourceIcon}}<div class="SourceIcon" {{:prepareForAutomation("SourceIcon")}}><img src="{{attr:sourceIcon}}"><\/div>{{/if}}<div class="CloseIcon" {{:prepareForAutomation("CloseIcon")}}><div class="HoverArea"><span class="CloseText">&times;<\/span><\/div><\/div>{{if soundSourceFiles}}<audio autoplay loop>{{for soundSourceFiles}}<source src="{{attr:uri}}" type="{{attr:type}}"/>{{/for}}<\/audio>{{/if}}'});var e=i.ToastPriority={Normal:"Normal",High:"High"},o=i.ToastTimeout={Normal:"Normal",Long:"Long"},t=function(i,s,h,c,l){function rt(){var t=n(a.popoverElement());g&&t.click(tt),t.find(".CloseIcon").click(it)}function ut(){var t=n(a.popoverElement());g&&t.unbind("click",tt),t.find(".CloseIcon").unbind("click",it)}function tt(){a.getDeferredManager().updateState({clicked:!0}),nt.triggerHandler("click",[v]),a.changeAnimation(!1,"none"),v.dismiss()}function it(){a.changeAnimation(!1,"none"),v.dismiss()}var b,k,a;r.checkEmptyArgument(s,"No content was supplied"),r.checkEmptyArgument(c,"No source icon was supplied");var d=n.extend({timeoutInMsecs:l.timeout===o.Long?6e4:7e3,queueIsPriorityHigh:l.priority===e.High},t.defaultControlOptions),w=n.extend({},t.defaultUserOptions,l),g=w.dismissOnInsideClick,v=this,nt=n(v),p=null,y=w.soundSourceFiles;n.isArray(y)?p=y:(p=[],y.aac&&p.push({uri:y.aac,type:"audio/mp4"}),y.ogg&&p.push({uri:y.ogg,type:"audio/ogg"})),b={id:f,options:{backgroundColor:w.backgroundColor,soundSourceFiles:p,contentImage:h,sourceIcon:c,renderTitle:!!i,titleCssClassnames:"TextSemiBold LineHeightStandard"}},k=function(n,t){n&&(b.options.contentCssClassnames=(b.options.contentCssClassnames||"")+" "+t)},k(!r.isEmptyString(h),"WithContentImage"),k(!r.isEmptyString(i),"WithTitle"),a=new u.NotificationBase({name:"toast",instance:v,controlOptions:d,userOptions:w,positioner:function(n){n.x=null,n.y=null},render:{title:i,content:s,template:b},timer:{timeoutInMsecs:d.timeoutInMsecs,callback:function(){a.getDeferredManager().updateState({timedOut:!0}),nt.triggerHandler("timedout",[v]),v.dismiss()},getElements:function(){var t=n(a.popoverElement);return n().add(t.find(".OuterContainer").find("*"))}}}),v.show=function(){return a.show({beforeShow:function(){rt()}})},v.dismiss=function(){a.dismiss({beforeDismiss:function(){ut()}})}};t.defaultUserOptions={timeout:o.Normal,priority:e.Normal,dismissOnInsideClick:!0,soundSourceFiles:{}},t.defaultControlOptions={animation:{entranceType:"slidein",exitType:"fadeout"},automationKey:"Toast",controlCss:"Toast",queueGroup:"Toast",queueMode:"fifo"},$B.SF_Mac||(t.defaultControlOptions.animation.entranceArguments=[{top:0,left:400}]),i.createToast=function(n){var i=window.top,u=null,r=null;try{i!==window&&i.wLive&&i.wLive.Controls&&i.wLive.Controls.Notifications&&(u=i.wLive.Controls.Notifications,u.getQueue().start(),r=u.createToast(n))}catch(f){}return r||(r=new t(n.title,n.content,n.contentImage,n.sourceIcon,n.options)),r},r.registerChangeUserOptionsApi("Toast",t.defaultUserOptions,["backgroundColor","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getToasts",[t.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){var t=wLive.Controls.Notifications;t.enableAriaSupport=function(){if(n("#notificationContainer").length===0){var t={position:"absolute",padding:"0",margin:"0",height:"100%",width:"100%",top:"0"};t[wLive.Controls.Notifications.InternalTools.Toolkit.isLtr()?"left":"right"]="0",n('<div id="notificationContainer" class="NotificationContainer" persist="1" aria-live="assertive" aria-atomic="false" aria-haspopup="true"><\/div>').css(t).prependTo("BODY")}}}(window.originaljQuery||jQuery),function(){$Do.register("NotificationControls")}(),window.define)for(files=["jquery.simplecallbacks.js","jquery.observable.js","jsrender.js","jquery.views.js","Queuing.js","Automation.js","NotificationBase.js","DropDown.js","NotificationBar.js","Flyout.js","ModalDialog.js","Toast.js","AriaSupport.js","DoRegister.js"],x=0;x<files.length;x++)define(files[x],[],function(){});window.JSDownload_notificationswithdropdown=1,function(n){function o(){return t.modalDialog&&!r&&(r=n(t.modalDialog.content())),r}function l(u,f){var l=wLive.Controls.Notifications,o=f&&f.join?f:[],s=a(i.clbk),h,v,e;if(s&&typeof s=="function")try{h=s(),o=h?o.concat(h):o}catch(y){}v=encodeURIComponent(o.join(",").substr(0,1e3)),t.modalDialog&&t.modalDialog.dismiss&&t.modalDialog.dismiss(),e="&theme=",window.$theme&&$theme.current?e+=$theme.current:$Config.Themes&&$Config.Themes.current?e+=$Config.Themes.current:e="",t.modalDialog=l.createModalDialog({content:c.format(u,document.domain,v,e),title:$f.createLoading({text:i.ldHd}),buttons:{action:i.cb}}),r=null,n(t.modalDialog).bind({"buttonclick.dialog":t._surveyCancelled}),t.modalDialog.show(),l.getQueue().start()}function a(t){if(t){var i=null;return n.each(t.split("."),function(n,t){return i=i?i[t]:s[t],i?void 0:!1}),i}}var s=window,t=s.$Feedback={},i=$Config.fdbk,e,h,r,u,f,c='<div id="fdbk_ctr"><iframe id="fdbk_frame" style="display: none" frameborder="0" src="/handlers/feedback.mvc?scid={0}&hostdm={1}&params={2}{3}"><\/iframe><\/div>';t.showSurvey=function(n,i,r,o){f=o,u=r,$BSI.reportEvent("View.Feedback.Shown",{SurveyId:n}),clearTimeout(h),l(n,i),e=setTimeout(t.onBadLoad,1e4)},t.hideSurvey=function(){t.modalDialog&&t.modalDialog.hide();var n=function(n){return function(){n&&n.dismiss&&n.dismiss()}};h=setTimeout(n(t.modalDialog),1e3)},t._surveySubmitted=function(n){t.hideSurvey(),u&&typeof u=="function"&&u(n)},t._showThankYou=function(){t._changeTitle(i.tyu)},t._changeTitle=function(n){var t=o();t&&t.find(".UserTitle").text(n)},t._surveyCancelled=function(){clearTimeout(e),t.hideSurvey(),f&&typeof f=="function"&&f()},t.isSurveyHidden=function(){return t.modalDialog?t.modalDialog.isHidden():null},t.doneLoading=function(t){var i,s;if(clearTimeout(e),i=o(),i){i.find(".ButtonArea").css({display:"none"});var h=i.height(),u=i.find("#fdbk_frame").css({display:"block",opacity:0,border:0,width:"100%"}),r=0;t.each(function(){var t=n(this).height();r=t>r?t:r});var f=Math.min(r,465),l=i.find(".OuterContainer").addClass("moveAndResize"),a=n(window).height(),c={height:f+h,top:(a-(f+h))/2};l.height(c.height),i.addClass("moveAndResize").css(c),s=function(n){u.css({height:f,opacity:1}),u.focus(),n&&wLive.Animations.fadeIn(u)},wLive.Animations.Enabled?setTimeout(function(){s(!0)},367):s(!1)}},t.onBadLoad=function(){var n=o();n&&(n.find(".UserTitle").text(i.errHd),n.find(".UserContent").text(i.errTxt)),$BSI.reportEvent("Log.WL.ErrorDisplayed",{WLErrorProduct:$Config.prop,WLErrorCode:"Feedback"})},$Do.register("$Feedback")}(window.originaljQuery||jQuery),function(){function r(n,t,i){var r=this;r.key=n,r.weight=t,r.order=i}function u(){function e(t,u,e){for(var p=[u].concat(u.split(" ")),s=new Array(t.length+2),d="(^|\\s"+(e?"|@":"")+(e?"":"|["+f.escapeRegex()+"]")+")",v,c,l,a,o=0;o<s.length;o++)s[o]=0;for(v=$B&&$B.IE&&$B.V<=8,o=0;o<p.length;o++)for(var w=p[o],b=n.accent.fold(v?t:n.japanese.map(t)).replace(new RegExp(d+"("+n.accent.fold(v?w:n.japanese.map(w)).escapeRegex()+")","ig"),"$1"+i+"$2"+r),k=0,h=0,y=0;(k=b.indexOf(i,h))!=-1;)for(h=b.indexOf(r,h+1),y+=2,c=k-y+2;c<h-y+1;c++)s[c+1]=1;for(l=[],o=1;o<s.length;o++)s[o]!=s[o-1]&&l.push(o-1);for(a=0,o=0;o<l.length;o++)a=l[o]+o,t=t.substr(0,a)+(o%2?r:i)+t.substr(a);return t}var t=this,u='<strong class="CL_Matched_Text t_elnk">',o="<\/strong>",i="",r="",f=" !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",s=new RegExp("["+f.escapeRegex()+"]","ig");t.accent=new function(){var t=this,n={a:/[\xE0-\xE4]/ig,e:/[\xE8-\xEB]/ig,i:/[\xED-\xEF]/ig,o:/[\xF3-\xF5]/ig,u:/[\xF9-\xFC]/ig,n:/\xF1/ig,y:/\xFF/ig,c:/\xE7/ig,s:/[\u015A-\u0161]/ig},i=/[\xE0-\xE4\xE8-\xEB\xED-\xEF\xF3-\xF5\xF9-\xFC\xF1\xFF\xE7\u015A-\u0161]/ig;t.fold=function(t){if(t.search(i)>=0){t=t.toLowerCase();for(var r in n)t=t.replace(n[r],r)}return t}},t.getSuffixStringsFor=function(n){var i=[],t=null,r=null;if(n)for(i.push(t=n.lTrim());(r=t.search(s))!=-1;)i.push(t=t.substring(r+1).lTrim());return i},t.isHighlighted=function(n){return n&&n.indexOf(u)-1},t.makeBold=function(t,f,s){var h=$B&&$B.IE&&$B.V<=8,c=!h&&n.korean.match(t)?n.korean.highlight(t,f):e(t,f,s);return c.encodeHtml().replace(new RegExp(i.encodeHtml(),"g"),u).replace(new RegExp(r.encodeHtml(),"g"),o)},t.japanese=new function(){function e(){var n=["(["],i;for(i in t)n.push(i);return n.push("])"),new RegExp(n.join(""),"g")}function o(){for(var t=["(["],n=0,r=i.length;n<r;n++)t.push(i[n]);return t.push("])"),new RegExp(t.join(""),"g")}var r=this,t={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z"},n={0:{val:"",regex:/^[\u304B]{1}[\u309B]{1}$/ig},1:{val:"",regex:/^[\u304D]{1}[\u309B]{1}$/ig},2:{val:"",regex:/^[\u304F]{1}[\u309B]{1}$/ig},3:{val:"",regex:/^[\u3051]{1}[\u309B]{1}$/ig},4:{val:"",regex:/^[\u3053]{1}[\u309B]{1}$/ig},5:{val:"",regex:/^[\u3055]{1}[\u309B]{1}$/ig},6:{val:"",regex:/^[\u3057]{1}[\u309B]{1}$/ig},7:{val:"",regex:/^[\u3059]{1}[\u309B]{1}$/ig},8:{val:"",regex:/^[\u305B]{1}[\u309B]{1}$/ig},9:{val:"",regex:/^[\u305D]{1}[\u309B]{1}$/ig},10:{val:"",regex:/^[\u305F]{1}[\u309B]{1}$/ig},11:{val:"",regex:/^[\u3061]{1}[\u309B]{1}$/ig},12:{val:"",regex:/^[\u3064]{1}[\u309B]{1}$/ig},13:{val:"",regex:/^[\u3066]{1}[\u309B]{1}$/ig},14:{val:"",regex:/^[\u3068]{1}[\u309B]{1}$/ig},15:{val:"",regex:/^[\u306F]{1}[\u309B]{1}$/ig},16:{val:"",regex:/^[\u3072]{1}[\u309B]{1}$/ig},17:{val:"",regex:/^[\u3075]{1}[\u309B]{1}$/ig},18:{val:"",regex:/^[\u3078]{1}[\u309B]{1}$/ig},19:{val:"",regex:/^[\u307B]{1}[\u309B]{1}$/ig},20:{val:"",regex:/^[\u306F]{1}[\u309C]{1}$/ig},21:{val:"",regex:/^[\u3072]{1}[\u309C]{1}$/ig},22:{val:"",regex:/^[\u3075]{1}[\u309C]{1}$/ig},23:{val:"",regex:/^[\u3078]{1}[\u309C]{1}$/ig},24:{val:"",regex:/^[\u307B]{1}[\u309C]{1}$/ig},25:{val:"",regex:/^[\u30AB]{1}[\u309C]{1}$/ig},26:{val:"",regex:/^[\u30AD]{1}[\u309C]{1}$/ig},27:{val:"",regex:/^[\u30AF]{1}[\u309C]{1}$/ig},28:{val:"",regex:/^[\u30B1]{1}[\u309C]{1}$/ig},29:{val:"",regex:/^[\u30B3]{1}[\u309C]{1}$/ig},30:{val:"",regex:/^[\u30B5]{1}[\u309C]{1}$/ig},31:{val:"",regex:/^[\u30B7]{1}[\u309C]{1}$/ig},32:{val:"",regex:/^[\u30B9]{1}[\u309C]{1}$/ig},33:{val:"",regex:/^[\u30BB]{1}[\u309C]{1}$/ig},34:{val:"",regex:/^[\u30BD]{1}[\u309C]{1}$/ig},35:{val:"",regex:/^[\u30BF]{1}[\u309C]{1}$/ig},36:{val:"",regex:/^[\u30C1]{1}[\u309C]{1}$/ig},37:{val:"",regex:/^[\u30C4]{1}[\u309C]{1}$/ig},38:{val:"",regex:/^[\u30C6]{1}[\u309C]{1}$/ig},39:{val:"",regex:/^[\u30C8]{1}[\u309C]{1}$/ig},40:{val:"",regex:/^[\u30CF]{1}[\u309B]{1}$/ig},41:{val:"",regex:/^[\u30D2]{1}[\u309B]{1}$/ig},42:{val:"",regex:/^[\u30D5]{1}[\u309B]{1}$/ig},43:{val:"",regex:/^[\u30D8]{1}[\u309B]{1}$/ig},44:{val:"",regex:/^[\u30DB]{1}[\u309B]{1}$/ig},45:{val:"",regex:/^[\u30CF]{1}[\u309C]{1}$/ig},50:{val:"",regex:/^[\uFF76]{1}[\uFF9E]{1}$/ig},51:{val:"",regex:/^[\uFF77]{1}[\uFF9E]{1}$/ig},52:{val:"",regex:/^[\uFF78]{1}[\uFF9E]{1}$/ig},53:{val:"",regex:/^[\uFF79]{1}[\uFF9E]{1}$/ig},54:{val:"",regex:/^[\uFF7A]{1}[\uFF9E]{1}$/ig},55:{val:"",regex:/^[\uFF7B]{1}[\uFF9E]{1}$/ig},56:{val:"",regex:/^[\uFF7C]{1}[\uFF9E]{1}$/ig},57:{val:"",regex:/^[\uFF7D]{1}[\uFF9E]{1}$/ig},58:{val:"",regex:/^[\uFF7E]{1}[\uFF9E]{1}$/ig},59:{val:"",regex:/^[\uFF7F]{1}[\uFF9E]{1}$/ig},60:{val:"",regex:/^[\uFF80]{1}[\uFF9E]{1}$/ig},61:{val:"",regex:/^[\uFF81]{1}[\uFF9E]{1}$/ig},62:{val:"",regex:/^[\uFF82]{1}[\uFF9E]{1}$/ig},63:{val:"",regex:/^[\uFF83]{1}[\uFF9E]{1}$/ig},64:{val:"",regex:/^[\uFF84]{1}[\uFF9E]{1}$/ig},65:{val:"",regex:/^[\uFF8A]{1}[\uFF9E]{1}$/ig},66:{val:"",regex:/^[\uFF8B]{1}[\uFF9E]{1}$/ig},67:{val:"",regex:/^[\uFF8C]{1}[\uFF9E]{1}$/ig},68:{val:"",regex:/^[\uFF8D]{1}[\uFF9E]{1}$/ig},69:{val:"",regex:/^[\uFF8E]{1}[\uFF9E]{1}$/ig},70:{val:"",regex:/^[\uFF8A]{1}[\uFF9F]{1}$/ig},71:{val:"",regex:/^[\uFF8B]{1}[\uFF9F]{1}$/ig},72:{val:"",regex:/^[\uFF8C]{1}[\uFF9F]{1}$/ig},73:{val:"",regex:/^[\uFF8D]{1}[\uFF9F]{1}$/ig},74:{val:"",regex:/^[\uFF8E]{1}[\uFF9F]{1}$/ig}},i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],u=e(),f=o();r.map=function(i){if(i.search(f)>=0){i=i.replace(u,function(n){return t[n]});for(var r in n)i=i.replace(n[r].regex,n[r].val)}return i}},t.korean=new function(){function u(n){return String.fromCharCode(n)}function p(){var n=["(["],t;for(t in f)n.push(t);return n.push("])"),new RegExp(n.join(""),"g")}var n=this,o=new RegExp("([\\uAC00-\\uD7AF])","g"),l=44032,s=4352,h=4449,c=4519,w=i,t=r,f={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},a=p(f),v=new RegExp("([\\u1100-\\u1112][\\u1161-\\u1175][\\u11A8-\\u11C2]{0,1})","g"),y=new RegExp("([\\u1100-\\u1112]"+t+"{0,1}[\\u1161-\\u1175]"+t+"{0,1}[\\u11A8-\\u11C2]{0,1})","g");n.expand=function(n){return n=n.replace(a,function(n){return f[n]}),n.replace(o,function(n){var t=n.charCodeAt(0)-l,i=Math.floor(t/588),f=Math.floor((t-i*588)/28),r=t%28;return u(i+s)+u(f+h)+(r?u(r+c):"")})},n.highlight=function(i,r){var f=e(n.expand(i),n.expand(r),0);return f.replace(y,function(n){return n.replace(t,"")+(n.match(t)?t:"")}).replace(v,function(n){var t=n.charCodeAt(0)-s,i=n.charCodeAt(1)-h,r=n.length>2?n.charCodeAt(2)-c:0;return u(t*588+i*28+r+44032)})},n.match=function(n){return n.match(o)}}}function f(t){function o(n){return function(t,i){for(var r=0,u=0;r<n.length&&!(u=n[r++](t,i)););return u}}function y(n,t){return r.compareParents(n.obj,t.obj)}function p(n,t){return n.bucket-t.bucket}function s(n,t){return v(n.obj,t.obj)}function w(n,t){return e(n.obj).length-e(t.obj).length}function b(n,t){return t.weight-n.weight}function k(n){for(var t=0,r;t<i.autoCompleteTokens.length;)r=h(i.autoCompleteTokens[t]),n.indexOf(r)==-1?i.autoCompleteTokens.splice(t,1):(n=n.replace(r,""),t++)}function h(n){return n}function c(n){return n=d(n),n.toLowerCase().trim().replace(a," ")}function d(n){for(var t=0;t<i.autoCompleteTokens.length;t++)n=n.replace(h(i.autoCompleteTokens[t]),"");return n}function l(t){var i=t;return $B&&$B.IE&&$B.V<=8||(i=n.korean.expand(n.japanese.map(t))),u.matchPrefix(n.accent.fold(i))}var i=this,u=null,f=[],a=/\s+/g,r=t,v=r.comparer,e=r.matchField;i.autoCompleteTokens=[],i.getMatches=function(n,t){var d,nt,f,it,st,ft;k(n);var g=c(n),h=[],v=null,u=null,i;if(g=="")return{result:[],query:n};for(v=l(g),i=0;i<v.length;i++)u=v[i],h.push({obj:u.obj,weight:e(u.obj).toLowerCase()==g?u.weight+1.5:u.weight,bucket:0});if(d=g.split(" "),d.length>1)for(i=0;i<d.length;i++)for(v=l(d[i]),nt=0;nt<v.length;nt++)u=v[nt],h.push({obj:u.obj,weight:u.weight-.1*Math.abs(i+1-u.order),bucket:i+1});if(f=[],h.length){it=r.compareParents?[y]:[],it.addRange([s,p]),h.sort(o(it));var a=null,tt=null,rt=null,ut=null,ht=d.length>1?d.length:0,et=function(n){a=n,tt=a.bucket,rt=tt==0?0:1},ot=function(){(!ut||r.isValid(ut.obj,a.obj))&&rt==ht&&f.push(ut=a)};for(et(h[0]),i=1;i<h.length;i++)u=h[i],s(a,u)?(ot(),et(u)):(a.weight=a.weight+u.weight,tt!=u.bucket&&(tt=u.bucket,rt++));ot()}for(st=r.finalSortFunction?r.finalSortFunction:w,f.sort(o([b,st])),f.length=Math.min(f.length,t),ft=new Array(f.length),i=0;i<f.length;i++)ft[i]=f[i].obj;return{result:ft,query:n}},i.normalizeTerm=function(t){return t=c(t),$B&&$B.IE&&$B.V<=8||(t=n.korean.expand(n.japanese.map(t))),n.accent.fold(t)},i.initialize=function(t,i,e){function c(){for(var w=Math.min(t.length,s+l),b,k,v,y,p,d,a=s;a<w;a++){for(b=t[a],k=r.getKeysAndWeights(b),i&&(o=[]),v=0;v<k.length;v++)y=k[v],p=y.key.toLowerCase().trim(),h||(p=n.korean.expand(n.japanese.map(p))),d=u.insert(n.accent.fold(p),{obj:t[a],weight:y.weight,order:y.order}),i&&o.push(d);i&&(f[r.getUniqueKey(b)]=o)}w<t.length?(s=w,setTimeout(c,h?0:100)):(u.sort(),e&&e())}u=u||new $Trie;var o=null,h=$B&&$B.IE&&$B.V<=8,l=e?100:t.length,s=0;c()},i.remove=function(n){var t,o,e,i,r,s;for(u=u||new $Trie,t=0,o=n.length;t<o;t++)if(e=n[t],i=f[e],i){for(r=0,s=i.length;r<s;r++)u.remove(i[r]);delete f[e]}}}var i=window,t=i.wLive,n;t.Search=t.Search||{},t.Search.RankSearchKeyWeight=r,n=t.Search.Helpers=new u,t.Search.Indexer=f,$Do.register("wlxsearchshared")}()